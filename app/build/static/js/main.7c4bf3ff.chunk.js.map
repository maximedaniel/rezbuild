{"version":3,"sources":["../../common/index.js","SocketContext.js","signin/index.js","signup/index.js","navbar/settings/index.js","navbar/index.js","home/projectList/createProject/index.js","home/projectList/joinProject/index.js","home/projectList/removeProject/index.js","home/projectList/index.js","home/index.js","project/dashboard/trello/card/removeTask/index.js","project/dashboard/trello/card/createTask/index.js","project/dashboard/trello/card/index.js","project/dashboard/trello/backlogTaskForm/index.js","project/dashboard/trello/todoTaskForm/index.js","project/dashboard/trello/doneTaskForm/index.js","project/dashboard/trello/index.js","project/dashboard/RadarRechart/index.js","project/dashboard/ComputeVersion/index.js","project/dashboard/ModelViewer/index.js","project/dashboard/IndicatorExplorer/index.js","project/dashboard/fileExplorer/index.js","project/dashboard/graph/index.js","project/dashboard/team/addUser/index.js","project/dashboard/team/index.js","project/dashboard/projectInformation/index.js","project/dashboard/VersionComparator/index.js","project/dashboard/index.js","project/index.js","technologyLibrary/index.js","App.js","index.js","registerServiceWorker.js"],"names":["common","LANES","BACKLOG","TODO","DONE","ROLES","CUSTOMER","name","description","actions","ANALYST","DESIGNER","STATUS","INIT","MODEL_ASIS","MODEL_TOBE","KPI_ECONOMICAL_ASIS","KPI_SOCIAL_ASIS","KPI_ENERGICAL_ASIS","KPI_COMFORT_ASIS","KPI_ECONOMICAL_TOBE","KPI_SOCIAL_TOBE","KPI_ENERGICAL_TOBE","KPI_COMFORT_TOBE","ACTIONS","names","formats","typeValues","Object","values","minValues","maxValues","priorities","Number","Boolean","module","exports","SocketContext","React","createContext","axios","defaults","withCredentials","$","window","SigninFormCore","props","_this","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","handleSubmit","bind","assertThisInitialized","state","error","pending","document","ready","tooltip","delay","html","event","_this2","preventDefault","setState","socket","emit","refs","email","value","password","res","user","params","_id","filter","update","$push","users","projects","browserHistory","push","_this3","react_default","a","createElement","className","style","paddingTop","padding","fontSize","src","alt","maxHeight","onSubmit","id","ref","type","autoComplete","required","htmlFor","onClick","Component","SigninForm","src_SocketContext","Consumer","context","signin_SigninFormCore","assign","uploader","SignupFormCore","material_select","create","firstname","charAt","toUpperCase","toLowerCase","slice","lastname","roles","map","val","get","multiple","defaultValue","keys","disabled","entries","_ref","_ref2","slicedToArray","key","class","SignupForm","signup_SignupFormCore","Materialize","SettingsFormCore","cancel","role","index","prop","updateTextFields","on","modal","settingsFormBody","marginBottom","lineHeight","href","SettingsForm","settings_SettingsFormCore","NavbarCore","handleSignout","sideNav","prevProps","prevState","pathComponent","path","level","es","to","fontWeight","hasOwnProperty","join","data-activates","display","settings","NavbarComponent","navbar_NavbarCore","CreateProjectFormCore","submit","owner","forEach","action","project","lane","content","date","Date","tabs","step","min","max","CreateProjectForm","createProject_CreateProjectFormCore","JoinProjectFormCore","handleJoinProject","$nin","data","String","autocomplete","_this4","projectname","split","_this5","off","preloaderComponent","errorComponent","unauthorizedprojectlistComponent","placeholder","JoinProjectForm","joinProject_JoinProjectFormCore","RemoveProjectFormCore","handleRemoveProject","$pull","RemoveProjectForm","removeProject_RemoveProjectFormCore","ProjectListCore","$in","projectListComponent","actionComponent","toString","marginLeft","removeProject","marginTop","createProject","joinProject","ProjectListComponent","projectList_ProjectListCore","RezbuildCore","navbar","projectList","RezbuildComponent","home_RezbuildCore","RemoveTaskFormCore","dismissible","task","RemoveTaskForm","removeTask_RemoveTaskFormCore","CreateTaskFormCore","startDate","endDate","handleStartDateChange","handleEndDateChange","options","o","selected","tasks","taskFormBody","NEW_MODEL_ASIS","react_datepicker_es","selectsStart","maxDate","onChange","selectsEnd","minDate","CreateTaskForm","createTask_CreateTaskFormCore","CardComponent","onIn","onOut","hover","css","trigger","onMouseOver","draggable","onMouseOut","minWidth","width","maxWidth","color","backgroundColor","fontFamily","textShadow","borderStyle","dashed","borderColor","focused","borderWidth","opacity","userDetails","toLocaleDateString","transition","overflow","pointerEvents","toLocaleString","removeTask","createTask","BacklogTaskFormCore","nextTaskIds","descend","taskId","next","nextTaskId","prev","formBody","body","minHeight","BacklogTaskForm","backlogTaskForm_BacklogTaskFormCore","TodoTaskFormCore","files","selectedTask","newTask","_user$roles","includes","apply","toConsumableArray","TodoTaskForm","todoTaskForm_TodoTaskFormCore","allAttachedFiles","uploadedAttachedFiles","DoneTaskFormCore","generateForm","minValue","maxValue","accept","newTaskId","progress","valuesRefName","filesRefName","file","length","sanitize","submitFiles","addEventListener","meta","bytesLoaded","size","toFixed","removeEventListener","DoneTaskForm","doneTaskForm_DoneTaskFormCore","normalCardStyle","lanesStyle","TrelloComponent","eventBus","handleDragEnd","onTaskChange","onCardClick","setEventBus","handle","nextData","cardId","metadata","laneId","sourceLaneId","targetLaneId","position","cardDetails","fromLaneId","toLaneId","publish","notInitTasks","getRolesForTask","doneCards","doneTask","prevTaskIds","ascend","prevTaskId","todoCards","todoTask","lanes","title","label","cards","backlogTask","aTodoCardIsDraggable","todoCard","actionIsAvailableForUser","reduce","accumulator","currentValue","concat","nextTasks","nextTask","trelloComponent","backlogTaskFormComponent","todoTaskFormComponent","doneTaskFormComponent","createTaskFormComponent","createTaskButtonComponent","components","Card","laneDraggable","dist_default","eventBusHandle","onDataChange","cardStyle","backlogTaskForm","setTask","todoTaskForm","doneTaskForm","RadarRechartComponent","outerRadius","Math","round","height","seriesID","es6","parentWidth","margin","top","right","bottom","left","dataKey","angle","domain","serieID","isAnimationActive","stroke","strokeWidth","fill","fillOpacity","highlightedTask","strokeOpacity","dot","paintOrder","strokeLinecap","strokeLinejoin","ComputeVersion","economicalDatum","category","energicalDatum","_len","arguments","taskList","Array","_key","fetchRelevantTasks","economicalTask","i","indicator","score","datum","defineProperty","prevDatum","objectSpread","energicalTask","getFirstParentTaskWithAction","prevTasks","resTasks","prevTask","getLastChildTaskWithAction","refTask","modelTask","socialTask","comfortTask","ModelViewerCore","openFullscreen","elem","requestFullscreen","mozRequestFullScreen","webkitRequestFullscreen","msRequestFullscreen","modelMode","border","zIndex","location","protocol","host","frameBorder","allowFullScreen","data-position","data-tooltip","e","ModelViewerComponent","ModelViewer_ModelViewerCore","IndicatorExplorerCore","filename","IndicatorExplorerComponent","IndicatorExplorer_IndicatorExplorerCore","FileExplorerCore","environmentalTask","environmentalMode","economicalMode","socialMode","energicalMode","comfortMode","renderKPIsOfTask","fetchFiles","KpiFileExplorer","economicalKpiViewer","socialKpiViewer","environmentalKpiViewer","comfortKpiViewer","energicalKpiViewer","kpiScores","computeScoreOfRelevantTask","paddingRight","paddingBottom","moment","format","ModelViewer","IndicatorExplorer","kpiScore","vx_responsive_es","parent","RadarRechart","parentTop","parentLeft","parentRef","resizeParent","resize","FileExplorerComponent","fileExplorer_FileExplorerCore","GraphComponent","did","selectedTasks","nodes","links","countNodeAtDepthLevel","countNodeByDepthLevel","getNodesAtDepthLevel","isActive","isMultiple","duration","svg","d3","extraMax","extraMin","selectAll","attr","d","n","addTask","x","y","handleClassName","compareMode","rootNode","depthLevel","b","bottomHit","nbNodeByDepthLevel","nbNodeAtDepthLevel","rootTask","computeHeightOfNode","ans","total","computeWidthOfGraph","totalWidth","iterate","currTask","nextX","nextY","sort","nextHeight","source","target","draw","remove","curve","append","enter","sizeLabel","sizeSubLabel","classed","toggleCompareMode","AddUserFormCore","handleAddUser","handleCopyUrl","select","execCommand","username","trim","usersComponent","AddUserForm","addUser_AddUserFormCore","TeamCore","addUserFormComponent","addUserButtonComponent","collaborator","addUser","TeamComponent","team_TeamCore","ProjectInformationCore","is","generalInformation","needsInformation","buildingInformation","geometryInformation","envelopeInformation","projectInformation","saveButton","address","city","country","degree","climat","refurbishmentExpectations","energyConsumptionExpectations","environmentalExpectations","economicalExpectations","socialExpectations","comfortExpectations","defaultChecked","homeDuringRenovation","differentLocationDuringRenovation","elevatorInstallation","improvedAccessibility","reductionBillAmount","moreHomeSpaces","brighterEnvironments","extraServiceRoom","heatingUpgrading","coolingUpgrading","ventilationUpgrading","consumptionControl","eliminitationAirInfiltration","shadingUpgrading","airQualityImprovement","noiseReduction","exposure","home","year","gradation","property","buildingTaxonomy","floors","interFloorHeight","floorNumber","apartmentByFloor","totalFloorsBuilding","footprintBuilding","totalUsefulSurface","linearDimensionN","linearDimensionNE","linearDimensionE","linearDimensionSE","linearDimensionS","linearDimensionSW","linearDimensionW","linearDimensionNW","floorAdjacent","ceilingAdjacent","wallAdjacent","windowsN","windowsNE","windowsE","windowsSE","windowsS","windowsSW","windowsW","windowsNW","windowsDoorN","windowsDoorNE","windowsDoorE","windowsDoorSE","windowsDoorS","windowsDoorSW","windowsDoorW","windowsDoorNW","typeGlass","typeFrame","rollerShutterBoxes","externalShields","presenceBalcony","ProjectInformationComponent","projectInformation_ProjectInformationCore","MutationObserver","WebKitMutationObserver","MozMutationObserver","fn","attrchange","callback","subtree","attributes","observer","mutations","attributeName","each","observe","VersionComparatorCore","categories","series","compareVersions","highlightTask","scrollTo","carousel","noWrap","attrName","taskToHighlight","click","currentTarget","getTime","VersionComparatorComponent","VersionComparator_VersionComparatorCore","DashboardCore","fetchTasks","fetchUsers","fetchUser","_this6","loaderComponent","marginRight","checked","overflowX","whiteSpace","graph","VersionComparator","fileExplorer","trello","rel","team","dashboard_projectInformation","DashboardComponent","dashboard_DashboardCore","ProjectCore","dashboard","ProjectComponent","project_ProjectCore","customStyles","option","provided","isSelected","control","borderRadius","boxShadow","&:hover","multiValue","styles","multiValueLabel","multiValueRemove","_ref3",":hover","TechnologyLibraryCore","technologies","selectedCategories","fetch","handleChange","family","company","allCategories","Set","item","react_select_browser_esm","isMulti","data-badge-caption","TechnologyLibraryComponent","technologyLibrary_TechnologyLibraryCore","App","indexOf","replace","io","SocketIOFileUpload","background","backgroundSize","Provider","history","component","ReactDOM","render","src_App","getElementById","navigator","swUrl","process","serviceWorker","register","then","registration","onupdatefound","installingWorker","installing","onstatechange","controller","console","log","catch"],"mappings":"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","file":"static/js/main.7c4bf3ff.chunk.js","sourcesContent":["var common = {\n  LANES: {\n    BACKLOG: 'lane_backlog',\n    TODO: 'lane_todo',\n    DONE: 'lane_done'\n  },\n  ROLES: {\n    CUSTOMER: {\n      name: 'Customer',\n      description: 'A customer...',\n      actions: []\n    },\n    ANALYST: {\n      name: 'Analyst',\n      description: 'An analyst...',\n      actions: ['KPI_ECONOMICAL_ASIS', 'KPI_SOCIAL_ASIS', 'KPI_ENERGICAL_ASIS', 'KPI_COMFORT_ASIS', 'KPI_ECONOMICAL_TOBE', 'KPI_SOCIAL_TOBE', 'KPI_ENERGICAL_TOBE', 'KPI_COMFORT_TOBE']\n    },\n    DESIGNER: {\n      name: 'Designer',\n      description: 'A designer...',\n      actions: ['MODEL_ASIS', 'MODEL_TOBE']\n    }\n  },\n  STATUS: {\n    INIT: ['MODEL_ASIS'],\n    MODEL_ASIS: ['MODEL_ASIS', 'KPI_ECONOMICAL_ASIS', 'KPI_SOCIAL_ASIS', 'KPI_ENERGICAL_ASIS', 'KPI_COMFORT_ASIS', 'MODEL_TOBE'],\n    MODEL_TOBE: ['MODEL_TOBE', 'KPI_ECONOMICAL_TOBE', 'KPI_SOCIAL_TOBE', 'KPI_ENERGICAL_TOBE', 'KPI_COMFORT_TOBE'],\n    KPI_ECONOMICAL_ASIS: ['KPI_ECONOMICAL_ASIS'],\n    KPI_SOCIAL_ASIS: ['KPI_SOCIAL_ASIS'],\n    KPI_ENERGICAL_ASIS: ['KPI_ENERGICAL_ASIS'],\n    KPI_COMFORT_ASIS: ['KPI_COMFORT_ASIS'],\n    KPI_ECONOMICAL_TOBE: ['KPI_ECONOMICAL_TOBE'],\n    KPI_SOCIAL_TOBE: ['KPI_SOCIAL_TOBE'],\n    KPI_ENERGICAL_TOBE: ['KPI_ENERGICAL_TOBE'],\n    KPI_COMFORT_TOBE: ['KPI_COMFORT_TOBE']\n  },\n  ACTIONS: {\n    MODEL_ASIS: {\n      description: ['Upload the 3D model of the building as it is.'],\n      names: ['ASIS model'],\n      formats: ['.ifc'],\n      typeValues: [Object],\n      values: [''],\n      minValues: [''],\n      maxValues: [''],\n      priorities: [true]\n    },\n    KPI_ECONOMICAL_ASIS: {\n      description: ['Assess the economical quality of the 3D model of the building as it is.'],\n      names: ['Payback period', 'Internal rate of return', 'Life cycle cost', 'Net present value', 'Return on rquity', 'Incremental discounted payback period', 'Change in value of buildings property', 'Payback time', 'Return on investments', 'Annual costs'],\n      formats: ['years', '%', 'k€', '€', '%', 'years', '€', 'years', '%', '€'],\n      typeValues: [Number, Number, Number, Number, Number, Number, Number, Number, Number, Number],\n      minValues: [25, 5, 0, 0, 5, 5, 0, 5, 0, 0],\n      values: [25, 5, 0, 0, 5, 5, 0, 5, 0, 0],\n      maxValues: [5, 25, 200, 1000000, 25, 25, 100, 25, 25, 3000],\n      priorities: [true, true, true, false, false, false, false, false, false, false]\n    },\n    KPI_ENERGICAL_ASIS: {\n      description: ['Assess the energy quality of the 3D model of the building as it is.'],\n      names: [\"Primary electric energy demand\", \"Primary thermal energy demand\", \"Total electric and thermal energy consumption per gross surface unit\", \"Primary energy demand reduction\", \"Electrical energy bill per gross internal surface unit\", \"Thermal energy bill per gross internal surface unit\", \"Building heat transfer coefficient (U value)\", \"Electric energy consumption per gross surface unit\", \"Use of renewable energy\", \"Thermal energy consumption per gross surface unit\", \"Reduction in annual final energy consumption\", \"Percentage of Renewable energy use\", \"Reduction in lifecycle CO2 emissions in tonnes\", \"Energy savings\", \"Reduction of CO2\", \"Annual final energy consumption\", \"Sustainable resource use\", \"Carbon dioxide emission in tonnes reduction\", \"Energy class of the building\"],\n      //38\n      formats: [\"toe\", \"toe\", \"(toe/m2* y)*1000\", \"%\", \"€/ m2 *y\", \"€/ m2 *y\", \"kW/m2/K\", \"kWhe/m2 *y\", \"\", \"kWht/m2 *y\", \"% in kWh\", \"%\", \"%\", \"kWh\", \"tCO2\", \"kWh/y\", \"% \", \"%\", \"A-G\"],\n      typeValues: [Number, Number, Number, Number, Number, Number, Number, Number, Boolean, Number, Number, Number, Number, Number, Number, Number, Number, Number, Number],\n      minValues: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],\n      values: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],\n      maxValues: [2, 2, 4, 100, 40, 100, 10, 200, 1, 500, 100, 100, 100, 15000, 5, 15000, 100, 100, 6],\n      priorities: [false, false, false, true, false, false, false, true, false, true, true, true, false, false, false, true, false, true, true]\n    },\n    KPI_SOCIAL_ASIS: {\n      description: ['Assess the social quality of the 3D model of the building as it is.'],\n      names: [\"Occupant satisfaction\", \"Arrears on utility bills\", \"Hidden energy poverty\", \"High share of energy expenditure in income\", \"Inability to keep home adequately warm\", \"Fuel oil prices\", \"Biomass prices\", \"Household electricity prices\", \"District heating prices\", \"Household gas prices\", \"Dwelling comfortably cool during summer time\", \"Dwelling comfortably warm during winter time\", \"Presence of leak, damp, rot\", \"Installation time reduction\"],\n      //38\n      formats: ['pts', 'months', '€', '€', '%', '€', '€', '€c', '€c', '€', 'pts', 'pts', '', '%'],\n      typeValues: [Number, Number, Number, Number, Number, Number, Number, Number, Number, Number, Number, Number, Boolean, Number],\n      minValues: [1, 1, 0, 0, 0, 0, 0, 5, 2, 0, 1, 1, 0, 0],\n      values: [1, 1, 0, 0, 0, 0, 0, 5, 2, 0, 1, 1, 0, 0],\n      maxValues: [5, 3, 1000000, 1000000, 100, 1000000, 1000000, 30, 20, 1000000, 5, 5, 1, 100],\n      priorities: [true, false, false, false, false, false, true, false, false, false, true, false, false, false]\n    },\n    KPI_COMFORT_ASIS: {\n      description: ['Assess the comfort quality of the 3D model of the building as it is.'],\n      names: [\"Room temperature\", \"Thermal comfort / Humidity\", \"CO2 concentration\", \"Formaldehyde (HCHO) concentration\", \"% time inside the hygrothermal zone\", \"Total VOCs (PM2.5, PM10, PM20)\"],\n      //38\n      formats: ['°C', '%', 'mg/m3, ppm', 'mg/m3, ppm', '%', 'ug/m3, ppm'],\n      typeValues: [Number, Number, Number, Number, Number, Number],\n      minValues: [5, 30, 200, 0, 0, 0],\n      values: [5, 30, 200, 0, 0, 0],\n      maxValues: [45, 100, 2000, 2000, 100, 100],\n      priorities: [false, true, false, true, false, false]\n    },\n    MODEL_TOBE: {\n      description: ['Upload the 3D model of the building as it will be.'],\n      names: ['TOBE model'],\n      formats: ['.ifc'],\n      typeValues: [Object],\n      values: [''],\n      minValues: [''],\n      maxValues: [''],\n      priorities: [true]\n    },\n    KPI_ECONOMICAL_TOBE: {\n      description: ['Assess the economical quality of the 3D model of the building as it will be.'],\n      names: ['Payback period', 'Internal rate of return', 'Life cycle cost', 'Net present value', 'Return on rquity', 'Incremental discounted payback period', 'Change in value of buildings property', 'Payback time', 'Return on investments', 'Annual costs'],\n      formats: ['years', '%', 'k€', '€', '%', 'years', '€', 'years', '%', '€'],\n      typeValues: [Number, Number, Number, Number, Number, Number, Number, Number, Number, Number],\n      minValues: [25, 5, 0, 0, 5, 5, 0, 5, 0, 0],\n      values: [25, 5, 0, 0, 5, 5, 0, 5, 0, 0],\n      maxValues: [5, 25, 200, 1000000, 25, 25, 100, 25, 25, 3000],\n      priorities: [true, true, true, false, false, false, false, false, false, false]\n    },\n    KPI_ENERGICAL_TOBE: {\n      description: ['Assess the energy quality of the 3D model of the building as it will be.'],\n      names: [\"Primary electric energy demand\", \"Primary thermal energy demand\", \"Total electric and thermal energy consumption per gross surface unit\", \"Primary energy demand reduction\", \"Electrical energy bill per gross internal surface unit\", \"Thermal energy bill per gross internal surface unit\", \"Building heat transfer coefficient (U value)\", \"Electric energy consumption per gross surface unit\", \"Use of renewable energy\", \"Thermal energy consumption per gross surface unit\", \"Reduction in annual final energy consumption\", \"Percentage of Renewable energy use\", \"Reduction in lifecycle CO2 emissions in tonnes\", \"Energy savings\", \"Reduction of CO2\", \"Annual final energy consumption\", \"Sustainable resource use\", \"Carbon dioxide emission in tonnes reduction\", \"Energy class of the building\"],\n      //38\n      formats: [\"toe\", \"toe\", \"(toe/m2* y)*1000\", \"%\", \"€/ m2 *y\", \"€/ m2 *y\", \"kW/m2/K\", \"kWhe/m2 *y\", \"\", \"kWht/m2 *y\", \"% in kWh\", \"%\", \"%\", \"kWh\", \"tCO2\", \"kWh/y\", \"% \", \"%\", \"A-G\"],\n      typeValues: [Number, Number, Number, Number, Number, Number, Number, Number, Boolean, Number, Number, Number, Number, Number, Number, Number, Number, Number, Number],\n      minValues: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],\n      values: [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 6],\n      maxValues: [2, 2, 4, 100, 40, 100, 10, 200, 1, 500, 100, 100, 100, 15000, 5, 15000, 100, 100, 'A'],\n      priorities: [false, false, false, true, false, false, false, true, false, true, true, true, false, false, false, true, false, true, true]\n    },\n    KPI_SOCIAL_TOBE: {\n      description: ['Assess the social quality of the 3D model of the building as it will be.'],\n      names: [\"Occupant satisfaction\", \"Arrears on utility bills\", \"Hidden energy poverty\", \"High share of energy expenditure in income\", \"Inability to keep home adequately warm\", \"Fuel oil prices\", \"Biomass prices\", \"Household electricity prices\", \"District heating prices\", \"Household gas prices\", \"Dwelling comfortably cool during summer time\", \"Dwelling comfortably warm during winter time\", \"Presence of leak, damp, rot\", \"Installation time reduction\"],\n      //38\n      formats: ['pts', 'months', '€', '€', '%', '€', '€', '€c', '€c', '€', 'pts', 'pts', '', '%'],\n      typeValues: [Number, Number, Number, Number, Number, Number, Number, Number, Number, Number, Number, Number, Boolean, Number],\n      minValues: [1, 1, 0, 0, 0, 0, 0, 5, 2, 0, 1, 1, 0, 0],\n      values: [1, 1, 0, 0, 0, 0, 0, 5, 2, 0, 1, 1, 0, 0],\n      maxValues: [5, 3, 1000000, 1000000, 100, 1000000, 1000000, 30, 20, 1000000, 5, 5, 1, 100],\n      priorities: [true, false, false, false, false, false, true, false, false, false, true, false, false, false]\n    },\n    KPI_COMFORT_TOBE: {\n      description: ['Assess the comfort quality of the 3D model of the building as it will be.'],\n      names: [\"Room temperature\", \"Thermal comfort / Humidity\", \"CO2 concentration\", \"Formaldehyde (HCHO) concentration\", \"% time inside the hygrothermal zone\", \"Total VOCs (PM2.5, PM10, PM20)\"],\n      //38\n      formats: ['°C', '%', 'mg/m3, ppm', 'mg/m3, ppm', '%', 'ug/m3, ppm'],\n      typeValues: [Number, Number, Number, Number, Number, Number],\n      minValues: [5, 30, 200, 0, 0, 0],\n      values: [5, 30, 200, 0, 0, 0],\n      maxValues: [45, 100, 2000, 2000, 100, 100],\n      priorities: [false, true, false, true, false, false]\n    }\n  }\n};\nmodule.exports = common;","import React from 'react'\r\n\r\nconst SocketContext = React.createContext()\r\n\r\nexport default SocketContext","/**\r\n * @class SigninForm\r\n * @extends Component\r\n * @description Create the sign in form\r\n */\r\n\r\nimport React, { Component } from 'react'\r\nimport axios from 'axios'\r\nimport {browserHistory} from 'react-router'\r\nimport SocketContext from '../SocketContext'\r\naxios.defaults.withCredentials = true\r\n\r\nvar $ = window.$\r\n\r\nclass SigninFormCore extends Component {\r\n\r\n  constructor(props){\r\n   super(props);\r\n   this.handleSubmit = this.handleSubmit.bind(this);\r\n   this.state = {error : false, pending : false}\r\n  }\r\n\r\n  componentDidMount() {\r\n     $(document).ready(function() {\r\n      $('.tooltipped').tooltip({delay:0, html:true});\r\n        \r\n     });\r\n  }\r\n  componentWillUnmount(){\r\n    $('.tooltipped').tooltip('remove');\r\n  }\r\n\r\n   // Sign in the user\r\n  handleSubmit(event){\r\n   event.preventDefault();\r\n   this.setState({error : false, pending : true}, () => {\r\n    this.props.socket.emit('/api/signin', this.refs.email.value, this.refs.password.value, res => {\r\n            if (res.user) {\r\n                if (this.props.params._id){\r\n                    var filter = {_id: this.props.params._id}\r\n                    var update = {\"$push\" : {users : res.user._id}}\r\n                    this.props.socket.emit('/api/project/update', filter, update, res => {\r\n                        if (res.projects) {\r\n                            this.setState({error : false, pending : false}, () => {\r\n                                browserHistory.push('/')\r\n                            })\r\n                        }\r\n                        if (res.error) {\r\n                            this.setState({error : res.error, pending : false});\r\n                        }\r\n                    });\r\n                }\r\n                else {\r\n                    this.setState({error : null, pending : false}, () => {\r\n                        browserHistory.push('/')\r\n                    });\r\n                }\r\n            }\r\n            if(res.error){\r\n                this.setState({error : res.error, pending : false});\r\n            }\r\n    });\r\n  });\r\n  }\r\n\r\n  render() {\r\n     return (\r\n    <div className=\"row\" style={{paddingTop:'25vh'}}>\r\n          <div className=\"col push-l4 l4 push-m3 m6 push-s1 s10 center white z-depth-1\" style={{padding:'0rem', fontSize:'0'}}>\r\n              <div className=\"col s12 rezbuild white-text\">\r\n                <div className=\"col s6 left-align\">\r\n                  <h5 className=\"header\">Sign in</h5>\r\n                </div>\r\n                <div className=\"col s6 right-align\">\r\n                <img src=\"/img/jpg/logo.jpg\" alt='logo' style={{maxHeight:'4rem'}} />\r\n                </div>\r\n              </div> \r\n             <form className=\"col s12\" onSubmit={this.handleSubmit}>\r\n                <div className=\"input-field col s12\">\r\n                      <input id=\"input_email\" name='email' ref=\"email\" type=\"email\" autoComplete=\"username email\" required/>\r\n                      <label htmlFor=\"input_email\">Email</label>\r\n                </div>\r\n                <div className=\"input-field col s12\">\r\n                      <input id=\"input_password\" name='password' ref=\"password\" type=\"password\" autoComplete=\"current-password\" required/>\r\n                      <label htmlFor=\"input_password\">Password</label>\r\n                </div>\r\n\r\n                { this.state.pending ?\r\n                 <div className=\"preloader-wrapper small active\">\r\n                    <div className=\"spinner-layer\">\r\n                      <div className=\"circle-clipper left\">\r\n                        <div className=\"circle\"></div>\r\n                      </div><div className=\"gap-patch\">\r\n                        <div className=\"circle\"></div>\r\n                      </div><div className=\"circle-clipper right\">\r\n                        <div className=\"circle\"></div>\r\n                      </div>\r\n                    </div>\r\n                  </div> : ''\r\n                }\r\n\r\n                { this.state.error ?\r\n                <div className=\"row\">\r\n                    <div className=\"col s12\">\r\n                        <h6 className='rezbuild-text'>{this.state.error}</h6>\r\n                    </div>\r\n                </div> : ''\r\n                }\r\n                <div className=\"row\">\r\n                    <div className=\"col s6\">\r\n                          <button className=\"btn waves-effect waves-light\">  SUBMIT  <i className=\"material-icons right\">send</i></button>\r\n                    </div>\r\n                    <div className=\"col s6\">\r\n                          <button className=\"btn waves-effect waves-light white rezbuild-text\" onClick={() => browserHistory.push( ((this.props.params._id) ? ('/' + this.props.params._id):'') +'/signup')}> <i className=\"material-icons left\">person_add</i> SIGN UP</button>\r\n                          </div>\r\n                </div>\r\n          </form >\r\n          </div>\r\n    </div>\r\n    );\r\n  }\r\n}\r\nconst SigninForm = props => (\r\n  <SocketContext.Consumer>\r\n  { (context) => <SigninFormCore {...props} socket={context.socket} uploader={context.uploader} />}\r\n  </SocketContext.Consumer>\r\n)\r\n\r\nexport default SigninForm","/**\r\n * @class SignupForm\r\n * @extends Component\r\n * @description Create the sign up form\r\n */\r\nimport React, { Component } from 'react'\r\nimport {browserHistory} from 'react-router'\r\nimport SocketContext from '../SocketContext'\r\nimport common from 'common'\r\nvar $ = window.$\r\n\r\nclass SignupFormCore extends Component {\r\n\r\n  constructor(props){\r\n   super(props);\r\n   this.handleSubmit = this.handleSubmit.bind(this);\r\n   this.state = {error : false, pending : false}\r\n  }\r\n\r\n  componentDidMount() {\r\n      $(document).ready(function() {\r\n        $('select').material_select();\r\n        $('.tooltipped').tooltip({delay:0, html:true});\r\n      });\r\n  }\r\n componentWillUnmount(){\r\n   $('.tooltipped').tooltip('remove');\r\n }\r\n\r\n \r\n   // Sign up the user\r\n  handleSubmit(event){\r\n   event.preventDefault();\r\n   this.setState({error : false, pending : true}, () => {\r\n        var create = {\r\n            email : this.refs.email.value,\r\n            password : this.refs.password.value,\r\n            firstname : this.refs.firstname.value.charAt(0).toUpperCase() + this.refs.firstname.value.toLowerCase().slice(1),\r\n            lastname : this.refs.lastname.value.toUpperCase(),\r\n            roles : $(\"#select_signup_roles  option:selected\").map(function() {return $(this).val();}).get(),\r\n        }\r\n        this.props.socket.emit('/api/signup', create, res => {\r\n            if (res.user) {\r\n                this.setState({error : false, pending : false}, () =>{\r\n                    browserHistory.push(((this.props.params._id) ? ('/' + this.props.params._id):'') +'/signin')\r\n                })\r\n            }\r\n            if(res.error){\r\n                this.setState({user : null, error : res.error, pending : false});\r\n            }\r\n        });\r\n   })\r\n  };\r\n\r\n  render() {\r\n\r\n    return (\r\n    <div className=\"row\" style={{paddingTop:'8vh'}}>\r\n          <div className=\"col push-l4 l4 push-m3 m6 push-s1 s10 center white z-depth-1\" style={{padding:'0rem', fontSize:'0'}}>\r\n          <div className=\"col s12 rezbuild white-text\">\r\n                <div className=\"col s6 left-align\">\r\n                  <h5 className=\"header\">Sign up</h5>\r\n                </div>\r\n                <div className=\"col s6 right-align\">\r\n                <img src=\"/img/jpg/logo.jpg\" alt='logo' style={{maxHeight:'4rem'}} />\r\n                </div>\r\n              </div> \r\n          <form className=\"col s12\" onSubmit={this.handleSubmit}>\r\n                    <div className=\"input-field col s12\">\r\n                        <input  id=\"input_firstname\" ref=\"firstname\" name=\"firstname\" type=\"text\" required/>\r\n                        <label htmlFor=\"input_firstname\">First name</label>\r\n                    </div>\r\n                    <div className=\"input-field col s12\">\r\n                        <input  id=\"input_lastname\" ref=\"lastname\" name=\"lastname\" type=\"text\" required/>\r\n                        <label htmlFor=\"input_lastname\">Last name</label>\r\n                    </div>\r\n                      <div className=\"input-field col s12\">\r\n                        <select multiple required defaultValue={[ Object.keys(common.ROLES)[0]]} id=\"select_signup_roles\" ref=\"select_signup_roles\" >\r\n                          <option value=\"\" disabled>Choose your role(s)</option>\r\n                          {\r\n                            Object.entries(common.ROLES).map( ([key, value]) => {\r\n                              return <option name=\"roles\" value={key} id={'signup_role_'+key} key={key}>{value.name}</option>\r\n                            })\r\n                          }\r\n                        </select>\r\n                        <label>Role(s)</label>\r\n                      </div>\r\n                    <div className=\"input-field col s12\">\r\n                          <input id=\"input_email\" ref=\"email\" name=\"email\" type=\"email\"  required/>\r\n                          <label htmlFor=\"input_email\">Email</label>\r\n                    </div>\r\n                    <div className=\"input-field col s12\">\r\n                          <input id=\"input_password\" ref=\"password\" type=\"password\" name=\"password\" required/>\r\n                          <label htmlFor=\"input_password\">Password</label>\r\n                    </div>\r\n                { this.state.pending ?\r\n                 <div className=\"preloader-wrapper small active\">\r\n                    <div className=\"spinner-layer\">\r\n                      <div className=\"circle-clipper left\">\r\n                        <div className=\"circle\"></div>\r\n                      </div><div className=\"gap-patch\">\r\n                        <div className=\"circle\"></div>\r\n                      </div><div className=\"circle-clipper right\">\r\n                        <div className=\"circle\"></div>\r\n                      </div>\r\n                    </div>\r\n                  </div> : ''\r\n                }\r\n\r\n                { this.state.error ?\r\n                <div className=\"row\">\r\n                    <div className=\"col s12\">\r\n                        <h6 className='rezbuild-text'>{this.state.error}</h6>\r\n                    </div>\r\n                </div> : ''\r\n                }\r\n\r\n                <div className=\"row\">\r\n                    <div className=\"col s6\">\r\n                          <button className=\"btn waves-effect waves-light\" type=\"submit\">SUBMIT  <i class=\"material-icons right\">send</i></button>\r\n                    </div>\r\n                  <div className=\"col s6\">\r\n                            <button className=\"btn waves-effect waves-light white rezbuild-text\" onClick={() => browserHistory.push( ((this.props.params._id) ? ('/' + this.props.params._id):'') +'/signin')}>  <i class=\"material-icons left\">cancel</i> CANCEL</button>\r\n                  </div>\r\n                </div>\r\n              </form>\r\n          </div>\r\n    </div>\r\n    );\r\n }\r\n}\r\n\r\nconst SignupForm = props => (\r\n  <SocketContext.Consumer>\r\n  { (context) => <SignupFormCore {...props} socket={context.socket} uploader={context.uploader} />}\r\n  </SocketContext.Consumer>\r\n)\r\n\r\nexport default SignupForm\r\n","/**\r\n * @class SettingsForm\r\n * @extends Component\r\n * @description Create the form for account settings\r\n */\r\n\r\n import React, { Component } from 'react'\r\nimport SocketContext from '../../SocketContext'\r\nimport common from 'common'\r\n\r\nvar $ = window.$\r\nvar Materialize = window.Materialize\r\n\r\nclass SettingsFormCore extends Component {\r\n  constructor(props){\r\n   super(props);\r\n   this.handleSubmit = this.handleSubmit.bind(this);\r\n   this.cancel = this.cancel.bind(this);\r\n   this.state = {error : false, pending : false}\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.props.user.roles.map((role, index) => $(\"#settings_role_\"+role).prop( \"selected\", true ))\r\n    $(document).ready(function() {\r\n      $('#select_settings_roles').material_select();\r\n      Materialize.updateTextFields();\r\n    });\r\n    this.props.socket.on('/api/user/done', res => {\r\n      this.props.update()\r\n   });\r\n  }\r\n  // Update the user\r\n  handleSubmit(event){\r\n   event.preventDefault();\r\n    this.setState({error : false, pending : true}, () => {\r\n         var filter = {_id: \"token\"}\r\n         var update = {\r\n            email : this.refs.email.value,\r\n            password : this.refs.password.value,\r\n            firstname : this.refs.firstname.value.charAt(0).toUpperCase() + this.refs.firstname.value.toLowerCase().slice(1),\r\n            lastname : this.refs.lastname.value.toUpperCase(),\r\n            roles : $(\"#select_settings_roles option:selected\").map(function() {return $(this).val();}).get(),\r\n         }\r\n        this.props.socket.emit('/api/user/update', filter, update, res => {\r\n            if (res.users) {\r\n                this.setState({error : false, pending : false}, () =>{\r\n                    $('#modal_settings').modal('close');\r\n                    this.props.socket.emit('/api/user/done')\r\n                })\r\n            }\r\n            if(res.error){\r\n                this.setState({error : res.error, pending : false});\r\n            }\r\n        });\r\n    })\r\n  }\r\n\r\n  cancel(){\r\n    $('#modal_settings').modal('close');\r\n  }\r\n\r\n  render() {\r\n    let settingsFormBody;\r\n    settingsFormBody =\r\n        <div>\r\n            <div className=\"rezbuild center\" style={{marginBottom:'0'}}>\r\n            <h4 className=\"white-text\" style={{lineHeight:'150%'}}>Settings</h4>\r\n            </div>\r\n            <div className=\"modal-content\">\r\n                  <form className=\"col s12\"  onSubmit={this.handleSubmit}>\r\n                     <div className=\"row\">\r\n                        <div className=\"input-field col s6\" style={{lineHeight:'1.5'}}>\r\n                            <input  id=\"input_firstname\" ref=\"firstname\" name=\"firstname\" type=\"text\" defaultValue={this.props.user.firstname} required/>\r\n                            <label  className=\"active\" htmlFor=\"input_firstname\">First name</label>\r\n                        </div>\r\n                        <div className=\"input-field col s6\" style={{lineHeight:'1.5'}}>\r\n                            <input  id=\"input_lastname\" ref=\"lastname\" name=\"lastname\" type=\"text\" defaultValue={this.props.user.lastname} required/>\r\n                            <label  className=\"active\" htmlFor=\"input_lastname\">Last name</label>\r\n                        </div>\r\n                      <div className=\"input-field col s12\" style={{lineHeight:'1.5'}}>\r\n                        <select multiple  ref=\"select_settings_roles\" id=\"select_settings_roles\" required>\r\n                        <option value=\"\" disabled>Choose your role(s)</option>\r\n                          {\r\n                            Object.entries(common.ROLES).map( ([key, value]) => {\r\n                              return <option name=\"roles\" value={key} id={'settings_role_'+key} key={key}>{value.name}</option>\r\n                            })\r\n                          }\r\n                        </select>\r\n                        <label>Role(s)</label>\r\n                      </div>\r\n                        <div className=\"input-field col s6\" style={{lineHeight:'1.5'}}>\r\n                              <input id=\"input_email\" ref=\"email\" name=\"email\" type=\"email\"  autoComplete=\"username email\" defaultValue={this.props.user.email} required/>\r\n                              <label className=\"active\" htmlFor=\"input_email\">Email</label>\r\n                        </div>\r\n                        <div className=\"input-field col s6\" style={{lineHeight:'1.5'}}>\r\n                              <input id=\"input_password\" ref=\"password\" type=\"password\" name=\"password\" autoComplete=\"current-password\" required/>\r\n                              <label className=\"active\" htmlFor=\"input_password\">New Password</label>\r\n                        </div>\r\n                     </div>\r\n                     <div className=\"row\">\r\n                      { this.state.pending ?\r\n                        <div className=\"col s12 center\">\r\n                         <div className=\"preloader-wrapper small active center\">\r\n                            <div className=\"spinner-layer\">\r\n                              <div className=\"circle-clipper left\">\r\n                                <div className=\"circle\"></div>\r\n                              </div><div className=\"gap-patch\">\r\n                                <div className=\"circle\"></div>\r\n                              </div><div className=\"circle-clipper right\">\r\n                                <div className=\"circle\"></div>\r\n                              </div>\r\n                            </div>\r\n                          </div>\r\n                        </div>\r\n                        : ''\r\n                        }\r\n\r\n                        { this.state.error ?\r\n                            <div className=\"col s12 center\">\r\n                                <h6 className='rezbuild-text'>{this.state.error}</h6>\r\n                            </div>\r\n                             : ''\r\n                        }\r\n                      <div className=\"input-field col s6 center\">\r\n                          <button className=\"btn waves-effect waves-light\" type=\"submit\">SUBMIT<i className=\"material-icons right\" style={{lineHeight:'1.5'}}>send</i></button>\r\n                      </div>\r\n                      <div className=\"input-field col s6 center\">\r\n                          <a className=\"btn waves-effect waves-light rezbuild-text white\" href='#!' onClick={this.cancel}><i className=\"material-icons left\" style={{lineHeight:'1.5'}}>cancel</i>CANCEL</a>\r\n                      </div>\r\n                     </div>\r\n                  </form>\r\n            </div>\r\n        </div>\r\n\r\n    return (\r\n    <div id=\"modal_settings\" className=\"modal\">\r\n        {settingsFormBody}\r\n    </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst SettingsForm = props => (\r\n  <SocketContext.Consumer>\r\n  { (context) => <SettingsFormCore {...props} socket={context.socket} uploader={context.uploader} />}\r\n  </SocketContext.Consumer>\r\n)\r\n\r\nexport default SettingsForm","/**\r\n * @class Navbar\r\n * @extends Component\r\n * @description Create the navigation bar\r\n */\r\nimport React, { Component } from 'react'\r\nimport {Link} from 'react-router'\r\nimport {browserHistory} from 'react-router'\r\nimport SocketContext from '../SocketContext'\r\nimport axios from 'axios'\r\nimport SettingsForm from './settings'\r\nimport common from 'common'\r\n\r\naxios.defaults.withCredentials = true\r\n\r\nvar $ = window.$\r\n\r\nclass NavbarCore extends Component {\r\n\r\n  constructor(props){\r\n    super(props);\r\n    this.handleSignout = this.handleSignout.bind(this);\r\n    this.update = this.update.bind(this)\r\n    this.state = {user: null, error : false, pending : false}\r\n  }\r\n\r\n  // Fetch the user\r\n  update(){\r\n    $('.button-collapse').sideNav('hide')\r\n    this.setState({user : null, error : false, pending : true}, () => {\r\n        var filter = { _id : \"token\" }\r\n        this.props.socket.emit('/api/user/get', filter, res => {\r\n            if (res.users) {\r\n                this.setState({user : res.users[0], error : false, pending : false})\r\n            }\r\n            else {\r\n                if(res.error){\r\n                    this.setState({user : null, error : res.error, pending : false}, () => {browserHistory.push('/signin')})\r\n\r\n                } else {\r\n                    this.setState({user : null, error : 'Network error', pending : false})\r\n                }\r\n            }\r\n        });\r\n    });\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.update()\r\n  }\r\n\r\n  componentDidUpdate(prevProps, prevState) {\r\n      if (prevState.user !== this.state.user) {\r\n        $(\".button-collapse\").sideNav();\r\n        $('#modal_settings').modal();\r\n        $('.tooltipped').tooltip({delay:0});\r\n      }\r\n  }\r\n  componentWillUnmount(){\r\n    $('.tooltipped').tooltip(\"remove\");\r\n  }\r\n\r\n // Sign out the user\r\n  handleSignout(event){\r\n   event.preventDefault();\r\n   this.setState({error : false, pending : true}, () => {\r\n       this.props.socket.emit('/api/signout', {}, res => {\r\n            if (res.user) {\r\n                this.setState({error : null, pending : false}, () => {\r\n                    $('.button-collapse').sideNav('hide')\r\n                    browserHistory.push('/signin')\r\n                });\r\n            }\r\n       });\r\n    });\r\n  };\r\n\r\n  render() {\r\n    if(this.state.user) {\r\n        let pathComponent;\r\n        pathComponent = this.props.path.map((level, index) =>\r\n\r\n                    <Link to={ (index === 0) ? '/' : '#!'} className=\"breadcrumb\" key={index}>{level}</Link>\r\n        );\r\n        return (\r\n           <nav>\r\n             <div>\r\n              <ul id=\"slide-out\" className=\"side-nav\">\r\n                <li className=\"row rezbuild center\" style={{lineHeight:'30px'}}>\r\n                    <div className=\"col s12\"> <i className=\"material-icons\" style={{fontSize:'4rem'}}>account_circle</i></div>\r\n                    <div className=\"col s12\" style={{fontWeight:'bold'}}> {this.state.user.firstname} {this.state.user.lastname}</div>\r\n                    <div className=\"col s12\">\r\n                    {\r\n                      this.state.user.roles\r\n                      .filter(role => common.ROLES.hasOwnProperty(role))\r\n                      .map(role => common.ROLES[role].name)\r\n                      .join(', ')\r\n                    }\r\n                    </div>\r\n                </li>\r\n\r\n                <li><a className=\"modal-trigger\" href=\"#modal_settings\" ><i className=\"material-icons\">settings</i>Settings</a></li>\r\n                <li><a href=\"#!\" onClick={this.handleSignout}><i className=\"material-icons\">arrow_back</i>Sign out</a></li>\r\n\r\n              </ul>\r\n            <div className=\"nav-wrapper\">\r\n              <a href=\"#!\" data-activates=\"slide-out\" className=\"button-collapse\" style={{padding:'0', display:'inline-flex'}} onClick={() => $('.button-collapse').sideNav('show')}><i className=\"material-icons\">menu</i></a>\r\n\r\n              <a href=\"#!\" className=\"brand-logo center hide-on-med-and-down\">Welcome <b>{this.state.user.firstname}</b></a>\r\n              <ul className=\"right\">\r\n                <li><a href=\"#!\"><img  className=\"brand-logo right\" src=\"/img/jpg/logo.jpg\" alt='logo' style={{maxHeight:'4rem'}} /></a></li>\r\n              </ul>\r\n              <div className=\"col s12 left\">\r\n                {pathComponent}\r\n              </div>\r\n\r\n            </div>\r\n           </div>\r\n           <SettingsForm user={this.state.user} update={this.update}/>\r\n          </nav>\r\n        );\r\n    } else return <div/>;\r\n  }\r\n}\r\n\r\nconst NavbarComponent = props => (\r\n  <SocketContext.Consumer>\r\n  { (context) => <NavbarCore {...props} socket={context.socket} uploader={context.uploader} />}\r\n  </SocketContext.Consumer>\r\n)\r\n\r\nexport default NavbarComponent;","/**\r\n * @class CreateProjectForm\r\n * @extends Component\r\n * @description Create the form for creating a project\r\n */\r\nimport React, { Component } from 'react'\r\nimport axios from 'axios'\r\nimport SocketContext from '../../../SocketContext'\r\nimport common from 'common'\r\naxios.defaults.withCredentials = true\r\n\r\nvar $ = window.$\r\n\r\nclass CreateProjectFormCore extends Component {\r\n\r\n  constructor(props){\r\n   super(props);\r\n   this.submit = this.submit.bind(this);\r\n   this.state = {error : false, pending : false}\r\n  }\r\n\r\n  // Create a new project of the user\r\n  submit(event){\r\n   event.preventDefault();\r\n    this.setState({error : false, pending : true}, () => {\r\n        var create = {owner: \"token\", users: [\"token\"]}\r\n        Object.keys(this.refs).forEach(key => {\r\n          create[key] = this.refs[key].value\r\n          }\r\n        );\r\n        this.props.socket.emit('/api/project/create', create, res => {\r\n            if (res.projects){\r\n               Object.entries(common.ACTIONS).forEach(([key, action]) => {\r\n                  var create = {\r\n                    project: res.projects._id,\r\n                    name: key,\r\n                    lane:  'lane_backlog',\r\n                    content:  action.description,\r\n                    roles:  Object.keys(common.ROLES),\r\n                    action: key,\r\n                    names: action.names,\r\n                    values: action.values,\r\n                    formats: action.formats\r\n                  }\r\n                  this.props.socket.emit('/api/task/create', create, res => {});\r\n               })\r\n               var create = {\r\n                project: res.projects._id,\r\n                lane:  'lane_done',\r\n                name: 'INIT',\r\n                date: new Date(),\r\n                user: 'token',\r\n                content:  'INIT',\r\n                roles:  Object.keys(common.ROLES),\r\n                action : 'INIT',\r\n                names: ['INIT'],\r\n                values: ['0'],\r\n                formats: ['.ifc'],\r\n               }\r\n               this.props.socket.emit('/api/task/create', create, res => {});\r\n\r\n               this.setState({error : false, pending : false}, () => {\r\n                $('#modal_createproject').modal('close');\r\n               })\r\n            }\r\n            if (res.error) {\r\n                this.setState({error : res.error, pending : false});\r\n            }\r\n        });\r\n    })\r\n  };\r\n  componentDidMount(){\r\n    $(document).ready(function(){\r\n      $('ul.tabs').tabs();\r\n      $('select').material_select();\r\n    });\r\n  }\r\n  render() {\r\n    return (\r\n    <div id=\"modal_createproject\" className=\"modal\">\r\n        <div className=\"rezbuild center\" style={{marginBottom:'0'}}>\r\n            <h4 className=\"white-text\" style={{lineHeight:'150%'}}>Create project</h4>\r\n        </div>\r\n        <form className=\"col s12\" onSubmit={this.submit}>\r\n        <div className=\"row\">\r\n        <div className=\"col s12\">\r\n          <ul className=\"tabs\" style={{display:\"none\"}}>\r\n            <li className=\"tab col s2\"><a href=\"#general\">General</a></li>\r\n            <li className=\"tab col s2\"><a href=\"#needs\">Needs</a></li>\r\n            <li className=\"tab col s2\"><a href=\"#building\">Building</a></li>\r\n            <li className=\"tab col s2\"><a href=\"#geometry\">Geometry</a></li>\r\n            <li className=\"tab col s2\"><a href=\"#wrap\">Wrap</a></li>\r\n          </ul>\r\n        </div>\r\n        <div id=\"general\" className=\"col s12\">\r\n        <div className=\"input-field col s4\">\r\n              <input required id=\"name\" type=\"text\"  ref=\"name\"/>\r\n              <label htmlFor=\"name\">Name</label>\r\n        </div>\r\n        <div className=\"input-field col s8\">\r\n              <input required id=\"address\" type=\"text\"  ref=\"address\"/>\r\n              <label htmlFor=\"address\">Address</label>\r\n        </div>\r\n        <div className=\"input-field col s6\">\r\n              <input required id=\"city\" type=\"text\"  ref=\"city\"/>\r\n              <label htmlFor=\"city\">City</label>\r\n        </div>\r\n        <div className=\"input-field col s6\">\r\n              <input required id=\"country\" type=\"text\"  ref=\"country\"/>\r\n              <label htmlFor=\"country\">Country</label>\r\n        </div>\r\n        <div className=\"input-field col s4\">\r\n          <select required defaultValue={\"City center\"} id=\"context\" ref=\"context\">\r\n            <option value=\"\" disabled>Choose a context</option>\r\n            <option name=\"context\" value=\"City center\" id=\"context_city_center\">City center</option>\r\n            <option name=\"context\" value=\"Suburbs\" id=\"context_suburbs\">Suburbs</option>\r\n            <option name=\"context\" value=\"Isolated\" id=\"context_isolated\">Isolated</option>\r\n          </select>\r\n          <label>Context</label>\r\n        </div>\r\n        <div className=\"input-field col s4\">\r\n            <input required id=\"degree\"  ref=\"degree\"  type=\"number\" step=\"any\"/>\r\n            <label  htmlFor=\"degree\"> Degree Days (°)</label>\r\n        </div>\r\n        <div className=\"input-field col s4\">\r\n          <select required defaultValue={\"Temperate zone\"} id=\"climat\" ref=\"climat\">\r\n            <option value=\"\" disabled>Choose a climat zone</option>\r\n            <option name=\"context\" value=\"Tropical zone\" id=\"climat_tropical\">Tropical zone</option>\r\n            <option name=\"context\" value=\"Subtropical zone\" id=\"climat_subtropical\">Subtropical zone</option>\r\n            <option name=\"context\" value=\"Temperate zone\" id=\"climat_temperate\">Temperate zone</option>\r\n            <option name=\"context\" value=\"Cold zone\" id=\"climat_cold\">Cold zone</option>\r\n          </select>\r\n          <label>Climat Zone</label>\r\n        </div>\r\n\r\n        </div>\r\n        <div id=\"needs\" className=\"col s12\">\r\n          <div className=\"input-field col s12\">\r\n                    <textarea id=\"refurbishment_expectations\" ref=\"refurbishmentExpectations\" className=\"materialize-textarea\" defaultValue=\"I want..\"></textarea>\r\n                    <label className=\"active\" htmlFor=\"refurbishment_expectations\">Refurbishment Project Expectations</label>\r\n          </div>\r\n          <div className=\"input-field col s12\">\r\n                  <p className=\"range-field\">\r\n                    <input type=\"range\" id=\"energy_consumption_expectations\" ref=\"energyConsumptionExpectations\" min=\"0\" max=\"100\"  defaultValue=\"50\"/>\r\n                    <label htmlFor=\"energy_consumption_expectations\">Energy Consumption Expectations</label>\r\n                  </p>\r\n          </div>\r\n          <div className=\"input-field col s12\">\r\n                  <p className=\"range-field\">\r\n                    <input type=\"range\" id=\"environmental_expectations\" ref=\"environmentalExpectations\" min=\"0\" max=\"100\"  defaultValue=\"50\"/>\r\n                    <label htmlFor=\"environmental_expectations\">Environmental Expectations</label>\r\n                  </p>\r\n          </div>\r\n          <div className=\"input-field col s12\">\r\n                  <p className=\"range-field\">\r\n                    <input type=\"range\" id=\"economical_expectations\" ref=\"economicalExpectations\" min=\"0\" max=\"100\"  defaultValue=\"50\"/>\r\n                    <label htmlFor=\"economical_expectations\">Economical Expectations</label>\r\n                  </p>\r\n          </div>\r\n          <div className=\"input-field col s12\">\r\n                  <p className=\"range-field\">\r\n                    <input type=\"range\" id=\"social_expectations\" ref=\"socialExpectations\" min=\"0\" max=\"100\"  defaultValue=\"50\"/>\r\n                    <label htmlFor=\"social_expectations\">Social Expectations</label>\r\n                  </p>\r\n          </div>\r\n          <div className=\"input-field col s12\">\r\n                  <p className=\"range-field\">\r\n                    <input type=\"range\" id=\"comfort_expectations\" ref=\"comfortExpectations\" min=\"0\" max=\"100\"  defaultValue=\"50\"/>\r\n                    <label htmlFor=\"comfort_expectations\">Comfort Expectations</label>\r\n                  </p>\r\n          </div>\r\n          <div className=\"input-field col s12\">\r\n            <p>\r\n              <input type=\"checkbox\"  value = \"0\" id=\"home_during_renovation\" ref=\"homeDuringRenovation\"/>\r\n              <label htmlFor=\"home_during_renovation\">Don't leave home during renovation</label>\r\n            </p>\r\n            <p>\r\n              <input type=\"checkbox\"  value = \"0\" id=\"different_location_during_renovation\" ref=\"differentLocationDuringRenovation\"/>\r\n              <label htmlFor=\"different_location_during_renovation\">Have a different location during renovation</label>\r\n            </p>\r\n            <p>\r\n              <input type=\"checkbox\"  value = \"0\" id=\"elevator_installation\" ref=\"elevatorInstallation\"/>\r\n              <label htmlFor=\"elevator_installation\">Elevator Installation</label>\r\n            </p>\r\n            <p>\r\n              <input type=\"checkbox\"  value = \"0\" id=\"improved_accessibility\" ref=\"improvedAccessibility\"/>\r\n              <label  htmlFor=\"improved_accessibility\">Improved Accessibility</label>\r\n            </p>\r\n            <p>\r\n              <input type=\"checkbox\"  value = \"0\" id=\"reduction_bill_amount\" ref=\"reductionBillAmount\"/>\r\n              <label  htmlFor=\"reduction_bill_amount\">Reduction in bills amount</label>\r\n            </p>\r\n            <p>\r\n              <input type=\"checkbox\"  value = \"0\" id=\"more_home_spaces\" ref=\"moreHomeSpaces\"/>\r\n              <label  htmlFor=\"more_home_spaces\">More home spaces</label>\r\n            </p>\r\n            <p>\r\n              <input type=\"checkbox\"  value = \"0\" id=\"brighter_environments\" ref=\"brighterEnvironments\"/>\r\n              <label  htmlFor=\"brighter_environments\">Brighter environments</label>\r\n            </p>\r\n            <p>\r\n              <input type=\"checkbox\"  value = \"0\" id=\"extra_service_room\" ref=\"extraServiceRoom\"/>\r\n              <label  htmlFor=\"extra_service_room\">Extra service room</label>\r\n            </p>\r\n            <p>\r\n              <input type=\"checkbox\"  value = \"0\" id=\"heating_upgrading\" ref=\"heatingUpgrading\"/>\r\n              <label  htmlFor=\"heating_upgrading\">Heating upgrading</label>\r\n            </p>\r\n            <p>\r\n              <input type=\"checkbox\"  value = \"0\" id=\"cooling_upgrading\" ref=\"coolingUpgrading\"/>\r\n              <label  htmlFor=\"cooling_upgrading\">Cooling upgrading</label>\r\n            </p>\r\n            <p>\r\n              <input type=\"checkbox\"  value = \"0\" id=\"ventilation_upgrading\" ref=\"ventilationUpgrading\"/>\r\n              <label  htmlFor=\"ventilation_upgrading\">Ventilation upgrading</label>\r\n            </p>\r\n            <p>\r\n              <input type=\"checkbox\"  value = \"0\" id=\"consumption_control\" ref=\"consumptionControl\"/>\r\n              <label  htmlFor=\"consumption_control\">Consumption control</label>\r\n            </p>\r\n            <p>\r\n              <input type=\"checkbox\"  value = \"0\" id=\"eliminitation_air_infiltration\" ref=\"eliminitationAirInfiltration\"/>\r\n              <label  htmlFor=\"eliminitation_air_infiltration\">Elimination of air infiltration</label>\r\n            </p>\r\n            <p>\r\n              <input type=\"checkbox\"  value = \"0\" id=\"shading_upgrading\" ref=\"shadingUpgrading\"/>\r\n              <label  htmlFor=\"shading_upgrading\">Shading upgrading</label>\r\n            </p>\r\n            <p>\r\n              <input type=\"checkbox\"  value = \"0\" id=\"air_quality_improvement\" ref=\"airQualityImprovement\"/>\r\n              <label  htmlFor=\"air_quality_improvement\">Air quality improvement</label>\r\n            </p>\r\n            <p>\r\n              <input type=\"checkbox\"  value = \"0\" id=\"noise_reduction\" ref=\"noiseReduction\"/>\r\n              <label  htmlFor=\"noise_reduction\">Noise reduction</label>\r\n            </p>\r\n          </div>\r\n\r\n        </div>\r\n        <div id=\"building\" className=\"col s12\">\r\n        <div className=\"input-field col s12\">\r\n          <select required defaultValue={\"S\"} id=\"exposure\" ref=\"exposure\">\r\n            <option value=\"\" disabled>Choose an exposure</option>\r\n            <option name=\"exposure\" value=\"N\" id=\"exposure_n\">N</option>\r\n            <option name=\"exposure\" value=\"NE\" id=\"exposure_ne\">NE</option>\r\n            <option name=\"exposure\" value=\"E\" id=\"exposure_e\">E</option>\r\n            <option name=\"exposure\" value=\"SE\" id=\"exposure_se\">SE</option>\r\n            <option name=\"exposure\" value=\"S\" id=\"exposure_s\">S</option>\r\n            <option name=\"exposure\" value=\"SW\" id=\"exposure_sw\">SW</option>\r\n            <option name=\"exposure\" value=\"W\" id=\"exposure_w\">W</option>\r\n            <option name=\"exposure\" value=\"NW\" id=\"exposure_nw\">NW</option>\r\n          </select>\r\n          <label>Exposure</label>\r\n        </div>\r\n        <div className=\"input-field col s12\">\r\n          <select required defaultValue={\"House\"} id=\"home\" ref=\"home\">\r\n            <option value=\"\" disabled>Choose an home type</option>\r\n            <option name=\"exposure\" value=\"House\" id=\"home_house\">House</option>\r\n            <option name=\"exposure\" value=\"Apartment\" id=\"home_apartment\">Apartment</option>\r\n             </select>\r\n          <label>Home Type</label>\r\n        </div>\r\n        <div className=\"input-field col s12\">\r\n              <input id=\"building_taxonomy\" type=\"text\"  ref=\"buildingTaxonomy\" defaultValue=\"IN PROGRESS\"/>\r\n              <label className=\"active\" htmlFor=\"building_taxonomy\">Building Taxonomy</label>\r\n        </div>\r\n        <div className=\"input-field col s12\">\r\n              <input id=\"year\"  type=\"number\" step=\"any\"  ref=\"year\" defaultValue=\"1984\"/>\r\n              <label className=\"active\" htmlFor=\"year\">Construction year</label>\r\n        </div>\r\n        <div className=\"input-field col s12\">\r\n          <select required defaultValue={\"Light\"} id=\"gradation\" ref=\"gradation\">\r\n            <option value=\"\" disabled>Choose a color gradation of external finish</option>\r\n            <option name=\"gradation\" value=\"Light\" id=\"gradation_light\">Light</option>\r\n            <option name=\"gradation\" value=\"Average\" id=\"gradation_average\">Average</option>\r\n            <option name=\"gradation\" value=\"Dark\" id=\"gradation_dark\">Dark</option>\r\n             </select>\r\n          <label>Color Gradation of External Finish</label>\r\n        </div>\r\n        <div className=\"input-field col s12\">\r\n          <select required defaultValue={\"Private\"} id=\"property\" ref=\"property\">\r\n            <option value=\"\" disabled>Property</option>\r\n            <option name=\"property\" value=\"Private\" id=\"property_private\">Private</option>\r\n            <option name=\"property\" value=\"Public\" id=\"property_public\">Public</option>\r\n             </select>\r\n          <label>property</label>\r\n        </div>\r\n        </div>\r\n        <div id=\"geometry\" className=\"col s12\">\r\n        <div className=\"input-field col s12\">\r\n            <input required id=\"floors\"  ref=\"floors\"  type=\"number\" step=\"any\" defaultValue=\"2\"/>\r\n            <label  className=\"active\" htmlFor=\"floors\"> Number of floors (n°)</label>\r\n        </div>\r\n        <div className=\"input-field col s12\">\r\n            <input required id=\"inter_floor_height\"  ref=\"interFloorHeight\"  type=\"number\" step=\"any\" defaultValue=\"2\"/>\r\n            <label  className=\"active\" htmlFor=\"inter_floor_height\"> Clear inter-floor height (m)</label>\r\n        </div>\r\n        <div className=\"input-field col s12\">\r\n            <input required id=\"floor_number\"  ref=\"floorNumber\"  type=\"number\" step=\"any\" defaultValue=\"0\"/>\r\n            <label  className=\"active\" htmlFor=\"floor_number\">Floor number (n°) (if apartment)</label>\r\n        </div>\r\n        <div className=\"input-field col s12\">\r\n            <input required id=\"apartment_by_floor\"  ref=\"apartmentByFloor\"  type=\"number\" step=\"any\" defaultValue=\"0\"/>\r\n            <label  className=\"active\" htmlFor=\"apartment_by_floor\">Number of apartments per floor (n°) (if apartment)</label>\r\n        </div>\r\n        <div className=\"input-field col s12\">\r\n            <input required id=\"total_floors_building\"  ref=\"totalFloorsBuilding\"  type=\"number\" step=\"any\" defaultValue=\"0\"/>\r\n            <label  className=\"active\" htmlFor=\"total_floors_building\">Total floors of the building (n°)</label>\r\n        </div>\r\n        <div className=\"input-field col s12\">\r\n            <input required id=\"footprint_building\"  ref=\"footprintBuilding\"  type=\"number\" step=\"any\" defaultValue=\"0\"/>\r\n            <label  className=\"active\" htmlFor=\"footprint_building\">Net footprint of building (m²)</label>\r\n        </div>\r\n        <div className=\"input-field col s12\">\r\n            <input required id=\"total_useful_surface\"  ref=\"totalUsefulSurface\"  type=\"number\" step=\"any\" defaultValue=\"0\"/>\r\n            <label  className=\"active\" htmlFor=\"total_useful_surface\">Total useful surface (m²)</label>\r\n        </div>\r\n        <h6 className=\"grey-text\">Linear dimension divided by exposure</h6>\r\n        <div className=\"input-field col s12\">\r\n            <input required id=\"linear_dimension_n\"  ref=\"linearDimensionN\"  type=\"number\" step=\"any\" defaultValue=\"0\"/>\r\n            <label  className=\"active\" htmlFor=\"linear_dimension_n\">N (m)</label>\r\n        </div>\r\n        <div className=\"input-field col s12\">\r\n            <input required id=\"linear_dimension_ne\"  ref=\"linearDimensionNE\"  type=\"number\" step=\"any\" defaultValue=\"0\"/>\r\n            <label  className=\"active\" htmlFor=\"linear_dimension_ne\">NE (m)</label>\r\n        </div>\r\n\r\n        <div className=\"input-field col s12\">\r\n            <input required id=\"linear_dimension_e\"  ref=\"linearDimensionE\"  type=\"number\" step=\"any\" defaultValue=\"0\"/>\r\n            <label  className=\"active\" htmlFor=\"linear_dimension_e\">E (m)</label>\r\n        </div>\r\n        <div className=\"input-field col s12\">\r\n            <input required id=\"linear_dimension_se\"  ref=\"linearDimensionSE\"  type=\"number\" step=\"any\" defaultValue=\"0\"/>\r\n            <label  className=\"active\" htmlFor=\"linear_dimension_se\">SE (m)</label>\r\n        </div>\r\n        <div className=\"input-field col s12\">\r\n            <input required id=\"linear_dimension_s\"  ref=\"linearDimensionS\"  type=\"number\" step=\"any\" defaultValue=\"0\"/>\r\n            <label  className=\"active\" htmlFor=\"linear_dimension_s\">S (m)</label>\r\n        </div>\r\n        <div className=\"input-field col s12\">\r\n            <input required id=\"linear_dimension_sw\"  ref=\"linearDimensionSW\"  type=\"number\" step=\"any\" defaultValue=\"0\"/>\r\n            <label  className=\"active\" htmlFor=\"linear_dimension_sw\">SW (m)</label>\r\n        </div>\r\n        <div className=\"input-field col s12\">\r\n            <input required id=\"linear_dimension_w\"  ref=\"linearDimensionW\"  type=\"number\" step=\"any\" defaultValue=\"0\"/>\r\n            <label  className=\"active\" htmlFor=\"linear_dimension_w\">W (m)</label>\r\n        </div>\r\n        <div className=\"input-field col s12\">\r\n            <input required id=\"linear_dimension_nw\"  ref=\"linearDimensionNW\"  type=\"number\" step=\"any\" defaultValue=\"0\"/>\r\n            <label  className=\"active\" htmlFor=\"linear_dimension_nw\">NW (m)</label>\r\n        </div>\r\n\r\n        <div className=\"input-field col s12\">\r\n          <select required defaultValue={\"Ground\"} id=\"floor_adjacent\" ref=\"floorAdjacent\">\r\n            <option value=\"\" disabled>Choose floor adjacent to the unheated room</option>\r\n            <option name=\"property\" value=\"Ground\" id=\"floor_adjacent_ground\">Ground</option>\r\n            <option name=\"property\" value=\"Cellar\" id=\"floor_adjacent_cellar\">Cellar/Garage</option>\r\n            <option name=\"property\" value=\"External\" id=\"floor_adjacent_external\">External</option>\r\n            <option name=\"property\" value=\"Land\" id=\"floor_adjacent_land\">Land/Cellar</option>\r\n            <option name=\"property\" value=\"Outside\" id=\"floor_adjacent_outside\">Cellar/Outside</option>\r\n             </select>\r\n          <label>Floor adjacent to the unheated room</label>\r\n        </div>\r\n        <div className=\"input-field col s12\">\r\n          <select required defaultValue={\"Attic\"} id=\"ceiling_adjacent\" ref=\"ceilingAdjacent\">\r\n            <option value=\"\" disabled>Choose ceiling adjacent to the unheated room</option>\r\n            <option name=\"property\" value=\"Attic\" id=\"ceiling_adjacent_attic\">Attic</option>\r\n            <option name=\"property\" value=\"External\" id=\"ceiling_adjacent_external\">External</option>\r\n            <option name=\"property\" value=\"AtticExternal\" id=\"ceiling_adjacent_attic_external\">Attic/External</option>\r\n             </select>\r\n          <label>Ceiling adjacent to the unheated room</label>\r\n        </div>\r\n        <div className=\"input-field col s12\">\r\n          <select required defaultValue={\"External stairwell\"} id=\"wall_adjacent\" ref=\"wallAdjacent\">\r\n            <option value=\"\" disabled>Choose walls adjacent to the unheated room</option>\r\n            <option name=\"property\" value=\"Internal stairwell (only one facing)\" id=\"wall_adjacent_internal_one_face\">Internal stairwell (only one facing)</option>\r\n            <option name=\"property\" value=\"Internal stairwell (no facing)\" id=\"wall_adjacent_internal_no_face\">Internal stairwell (no facing)</option>\r\n            <option name=\"property\" value=\"External stairwell\" id=\"wall_adjacent_external\">External stairwell</option>\r\n            <option name=\"property\" value=\"Other unheated rooms\" id=\"wall_adjacent_other\">Other unheated rooms</option>\r\n             </select>\r\n          <label>Walls adjacent to the unheated room</label>\r\n        </div>\r\n        </div>\r\n        <div id=\"wrap\" className=\"col s12\">\r\n        <h6 className=\"grey-text\">Number of windows wings</h6>\r\n        <div className=\"input-field col s12\">\r\n            <input required id=\"windows_n\"  ref=\"windowsN\"  type=\"number\" step=\"any\" defaultValue=\"0\"/>\r\n            <label  className=\"active\" htmlFor=\"windows_n\">N (n°)</label>\r\n        </div>\r\n        <div className=\"input-field col s12\">\r\n            <input required id=\"windows_ne\"  ref=\"windowsNE\"  type=\"number\" step=\"any\" defaultValue=\"0\"/>\r\n            <label  className=\"active\" htmlFor=\"windows_ne\">NE (n°)</label>\r\n        </div>\r\n        <div className=\"input-field col s12\">\r\n            <input required id=\"windows_e\"  ref=\"windowsE\"  type=\"number\" step=\"any\" defaultValue=\"0\"/>\r\n            <label  className=\"active\" htmlFor=\"windows_e\">E (n°)</label>\r\n        </div>\r\n        <div className=\"input-field col s12\">\r\n            <input required id=\"windows_se\"  ref=\"windowsSE\"  type=\"number\" step=\"any\" defaultValue=\"0\"/>\r\n            <label  className=\"active\" htmlFor=\"windows_se\">SE (n°)</label>\r\n        </div>\r\n        <div className=\"input-field col s12\">\r\n            <input required id=\"windows_s\"  ref=\"windowsS\"  type=\"number\" step=\"any\" defaultValue=\"0\"/>\r\n            <label  className=\"active\" htmlFor=\"windows_s\">S (n°)</label>\r\n        </div>\r\n        <div className=\"input-field col s12\">\r\n            <input required id=\"windows_sw\"  ref=\"windowsSW\"  type=\"number\" step=\"any\" defaultValue=\"0\"/>\r\n            <label  className=\"active\" htmlFor=\"windows_sw\">SW (n°)</label>\r\n        </div>\r\n        <div className=\"input-field col s12\">\r\n            <input required id=\"windows_w\"  ref=\"windowsW\"  type=\"number\" step=\"any\" defaultValue=\"0\"/>\r\n            <label  className=\"active\" htmlFor=\"windows_w\">W (n°)</label>\r\n        </div>\r\n        <div className=\"input-field col s12\">\r\n            <input required id=\"windows_nw\"  ref=\"windowsNW\"  type=\"number\" step=\"any\" defaultValue=\"0\"/>\r\n            <label  className=\"active\" htmlFor=\"windows_nw\">NW (n°)</label>\r\n        </div>\r\n\r\n        <h6 className=\"grey-text\">Number of windows-door wings</h6>\r\n        <div className=\"input-field col s12\">\r\n            <input required id=\"windows_door_n\"  ref=\"windowsDoorN\"  type=\"number\" step=\"any\" defaultValue=\"0\"/>\r\n            <label  className=\"active\" htmlFor=\"windows_door_n\">N (n°)</label>\r\n        </div>\r\n        <div className=\"input-field col s12\">\r\n            <input required id=\"windows_door_ne\"  ref=\"windowsDoorNE\"  type=\"number\" step=\"any\" defaultValue=\"0\"/>\r\n            <label  className=\"active\" htmlFor=\"windows_door_ne\">NE (n°)</label>\r\n        </div>\r\n        <div className=\"input-field col s12\">\r\n            <input required id=\"windows_door_e\"  ref=\"windowsDoorE\"  type=\"number\" step=\"any\" defaultValue=\"0\"/>\r\n            <label  className=\"active\" htmlFor=\"windows_door_e\">E (n°)</label>\r\n        </div>\r\n        <div className=\"input-field col s12\">\r\n            <input required id=\"windows_door_se\"  ref=\"windowsDoorSE\"  type=\"number\" step=\"any\" defaultValue=\"0\"/>\r\n            <label  className=\"active\" htmlFor=\"windows_door_se\">SE (n°)</label>\r\n        </div>\r\n        <div className=\"input-field col s12\">\r\n            <input required id=\"windows_door_s\"  ref=\"windowsDoorS\"  type=\"number\" step=\"any\" defaultValue=\"0\"/>\r\n            <label  className=\"active\" htmlFor=\"windows_door_s\">S (n°)</label>\r\n        </div>\r\n        <div className=\"input-field col s12\">\r\n            <input required id=\"windows_door_sw\"  ref=\"windowsDoorSW\"  type=\"number\" step=\"any\" defaultValue=\"0\"/>\r\n            <label  className=\"active\" htmlFor=\"windows_door_sw\">SW (n°)</label>\r\n        </div>\r\n        <div className=\"input-field col s12\">\r\n            <input required id=\"windows_door_w\"  ref=\"windowsDoorW\"  type=\"number\" step=\"any\" defaultValue=\"0\"/>\r\n            <label  className=\"active\" htmlFor=\"windows_door_w\">W (n°)</label>\r\n        </div>\r\n        <div className=\"input-field col s12\">\r\n            <input required id=\"windows_door_nw\"  ref=\"windowsDoorNW\"  type=\"number\" step=\"any\" defaultValue=\"0\"/>\r\n            <label  className=\"active\" htmlFor=\"windows_door_nw\">NW (n°)</label>\r\n        </div>\r\n        <div className=\"input-field col s12\">\r\n          <select required defaultValue={\"Single glass\"} id=\"type_glass\" ref=\"typeGlass\">\r\n            <option value=\"\" disabled>Choose a type of glass</option>\r\n            <option name=\"type_glass\" value=\"Single glass\" id=\"type_glass_single\">Single glass</option>\r\n            <option name=\"type_glass\" value=\"Double glazing\" id=\"type_glass_double\">Double glazing</option>\r\n            <option name=\"type_glass\" value=\"Low emission double glazing\" id=\"type_glass_low_emission_double\">Low emission double glazing</option>\r\n            <option name=\"type_glass\" value=\"Low emission double glazing\" id=\"type_glass_triple\">Triple glass</option>\r\n            <option name=\"type_glass\" value=\"Low emission double glazing\" id=\"type_glass_low_emission_triple\">Low emission triple glazing</option>\r\n             </select>\r\n          <label>Type of glass</label>\r\n        </div>\r\n        <div className=\"input-field col s12\">\r\n          <select required defaultValue={\"PVC\"} id=\"type_frame\" ref=\"typeFrame\">\r\n            <option value=\"\" disabled>Choose a type of frame</option>\r\n            <option name=\"type_frame\" value=\"Wood\" id=\"type_frame_wood\">Wood</option>\r\n            <option name=\"type_frame\" value=\"PVC\" id=\"type_frame_pvc\">PVC</option>\r\n            <option name=\"type_frame\" value=\"Metal\" id=\"type_frame_metal\">Metal</option>\r\n            <option name=\"type_frame\" value=\"Miscellaneous\" id=\"type_frame_miscellaneous\">Miscellaneous</option>\r\n             </select>\r\n          <label>Type of frame</label>\r\n        </div>\r\n        <div className=\"input-field col s12\">\r\n            <p>\r\n              <input type=\"checkbox\"  value = \"0\" id=\"roller_shutter_boxes\" ref=\"rollerShutterBoxes\"/>\r\n              <label  htmlFor=\"roller_shutter_boxes\">Roller shutter boxes</label>\r\n            </p>\r\n        </div>\r\n        <div className=\"input-field col s12\">\r\n            <p>\r\n              <input type=\"checkbox\"  value = \"0\" id=\"external_shields\" ref=\"externalShields\"/>\r\n              <label  htmlFor=\"external_shields\">External shields</label>\r\n            </p>\r\n        </div>\r\n        <div className=\"input-field col s12\">\r\n            <p>\r\n              <input type=\"checkbox\"  value = \"0\" id=\"presence_balcony\" ref=\"presenceBalcony\"/>\r\n              <label  htmlFor=\"presence_balcony\">Presence of balcony</label>\r\n            </p>\r\n        </div>\r\n        </div>\r\n         </div>\r\n        <div className=\"row col s12\">\r\n          <div className=\"input-field col s6 center\">\r\n              <button className=\"btn waves-effect waves-light\" type=\"submit\">SUBMIT<i className=\"material-icons right\">send</i></button>\r\n          </div>\r\n          <div className=\"input-field col s6 center\">\r\n              <a className=\"btn waves-effect waves-light white rezbuild-text\" href=\"#!\"  onClick={() => $(\"#modal_createproject\").modal('close')}> <i className=\"material-icons left\">cancel</i>CANCEL</a>\r\n          </div>\r\n        </div>\r\n        { this.state.pending ?\r\n          <div className=\"preloader-wrapper small active\">\r\n            <div className=\"spinner-layer\">\r\n              <div className=\"circle-clipper left\">\r\n                <div className=\"circle\"></div>\r\n              </div><div className=\"gap-patch\">\r\n                <div className=\"circle\"></div>\r\n              </div><div className=\"circle-clipper right\">\r\n                <div className=\"circle\"></div>\r\n              </div>\r\n            </div>\r\n          </div> : ''\r\n        }\r\n\r\n        { this.state.error ?\r\n        <div className=\"row\">\r\n            <div className=\"col s12\">\r\n                <h6 className='rezbuild-text'>{this.state.error}</h6>\r\n            </div>\r\n        </div> : ''\r\n        }\r\n         </form>\r\n    </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst CreateProjectForm = props => (\r\n  <SocketContext.Consumer>\r\n  { (context) => <CreateProjectFormCore {...props} socket={context.socket} uploader={context.uploader} />}\r\n  </SocketContext.Consumer>\r\n)\r\n\r\nexport default CreateProjectForm;","/**\r\n * @class JoinProjectForm\r\n * @extends Component\r\n * @description Create the form for joining a project\r\n */\r\nimport React, { Component } from 'react'\r\nimport SocketContext from '../../../SocketContext'\r\n\r\nvar $ = window.$\r\n\r\nclass JoinProjectFormCore extends Component {\r\n\r\n  constructor(props){\r\n   super(props);\r\n   this.handleJoinProject = this.handleJoinProject.bind(this);\r\n   this.state = {projects: null, error : false, pending : false}\r\n  }\r\n\r\n // get projects not of the users\r\n  update(){\r\n    this.setState({projects: null, error : false, pending : true}, () => {\r\n        var get = {users: { \"$nin\" : [\"token\"] }}\r\n        this.props.socket.emit('/api/project/get', get, res => {\r\n            if (res.projects) {\r\n                this.setState({projects : res.projects, error : false, pending : false}, () =>{\r\n                        var data = {}\r\n                        this.state.projects.map((project, index) => (data[String(project.name+\"|\"+project._id)] = null))\r\n                        $('#input_autocomplete_joinproject').autocomplete({data: data});\r\n                });\r\n            }\r\n            if(res.error){\r\n                this.setState({projects : null, error : res.error, pending : false});\r\n            }\r\n        });\r\n    });\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.update()\r\n    this.props.socket.on('/api/project/done', () => {this.update()})\r\n  }\r\n\r\n   // add the user to the project\r\n  handleJoinProject(event){\r\n   event.preventDefault();\r\n   this.setState({projects: this.state.projects, error : false, pending : true}, () => {\r\n       var project = this.state.projects.filter((project, index) => {\r\n            return project._id === this.refs.projectname.value.split('|')[1];\r\n       })[0]\r\n       if(!project){\r\n            this.setState({error : 'Unknown project', pending : false});\r\n       } else {\r\n           var filter = {_id: project._id}\r\n           var update = {\"$push\" : {users : \"token\"}}\r\n           this.props.socket.emit('/api/project/update', filter, update, res => {\r\n                if (res.projects) {\r\n                    this.setState({error : false, pending : false}, () => {\r\n                        $('#modal_joinproject').modal('close');\r\n                    })\r\n                }\r\n                if (res.error) {\r\n                    this.setState({error : res.error, pending : false});\r\n                }\r\n           });\r\n       }\r\n   })\r\n  };\r\n\r\n\r\n  componentWillUnmount() {\r\n    this.props.socket.off('/api/project/done', () => {this.update()})\r\n  }\r\n\r\n  render() {\r\n    let preloaderComponent;\r\n\r\n    if (this.state.pending){\r\n        preloaderComponent = <div className=\"row\">\r\n                              <div className=\"preloader-wrapper small active center\">\r\n                                <div className=\"spinner-layer\">\r\n                                  <div className=\"circle-clipper left\">\r\n                                    <div className=\"circle\"></div>\r\n                                  </div><div className=\"gap-patch\">\r\n                                    <div className=\"circle\"></div>\r\n                                  </div><div className=\"circle-clipper right\">\r\n                                    <div className=\"circle\"></div>\r\n                                  </div>\r\n                                </div>\r\n                              </div>\r\n                             </div>\r\n    }\r\n\r\n    let errorComponent;\r\n\r\n    if (this.state.error){\r\n        errorComponent = <div className=\"row\">\r\n                            <div className=\"col s12 center\">\r\n                                <h6 className='rezbuild-text'>{this.state.error}</h6>\r\n                            </div>\r\n                        </div>\r\n    }\r\n\r\n    let unauthorizedprojectlistComponent =\r\n          <div className=\"row\">\r\n              <div className=\"input-field col l12 m9 s12\">\r\n                  <input placeholder=\"Search a project...\" id=\"input_autocomplete_joinproject\" type=\"text\"  ref=\"projectname\"  className=\"autocomplete\" required />\r\n                  <label htmlFor=\"input_autocomplete_joinproject\">Project</label>\r\n              </div>\r\n              <div className=\"input-field col s6 right-align\">\r\n                  <button className=\"btn waves-effect waves-light\" type=\"submit\">SUBMIT<i className=\"material-icons right\">send</i></button>\r\n             </div>\r\n              <div className=\"input-field col s6 left-align\">\r\n                  <a className=\"btn waves-effect waves-light white rezbuild-text\" href=\"#!\"  onClick={() => $(\"#modal_joinproject\").modal('close')}> <i className=\"material-icons left\">cancel</i>CANCEL</a>\r\n              </div>\r\n          </div>\r\n\r\n    return (\r\n    <div id=\"modal_joinproject\" className=\"modal\">\r\n        <div className=\"rezbuild center\" style={{marginBottom:'0'}}>\r\n            <h4 className=\"white-text\" style={{lineHeight:'150%'}}>Join project</h4>\r\n        </div>\r\n       <div className=\"modal-content\">\r\n          <form className=\"col s12\" onSubmit={this.handleJoinProject} autoComplete=\"off\">\r\n              {unauthorizedprojectlistComponent}\r\n              {preloaderComponent}\r\n              {errorComponent}\r\n          </form>\r\n       </div>\r\n    </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst JoinProjectForm = props => (\r\n  <SocketContext.Consumer>\r\n  { (context) => <JoinProjectFormCore {...props} socket={context.socket} uploader={context.uploader} />}\r\n  </SocketContext.Consumer>\r\n)\r\n\r\nexport default JoinProjectForm\r\n\r\n","/**\r\n * @class RemoveProjectForm\r\n * @extends Component\r\n * @description Create the form for removing a project\r\n */\r\n\r\nimport React, { Component } from 'react'\r\nimport axios from 'axios'\r\nimport SocketContext from '../../../SocketContext'\r\n\r\naxios.defaults.withCredentials = true\r\n\r\nvar $ = window.$\r\n\r\nclass RemoveProjectFormCore extends Component {\r\n\r\n  constructor(props){\r\n   super(props);\r\n   this.handleRemoveProject = this.handleRemoveProject.bind(this);\r\n   this.state = {error : false, pending : false}\r\n  }\r\n\r\n  componentDidMount() {\r\n      $(\"#modal_removeproject_\"+this.props.project._id).modal();\r\n  }\r\n\r\n  componentWillUnmount() {\r\n      $(\"#modal_removeproject_\"+this.props.project._id).modal('close');\r\n  }\r\n\r\n  // Remove the user from the project\r\n  handleRemoveProject(event){\r\n   event.preventDefault();\r\n    this.setState({error : false, pending : true}, () => {\r\n       var filter = {_id: this.props.project._id}\r\n       var update = {\"$pull\" : {users : \"token\"}}\r\n       this.props.socket.emit('/api/project/update', filter, update, res => {\r\n            if (res.projects) {\r\n                this.setState({error : false, pending : false}, () => {\r\n                    $(\"#modal_removeproject_\"+this.props.project._id).modal('close');\r\n                })\r\n            }\r\n            if (res.error) {\r\n                this.setState({error : res.error, pending : false});\r\n            }\r\n       });\r\n    })\r\n  };\r\n\r\n  render() {\r\n    return (\r\n    <div id={\"modal_removeproject_\"+this.props.project._id} className=\"modal\">\r\n        <div className=\"rezbuild center\" style={{marginBottom:'0'}}>\r\n            <h4 className=\"white-text\" style={{lineHeight:'150%'}}>Remove project</h4>\r\n        </div>\r\n          <form className=\"col s12\">\r\n          <div className=\"row\">\r\n              <div className=\"col s12 center\">\r\n              <h5 className=\"rezbuild-text\">Do you want to remove <strong style={{fontWeight:'900'}}>{this.props.project.name}</strong> ?</h5>\r\n              </div>\r\n              <div className=\"input-field col s6 right-align\">\r\n                  <a className=\"btn waves-effect waves-light\" href=\"#!\" onClick={this.handleRemoveProject}><i className=\"material-icons right\">check</i>YES</a>\r\n              </div>\r\n              <div className=\"input-field col s6 left-align\">\r\n                  <a className=\"btn waves-effect waves-light white rezbuild-text\" href=\"#!\"  onClick={() => $(\"#modal_removeproject_\"+this.props.project._id).modal('close')}> <i className=\"material-icons left\">clear</i>NO</a>\r\n              </div>\r\n                { this.state.pending ?\r\n                 <div className=\"preloader-wrapper small active\">\r\n                    <div className=\"spinner-layer\">\r\n                      <div className=\"circle-clipper left\">\r\n                        <div className=\"circle\"></div>\r\n                      </div><div className=\"gap-patch\">\r\n                        <div className=\"circle\"></div>\r\n                      </div><div className=\"circle-clipper right\">\r\n                        <div className=\"circle\"></div>\r\n                      </div>\r\n                    </div>\r\n                  </div> : ''\r\n                }\r\n\r\n                { this.state.error ?\r\n                <div className=\"row\">\r\n                    <div className=\"col s12\">\r\n                        <h6 className='rezbuild-text'>{this.state.error}</h6>\r\n                    </div>\r\n                </div> : ''\r\n                }\r\n          </div>\r\n          </form>\r\n    </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst RemoveProjectForm = props => (\r\n  <SocketContext.Consumer>\r\n  { (context) => <RemoveProjectFormCore {...props} socket={context.socket} uploader={context.uploader} />}\r\n  </SocketContext.Consumer>\r\n)\r\n\r\nexport default RemoveProjectForm;\r\n","/**\r\n * @class ProjectList\r\n * @extends Component\r\n * @description Create the project list\r\n */\r\n import React, { Component } from 'react'\r\nimport CreateProjectForm from './createProject'\r\nimport JoinProjectForm from './joinProject'\r\nimport RemoveProjectForm from './removeProject'\r\nimport {browserHistory} from 'react-router'\r\nimport SocketContext from '../../SocketContext'\r\n\r\nvar $ = window.$\r\n\r\n\r\nclass ProjectListCore extends Component {\r\n\r\n  constructor(props){\r\n    super(props);\r\n    this.state = {projects : null, error : false, pending : false}\r\n  }\r\n\r\n  // Get the projects of the user\r\n  update(){\r\n    this.setState({projects : null, error : false, pending : true}, () => {\r\n        var filter = {users: { \"$in\" : [\"token\"] } }\r\n        this.props.socket.emit('/api/project/get', filter, (res) => {\r\n            if (res.projects) {\r\n                this.setState({projects : res.projects, error : false, pending : false})\r\n            }\r\n            else {\r\n                if(res.error){\r\n                    this.setState({projects : null, error : res.error, pending : false})\r\n                } else {\r\n                    this.setState({projects : null, error : 'Network error', pending : false})\r\n                }\r\n            }\r\n        });\r\n    })\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.update()\r\n    this.props.socket.on('/api/project/done', () => {this.update()})\r\n  }\r\n\r\n  componentDidUpdate(prevProps, prevState) {\r\n      if (prevState.projects !== this.state.projects) {\r\n            $('.modal').modal();\r\n            $('.tooltipped').tooltip({delay:0, html:true});\r\n      }\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    $('.tooltipped').tooltip('remove');\r\n    this.props.socket.off('/api/project/done', () => {this.update()})\r\n  }\r\n\r\n  render() {\r\n        let preloaderComponent;\r\n\r\n        if (this.state.pending){\r\n            preloaderComponent = <div className=\"preloader-wrapper small active\">\r\n                                    <div className=\"spinner-layer\">\r\n                                      <div className=\"circle-clipper left\">\r\n                                        <div className=\"circle\"></div>\r\n                                      </div><div className=\"gap-patch\">\r\n                                        <div className=\"circle\"></div>\r\n                                      </div><div className=\"circle-clipper right\">\r\n                                        <div className=\"circle\"></div>\r\n                                      </div>\r\n                                    </div>\r\n                                  </div>\r\n        }\r\n\r\n        let errorComponent;\r\n\r\n        if (this.state.error){\r\n            errorComponent = <div className=\"row\">\r\n                                <div className=\"col s12\">\r\n                                    <h6 className='rezbuild-text'>{this.state.error}</h6>\r\n                                </div>\r\n                            </div>\r\n\r\n        }\r\n\r\n        let projectListComponent;\r\n\r\n        if (this.state.projects){\r\n            projectListComponent = \r\n            <div className=\"col s12\">\r\n              <div className=\"col s3  l3 rezbuild-text left-align\"> <h6>Name</h6> </div>\r\n              <div className=\"col s5  l4 rezbuild-text left-align\"><h6>Creation Date</h6> </div>\r\n              <div className=\"col s4  l5 white-text\"><h6>Action</h6> </div>\r\n             {\r\n                this.state.projects.map((project, index) => {\r\n                    return (\r\n                      <div className=\"col s12\" style={{marginBottom:'1rem', padding:'0'}} key={index}>\r\n                        <div  className=\"col s3  l3 left-align\">{project.name}</div>\r\n                        <div  className=\"col s5  l4 left-align\">{new Date(project.date).toString().split('GMT')[0]}</div>\r\n                        <div  className=\"col s4  l5 right-align\">\r\n                          <a className=\"hide-on-large-only btn waves-effect waves-light\" href=\"#!\" onClick={() => browserHistory.push('/'+project._id) }><i className=\"material-icons\">open_in_browser</i></a>\r\n                          <a className=\"hide-on-large-only btn waves-effect waves-light white rezbuild-text modal-trigger\" style={{marginLeft:'1rem'}} href={\"#modal_removeproject_\"+project._id}><i className=\"material-icons\">remove_circle</i></a>\r\n                          <a className=\"hide-on-med-and-down btn waves-effect waves-light\" href=\"#!\" onClick={() => browserHistory.push('/'+project._id) }> Open <i className=\"material-icons right\">open_in_browser</i></a>\r\n                          <a className=\"hide-on-med-and-down btn waves-effect waves-light white rezbuild-text modal-trigger\" style={{marginLeft:'1rem'}} href={\"#modal_removeproject_\"+project._id}><i className=\"material-icons left\">remove_circle</i> Remove</a>\r\n                            <RemoveProjectForm project={project}/>\r\n                        </div>\r\n                      </div>);\r\n                })\r\n              }\r\n           </div>\r\n            \r\n        }\r\n        let actionComponent;\r\n        if (this.state.projects){\r\n          actionComponent = \r\n          <div>\r\n            <div className= 'col s4 left-align'>\r\n                <h5 className=\"rezbuild-text\">Project List</h5>\r\n            </div>\r\n            <div className= 'col s8 right-align' style={{paddingTop:'0.5rem'}}>  \r\n                <a  className=\"hide-on-med-and-up btn modal-trigger\"                      href=\"#modal_createproject\"><i className=\"material-icons\">add_box</i></a>\r\n                <a  className=\"hide-on-med-and-up btn white rezbuild-text modal-trigger\"  href=\"#modal_joinproject\" style={{marginLeft:'1rem'}}><i className=\"material-icons\">add_to_photos</i></a>\r\n                <a  className=\"hide-on-small-only btn modal-trigger\"                      href=\"#modal_createproject\"><i className=\"material-icons right\">add_box</i> NEW</a>\r\n                <a  className=\"hide-on-small-only btn white rezbuild-text modal-trigger\"  href=\"#modal_joinproject\" style={{marginLeft:'1rem'}}><i className=\"material-icons left\">add_to_photos</i>JOIN</a>\r\n             </div>\r\n          </div>\r\n        }\r\n\r\n        if (this.state.projects){\r\n          return (\r\n          <div className='container' style={{marginTop:'2rem'}}>\r\n              <div className='row'>\r\n                <div className='section col s12'>\r\n                  <div className= 'section col s12 transparent'  style={{marginBottom:'1rem'}}>\r\n                            {actionComponent}\r\n                  </div>\r\n                  <div className='section col s12 white z-depth-1' style={{paddingTop:'0.5rem'}}>\r\n                          {projectListComponent}\r\n                  </div>\r\n                  <div className='section col s12 center'>\r\n                            {preloaderComponent}\r\n                  </div>\r\n                  <div className='section col s12 center'>\r\n                      {errorComponent}\r\n                  </div>\r\n                </div>\r\n            </div>\r\n            <CreateProjectForm/>\r\n            <JoinProjectForm/>\r\n          </div>\r\n          )\r\n        } else return <div/>;\r\n  }\r\n}\r\n\r\nconst ProjectListComponent = props => (\r\n  <SocketContext.Consumer>\r\n  { (context) => <ProjectListCore {...props} socket={context.socket} uploader={context.uploader} />}\r\n  </SocketContext.Consumer>\r\n)\r\n\r\nexport default ProjectListComponent\r\n","\r\n/**\r\n * @class Home\r\n * @extends Component\r\n * @description Create the home page\r\n */\r\n\r\nimport React, { Component } from 'react'\r\nimport SocketContext from '../SocketContext'\r\nimport NavbarComponent from '../navbar'\r\nimport ProjectListComponent from './projectList'\r\n\r\nclass RezbuildCore extends Component {\r\n  render() {\r\n        return (\r\n            <div>\r\n                 <NavbarComponent path={['Projects']}/>\r\n                 <ProjectListComponent />\r\n            </div>\r\n        );\r\n  }\r\n\r\n}\r\n\r\nconst RezbuildComponent = props => (\r\n  <SocketContext.Consumer>\r\n  { (context) => <RezbuildCore {...props} socket={context.socket} uploader={context.uploader} />}\r\n  </SocketContext.Consumer>\r\n)\r\n\r\nexport default RezbuildComponent\r\n","/**\r\n * @class RemoveTaskForm\r\n * @extends Component\r\n * @description Create the form for removing a task\r\n */\r\nimport React, { Component } from 'react'\r\n//import $ from 'jquery'\r\n//import M from \"materialize-css/dist/js/materialize.js\";\r\nimport axios from 'axios'\r\nimport SocketContext from '../../../../../SocketContext'\r\n\r\naxios.defaults.withCredentials = true\r\n\r\nvar $ = window.$\r\n\r\nclass RemoveTaskFormCore extends Component {\r\n\r\n  constructor(props){\r\n   super(props);\r\n   this.cancel = this.cancel.bind(this)\r\n   this.state = {error : false, pending : false}\r\n  }\r\n\r\n  componentDidMount() {\r\n      $(\"#modal_removetask\").modal({dismissible: false});\r\n  }\r\n\r\n\r\n  cancel(){\r\n    this.props.cancel()\r\n    $('#modal_removetask').modal('close');\r\n  }\r\n\r\n\r\n  render() {\r\n    return (\r\n    <div id=\"modal_removetask\" className=\"modal\">\r\n        <div className=\"rezbuild center\" style={{marginBottom:'0'}}>\r\n            <h4 className=\"white-text\" style={{lineHeight:'150%'}}>Remove task</h4>\r\n        </div>\r\n          <form className=\"col s12\">\r\n          <div className=\"row\">\r\n              <div className=\"col s12 center\">\r\n              <h5 className=\"rezbuild-text\">Do you want to remove <strong style={{fontWeight:'900'}}>{this.props.task.name}</strong> ?</h5>\r\n              </div>\r\n              <div className=\"input-field col s6 right-align\">\r\n                  <a className=\"btn waves-effect waves-light\" href=\"#!\">YES<i className=\"material-icons right\">check</i></a>\r\n              </div>\r\n              <div className=\"input-field col s6 left-align\">\r\n                  <a className=\"btn waves-effect waves-light white rezbuild-text\" href=\"#!\"  onClick={this.cancel}><i className=\"material-icons left\">clear</i>NO</a>\r\n              </div>\r\n                { this.state.pending ?\r\n                 <div className=\"preloader-wrapper small active\">\r\n                    <div className=\"spinner-layer\">\r\n                      <div className=\"circle-clipper left\">\r\n                        <div className=\"circle\"></div>\r\n                      </div><div className=\"gap-patch\">\r\n                        <div className=\"circle\"></div>\r\n                      </div><div className=\"circle-clipper right\">\r\n                        <div className=\"circle\"></div>\r\n                      </div>\r\n                    </div>\r\n                  </div> : ''\r\n                }\r\n\r\n                { this.state.error ?\r\n                <div className=\"row\">\r\n                    <div className=\"col s12\">\r\n                        <h6 className='rezbuild-text'>{this.state.error}</h6>\r\n                    </div>\r\n                </div> : ''\r\n                }\r\n          </div>\r\n          </form>\r\n    </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst RemoveTaskForm = props => (\r\n  <SocketContext.Consumer>\r\n  { (context) => <RemoveTaskFormCore {...props} socket={context.socket} uploader={context.uploader} />}\r\n  </SocketContext.Consumer>\r\n)\r\n\r\nexport default RemoveTaskForm;\r\n","/**\r\n * @class CreateTaskForm\r\n * @extends Component\r\n * @description Create the form for creating a task\r\n */\r\nimport React, { Component } from 'react'\r\nimport DatePicker from 'react-datepicker'\r\nimport \"react-datepicker/dist/react-datepicker.css\"\r\nimport SocketContext from '../../../../../SocketContext'\r\nimport common from 'common'\r\n\r\nvar $ = window.$\r\n\r\nclass CreateTaskFormCore extends Component {\r\n\r\n  constructor(props){\r\n   super(props);\r\n   this.submit = this.submit.bind(this);\r\n   this.state =\r\n       {\r\n           pending: false,\r\n           error: false,\r\n           lane: this.props.task?this.props.task.lane:'lane_backlog',\r\n           id: this.props.task?('_'+this.props.task._id):'',\r\n           startDate: this.props.task?new Date(this.props.task.startDate):new Date(),\r\n           endDate: this.props.task?new Date(this.props.task.endDate):new Date()\r\n       }\r\n    this.handleStartDateChange = this.handleStartDateChange.bind(this);\r\n    this.handleEndDateChange = this.handleEndDateChange.bind(this);\r\n  }\r\n\r\n  handleStartDateChange(date) {\r\n    this.setState({\r\n      startDate: date\r\n    });\r\n  }\r\n\r\n  handleEndDateChange(date) {\r\n    this.setState({\r\n      endDate: date\r\n    });\r\n  }\r\n\r\n  submit(event){\r\n   event.preventDefault();\r\n   if(this.props.task){\r\n     /*\r\n       var filter = {_id: this.props.task._id}\r\n       var update = {\r\n          project: this.props.project._id,\r\n          name: this.refs.name.value,\r\n          content:  this.refs.content.value,\r\n          startDate: this.state.startDate,\r\n          endDate: this.state.endDate,\r\n          roles: $(\"#select_roles\"+ this.state.id + \" option:selected\").map(function() {return $(this).val();}).get(),\r\n          actions: $(\"#select_actions\"+ this.state.id + \" option:selected\").map(function() {return $(this).val();}).get()\r\n       }\r\n       this.setState({pending:true, error: false}, () => {\r\n            this.props.socket.emit('/api/task/update', filter, update, res => {\r\n                if(res.tasks){\r\n                    this.setState({pending:false, error: false}, () => $('#modal_createtask' + this.state.id).modal('close'))\r\n                }\r\n                if(res.error){\r\n                    this.setState({pending:false, error: res.error})\r\n                }\r\n            });\r\n       })*/\r\n   }\r\n   else {\r\n       var create = {\r\n          project: this.props.project._id,\r\n          name: this.refs.name.value,\r\n          lane:  'lane_backlog',\r\n          content:  this.refs.content.value,\r\n          roles: [].filter.call(this.refs.roles.options, o => o.selected).map(o => o.value),\r\n          action: this.refs.action.value,\r\n          names: common.ACTIONS[this.refs.action.value].names,\r\n          values: common.ACTIONS[this.refs.action.value].values,\r\n          formats: common.ACTIONS[this.refs.action.value].formats\r\n        }\r\n\r\n       this.setState({pending:true, error: false}, () => {\r\n            this.props.socket.emit('/api/task/create', create, res => {\r\n                if(res.tasks){\r\n                    this.setState({pending:false, error: false}, () => {\r\n                      $('#modal_createtask' + this.state.id).modal('close')\r\n                      this.props.socket.emit('/api/task/done')\r\n                  })\r\n                }\r\n                if(res.error){\r\n                    this.setState({pending:false, error: res.error})\r\n                }\r\n            });\r\n       })\r\n   }\r\n  }\r\n\r\n  componentWillUnmount() {\r\n      $('#modal_createtask' + this.state.id).modal('close');\r\n  }\r\n\r\n  componentDidMount(){\r\n    $(document).ready(() => {\r\n        $('#modal_createtask'+ this.state.id).modal({dismissible: false});\r\n        $('ul.tabs').tabs();\r\n        $('select').material_select();\r\n        $('#modal_createtask'+ this.state.id).modal({dismissible: false});\r\n    });\r\n  }\r\n  componentDidUpdate(prevProps, prevState) {\r\n    /*if(prevProps !== this.props){\r\n    this.forceUpdate()\r\n    }*/\r\n  }\r\n\r\n  render() {\r\n    let taskFormBody;\r\n    taskFormBody =\r\n        <div>\r\n            <div className=\"rezbuild center\" style={{marginBottom:'0'}}>\r\n            <h4 className=\"white-text\" style={{lineHeight:'150%'}}>{this.state.id? \"Update Task\":\"Create Task\"}</h4>\r\n            </div>\r\n            <div className=\"modal-content\" style={{paddingTop:0}}>\r\n                  <form className=\"col s12\" onSubmit={this.submit}>\r\n                     <div className=\"row\">\r\n                        <div className=\"input-field col s12\">\r\n                              <input id={\"input_name\"+ this.state.id}\r\n                              type=\"text\"\r\n                              ref=\"name\"\r\n                              defaultValue={this.props.task ? this.props.task.name : ''}\r\n                              required/>\r\n                              <label  className=\"active\" htmlFor={\"input_name\"+ this.state.id}>Name</label>\r\n                        </div>\r\n                     </div>\r\n                     <div className=\"row\">\r\n                        <div className=\"input-field col s12\">\r\n                           <textarea id={\"input_content\"+ this.state.id}\r\n                           ref=\"content\"\r\n                           className=\"materialize-textarea\"\r\n                           defaultValue={this.props.task ? this.props.task.content : ''}\r\n                           required/>\r\n                           <label className=\"active\"  htmlFor={\"input_content\"+ this.state.id}>Content</label>\r\n                        </div>\r\n                     </div>\r\n                     <div className=\"row\">\r\n                      <div className=\"input-field col s6\">\r\n                        <select multiple required defaultValue={[\"Customer\"]} id={\"select_roles\"+ this.state.id} ref=\"roles\">\r\n                          <option value=\"\" disabled>Choose role(s)</option>\r\n                          <option name=\"roles\" value=\"Customer\" id=\"role_customer\">Customer</option>\r\n                          <option name=\"roles\" value=\"Designer\" id=\"role_designer\">Designer</option>\r\n                          <option name=\"roles\" value=\"Analyst\" id=\"role_analyst\">Analyst</option>\r\n                        </select>\r\n                        <label>Authorized Role(s)</label>\r\n                      </div>\r\n                      <div className=\"input-field col s6\">\r\n                        <select required defaultValue={common.ACTIONS.NEW_MODEL_ASIS} id={\"select_actions\"+ this.state.id} ref=\"action\">\r\n                          <option value=\"\" disabled>Choose action(s)</option>\r\n                            {\r\n                             Object.entries(common.ACTIONS).map(([key, value]) => {\r\n                                return <option name=\"actions\" value={key} key={key}>\r\n                                    {key}\r\n                                </option>\r\n                             })\r\n                            }\r\n                        </select>\r\n                        <label>Authorized Action(s)</label>\r\n                      </div>\r\n                      </div>\r\n                      {\r\n                       (this.state.lane === 'lane_todo' || this.state.lane === 'lane_inprogress')?\r\n                        <div className=\"row\">\r\n                          <div className=\"input-field col s3\">\r\n\r\n                            <label className=\"active\">From date</label>\r\n                            <DatePicker\r\n                                selected={this.state.startDate}\r\n                                selectsStart\r\n                                maxDate={this.state.endDate}\r\n                                startDate={this.state.startDate}\r\n                                endDate={this.state.endDate}\r\n                                onChange={this.handleStartDateChange}\r\n                            />\r\n                          </div>\r\n                          <div className=\"input-field col s3\">\r\n                            <label className=\"active\">To date</label>\r\n                            <DatePicker\r\n                                selected={this.state.endDate}\r\n                                selectsEnd\r\n                                minDate={this.state.startDate}\r\n                                startDate={this.state.startDate}\r\n                                endDate={this.state.endDate}\r\n                                onChange={this.handleEndDateChange}\r\n                            />\r\n                           </div>\r\n                        </div>:\"\"\r\n                      }\r\n                      { this.state.error ?\r\n                        <div className=\"row\">\r\n                            <div className=\"col s12\">\r\n                                <h6 className='rezbuild-text'>{this.state.error}</h6>\r\n                            </div>\r\n                        </div> : ''\r\n                        }\r\n    \r\n                      { this.state.pending ?\r\n                      <div className=\"preloader-wrapper small active\">\r\n                          <div className=\"spinner-layer\">\r\n                            <div className=\"circle-clipper left\">\r\n                              <div className=\"circle\"></div>\r\n                            </div><div className=\"gap-patch\">\r\n                              <div className=\"circle\"></div>\r\n                            </div><div className=\"circle-clipper right\">\r\n                              <div className=\"circle\"></div>\r\n                            </div>\r\n                          </div>\r\n                        </div> : ''\r\n                      }\r\n                     <div className=\"row\">\r\n                      <div className=\"input-field col s6 center\">\r\n                          <button className=\"btn waves-effect waves-light\" type=\"submit\"><i className=\"material-icons right\">send</i>SUBMIT</button>\r\n                      </div>\r\n                      <div className=\"input-field col s6 center\">\r\n                          <a className=\"btn waves-effect waves-light rezbuild-text white\" href='#!'\r\n                          onClick={() => $('#modal_createtask'+ this.state.id).modal('close')}>\r\n                            <i className=\"material-icons left\">cancel</i>\r\n                          CANCEL</a>\r\n                      </div>\r\n                     </div>\r\n                  </form>\r\n            </div>\r\n        </div>\r\n\r\n    return (\r\n    <div id={\"modal_createtask\" + this.state.id} className=\"modal\">\r\n        {taskFormBody}\r\n    </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst CreateTaskForm = props => (\r\n  <SocketContext.Consumer>\r\n  { (context) => <CreateTaskFormCore {...props} socket={context.socket} uploader={context.uploader} />}\r\n  </SocketContext.Consumer>\r\n)\r\n\r\nexport default CreateTaskForm;\r\n","/**\r\n * @class Card\r\n * @extends Component\r\n * @description Create the card part of the trello\r\n */\r\nimport React, { Component } from 'react'\r\nimport RemoveTaskForm from './removeTask'\r\nimport CreateTaskForm from './createTask'\r\nvar $ = window.$\r\n\r\nclass CardComponent extends Component {\r\n\r\n  constructor(props){\r\n    super(props);\r\n    this.onIn = this.onIn.bind(this)\r\n    this.onOut = this.onOut.bind(this)\r\n    this.state = {hover:false}\r\n  }\r\n  onIn(){\r\n    this.setState({hover: true})\r\n    $(\"#content_\"+this.props.id).css('opacity', '1');\r\n    $(\"#content_\"+this.props.id).css('max-height', '15em');\r\n\r\n}\r\n onOut(){\r\n    this.setState({hover: false})\r\n    $(\"#content_\"+this.props.id).css('transition', 'max-height 0.5s ease-out, opacity 0.5s ease-out');\r\n    $(\"#content_\"+this.props.id).css('opacity', '0');\r\n    $(\"#content_\"+this.props.id).css('max-height', '0');\r\n    $(\"#content_\"+this.props.id).css('overflow', 'hidden');\r\n  }\r\n\r\n  componentDidUpdate() {\r\n    $('.rXSjd').css('min-width', '4em');\r\n    $('#textarea_'+this.props.id).trigger('autoresize');\r\n  }\r\n\r\n  render(){\r\n      return (\r\n        <div className=\"section hoverable\"\r\n        onMouseOver={ this.props.draggable?this.onIn:null}\r\n        onMouseOut={this.props.draggable?this.onOut:null} \r\n        style={{\r\n        minWidth: '15em',\r\n        width: '15em',\r\n        maxWidth: '15em',\r\n        color:'#000',\r\n        backgroundColor:'#fff',\r\n        fontFamily: 'Exo 2',\r\n        textShadow:\"-1px -1px 0 #fff, 1px -1px 0 #fff,  -1px 1px 0 #fff, 1px 1px 0 #fff\",\r\n        borderStyle: this.props.dashed?'dashed': \"solid\",\r\n        borderColor: this.props.focused?'#f7931e': \"#fff\",\r\n        borderWidth: this.props.focused?'4px' : '0px',\r\n        opacity: this.props.draggable?'1':'0.5',\r\n        padding: '0',\r\n        marginBottom: '10px',\r\n\r\n        }}>\r\n            <div className=\"row\" style={{marginBottom:'0px'}}>\r\n                <div className=\"col s6 left-align\">\r\n                    <h6  className=\"black-text\"><b>{this.props.name}</b></h6>\r\n                </div>\r\n                <div className=\"col s6 right-align\">\r\n                    <h6 className=\"black-text\"><i>{this.props.roles.map(role => role[0]).join()}</i></h6>\r\n                </div>\r\n                {\r\n                    this.props.userDetails?\r\n                    <div className=\"col s12\">\r\n                        <h6  className=\"black-text\"><b>@</b>{this.props.userDetails.firstname + ' ' + this.props.userDetails.lastname}</h6>\r\n                    </div>: \"\"\r\n                }\r\n                {\r\n                 (this.props.lane === 'lane_todo' || this.props.lane === 'lane_inprogress')?\r\n                    <div className=\"row\" style={{marginBottom:'0px'}}>\r\n                        <div className=\"col s5 center\">\r\n                             <h6 className=\"black-text\">{(new Date(this.props.startDate)).toLocaleDateString(\"en-US\")}</h6>\r\n                        </div>\r\n                        <div className=\"col s2 center\">\r\n                             <i className=\"material-icons black-text\">arrow_forward</i>\r\n                        </div>\r\n                        <div className=\"col s5 center\">\r\n                             <h6 className=\"black-text\">{(new Date(this.props.endDate)).toLocaleDateString(\"en-US\")}</h6>\r\n                        </div>\r\n                    </div>\r\n                    :\"\"\r\n                }\r\n\r\n                <div className=\"col s12 center\" id={\"content_\"+this.props.id} style={{\r\n                        transition: 'max-height 0.5s ease-out, opacity 0.5s ease-out',\r\n                        opacity: '0',\r\n                        maxHeight: '0',\r\n                        overflow: 'hidden',\r\n                    }}>\r\n                     <div className=\"col s12\">\r\n                        <textarea style={{pointerEvents:'none'}} id={\"textarea_\"+this.props.id} className=\"materialize-textarea black-text\" defaultValue={this.props.content}></textarea>\r\n                     </div>\r\n                     <div className=\"chip white-text grey lighten-4\" style={{textShadow:\"-2px -2px 2px #f7931e, 2px -2px 2px #f7931e,  -2px 2px 2px #f7931e, 2px 2px 2px #f7931e\"}}>\r\n                        <b>{this.props.action}</b>\r\n                     </div>\r\n                     </div>\r\n\r\n                <div className=\"col s12\">\r\n                    {\r\n                        (this.props.lane === 'lane_done') ?\r\n                        <h6 className=\"black-text\">{(new Date(this.props.date)).toLocaleString(\"en-US\")}</h6>\r\n                        : ''\r\n                    }\r\n                </div>\r\n            </div>\r\n           <RemoveTaskForm  task={this.props} />\r\n           <CreateTaskForm task={this.props} />\r\n        </div>\r\n      )\r\n  }\r\n}\r\n\r\nexport default CardComponent;\r\n","/**\r\n * @class BacklogTaskForm\r\n * @extends Component\r\n * @description Create the form for a BACKLOG task\r\n */\r\nimport React, { Component } from 'react'\r\nimport axios from 'axios'\r\nimport SocketContext from '../../../../SocketContext'\r\nimport \"../../../../../node_modules/react-datepicker/dist/react-datepicker.css\"\r\naxios.defaults.withCredentials = true\r\n\r\nvar $ = window.$\r\n\r\nclass BacklogTaskFormCore extends Component {\r\n\r\n  constructor(props){\r\n   super(props);\r\n   this.submit = this.submit.bind(this);\r\n   this.cancel = this.cancel.bind(this);\r\n   this.state = {\r\n       error : false,\r\n       pending : false,\r\n       startDate: this.props.task.startDate,\r\n       endDate: this.props.task.endDate\r\n   }\r\n   this.handleStartDateChange = this.handleStartDateChange.bind(this);\r\n   this.handleEndDateChange = this.handleEndDateChange.bind(this);\r\n  }\r\n\r\n  handleStartDateChange(date) {\r\n    this.setState({startDate: date});\r\n  }\r\n\r\n  handleEndDateChange(date) {\r\n    this.setState({endDate: date});\r\n  }\r\n\r\n submit(event){\r\n   event.preventDefault();\r\n    this.setState({error : false, pending : true}, () => {\r\n        var nextTaskIds = [] \r\n        var descend = (taskId, nextTaskIds) => {\r\n            nextTaskIds.push(taskId)\r\n          var currTask = this.props.tasks.filter((task) => task._id === taskId)[0];\r\n          currTask.next.map((nextTaskId) => descend(nextTaskId, nextTaskIds))\r\n        }\r\n        descend(this.props.task._id, nextTaskIds)\r\n        var filter = {_id: {$in: nextTaskIds}}\r\n        this.props.socket.emit('/api/task/delete', filter, res => {\r\n            if(res.tasks){\r\n                var filter = {_id: {$in: this.props.task.prev}}\r\n                var update = { $pull: {next: this.props.task._id}}\r\n                this.props.socket.emit('/api/task/update', filter, update, res => {\r\n                    if(res.tasks){\r\n                        this.setState({pending:false, error: false}, () => {\r\n                            $(\"#modal_backlogtask\").modal('close')\r\n                            //this.props.setTask(this.props.tasks.filter(task => task._id === this.props.task.prev[0])[0])\r\n                            this.props.socket.emit('/api/task/done')\r\n                        })\r\n                    }\r\n                    if(res.error){\r\n                        this.setState({pending:false, error: res.error})\r\n                    }\r\n                });\r\n            }\r\n            if(res.error){\r\n                this.setState({pending:false, error: res.error})\r\n            }\r\n       });\r\n    })\r\n  }\r\n\r\n\r\n  cancel(){\r\n    this.props.cancel()\r\n    $('#modal_backlogtask').modal('close');\r\n  }\r\n\r\n  componentDidMount(){\r\n    $(document).ready(() => {\r\n        $('#modal_backlogtask').modal();\r\n        $('select').material_select();\r\n    })\r\n  }\r\n\r\n  render() {\r\n    let formBody;\r\n    let body;\r\n    if(this.props.task){\r\n        formBody =  <div>\r\n                        <div className=\"col s12 center\">\r\n                        <h5 className=\"rezbuild-text\">Do you want to remove <strong style={{fontWeight:'900'}}>{this.props.task.name}</strong> ?</h5>\r\n                        </div>\r\n                    </div>\r\n\r\n    body =\r\n        <div>\r\n            <div className=\"rezbuild center\" style={{marginBottom:'0'}}>\r\n            <h4 className=\"white-text\" style={{lineHeight:'150%'}}>{this.props.task.name}</h4>\r\n            </div>\r\n            <div className=\"modal-content\">\r\n                  <form className=\"col s12\">\r\n                     <div className=\"row\">\r\n                        {formBody}\r\n                     </div>\r\n                     <div className=\"row\" style={{marginTop:'250px'}}>\r\n                      <div className=\"input-field col s6 center\">\r\n                          <a className=\"btn waves-effect waves-light\" href='#!' onClick={this.submit}><i className=\"material-icons right\">send</i>SUBMIT</a>\r\n                      </div>\r\n                      <div className=\"input-field col s6 center\">\r\n                          <a className=\"btn waves-effect waves-light rezbuild-text white\" href='#!' onClick={this.cancel}><i className=\"material-icons left\">cancel</i>CANCEL</a>\r\n                      </div>\r\n                     </div>\r\n                  </form>\r\n            </div>\r\n        </div>\r\n    }\r\n\r\n    return (\r\n    <div id=\"modal_backlogtask\" className=\"modal\" style={{minHeight:'500px'}}>\r\n        {body}\r\n    </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst BacklogTaskForm = props => (\r\n  <SocketContext.Consumer>\r\n  { (context) => <BacklogTaskFormCore {...props} socket={context.socket} uploader={context.uploader} />}\r\n  </SocketContext.Consumer>\r\n)\r\n\r\nexport default BacklogTaskForm;\r\n","/**\r\n * @class TodoTaskForm\r\n * @extends Component\r\n * @description Create the form for a TODO task\r\n */\r\nimport React, { Component } from 'react'\r\nimport axios from 'axios'\r\nimport SocketContext from '../../../../SocketContext'\r\nimport DatePicker from 'react-datepicker'\r\nimport \"../../../../../node_modules/react-datepicker/dist/react-datepicker.css\"\r\naxios.defaults.withCredentials = true\r\n\r\nvar $ = window.$\r\n\r\nclass TodoTaskFormCore extends Component {\r\n\r\n  constructor(props){\r\n   super(props);\r\n   this.submit = this.submit.bind(this);\r\n   this.cancel = this.cancel.bind(this);\r\n   this.state = {\r\n       error : false,\r\n       pending : false,\r\n       startDate: this.props.task.startDate,\r\n       endDate: this.props.task.endDate\r\n   }\r\n   this.handleStartDateChange = this.handleStartDateChange.bind(this);\r\n   this.handleEndDateChange = this.handleEndDateChange.bind(this);\r\n  }\r\n\r\n  handleStartDateChange(date) {\r\n    this.setState({startDate: date});\r\n  }\r\n\r\n  handleEndDateChange(date) {\r\n    this.setState({endDate: date});\r\n  }\r\n\r\n submit(event){\r\n   event.preventDefault();\r\n    this.setState({error : false, pending : true}, () => {\r\n      \r\n      var create = {\r\n        project: this.props.task.project,\r\n        lane:   'lane_todo',\r\n        name: this.props.task.name,\r\n        content: this.props.task.content,\r\n        startDate: this.state.startDate,\r\n        endDate: this.state.endDate,\r\n        roles: this.props.task.roles,\r\n        action: this.props.task.action,\r\n        names: this.props.task.names,\r\n        formats:  this.props.task.formats,\r\n        values: this.props.task.values,\r\n        files: this.props.task.files,\r\n        prev: [this.props.selectedTask._id],\r\n        next: []\r\n       }\r\n       \r\n      if(this.refs.user.value) create.user = this.refs.user.value\r\n\r\n       this.props.socket.emit('/api/task/create', create, res => {\r\n            if(res.tasks){\r\n              var filter = {_id: this.props.selectedTask._id}\r\n              var update = { $push: {next: res.tasks._id}}\r\n              var newTask = res.tasks;\r\n              this.props.socket.emit('/api/task/update', filter, update, res => {\r\n                  if(res.tasks){\r\n                       /* SEND MAIL */\r\n                    if(create.user){\r\n                      this.props.socket.emit('/api/user/get', {_id: create.user}, res => {\r\n                        if(res.users){\r\n                          this.props.socket.emit('/api/email/send', {user: res.users[0], task: newTask, project: this.props.project}, res => {\r\n                              /* CLOSE MODAL */\r\n                              this.setState({pending:false, error: false}, () => {\r\n                                $(\"#modal_todotask\").modal('close')\r\n                                this.props.socket.emit('/api/task/done')\r\n                              });\r\n                          });\r\n                        }\r\n                      });\r\n                    } else {\r\n                      /* CLOSE MODAL */\r\n                      this.setState({pending:false, error: false}, () => {\r\n                        $(\"#modal_todotask\").modal('close')\r\n                        this.props.socket.emit('/api/task/done')\r\n                      })\r\n                    }\r\n                  }\r\n                  if(res.error){\r\n                      this.setState({pending:false, error: res.error})\r\n                  }\r\n              }) \r\n            }\r\n            if(res.error){\r\n                this.setState({pending:false, error: res.error})\r\n            }\r\n       });\r\n    })\r\n  }\r\n\r\n\r\n  cancel(){\r\n    this.props.cancel()\r\n    $('#modal_todotask').modal('close');\r\n  }\r\n\r\n  componentDidMount(){\r\n    $(document).ready(() => {\r\n        $('#modal_todotask').modal({dismissible: false});\r\n        $('select').material_select();\r\n    })\r\n  }\r\n\r\n  render() {\r\n    let formBody;\r\n    let body;\r\n    if(this.props.task){\r\n        formBody =  <div>\r\n                          <div className=\"input-field col s6\">\r\n                              <select  defaultValue=\"\" id=\"user\" ref=\"user\">\r\n                                <option value=\"\"></option>\r\n                                  {\r\n                                    this.props.users\r\n                                    .filter(user => {\r\n                                      return user.roles.includes(...this.props.task.roles)\r\n                                      }\r\n                                    )\r\n                                    .map((user, index) => \r\n                                      <option name=\"user\" value={user._id} key={index}>\r\n                                      {user.firstname + \" \" + user.lastname+ \" (\" + user.email + \")\"}\r\n                                      </option>\r\n                                    )\r\n                                  }\r\n                              </select>\r\n                              <label>Assign a user</label>\r\n                          </div>\r\n                          <div className=\"input-field col s3\">\r\n                            <label className=\"active\">From date</label>\r\n                            <DatePicker\r\n                                selected={new Date(this.state.startDate)}\r\n                                selectsStart\r\n                                maxDate={new Date(this.state.endDate)}\r\n                                startDate={new Date(this.state.startDate)}\r\n                                endDate={new Date(this.state.endDate)}\r\n                                onChange={this.handleStartDateChange}\r\n                            />\r\n                          </div>\r\n                          <div className=\"input-field col s3\">\r\n                            <label className=\"active\">To date</label>\r\n                            <DatePicker\r\n                                selected={new Date(this.state.endDate)}\r\n                                selectsEnd\r\n                                minDate={new Date(this.state.startDate)}\r\n                                startDate={new Date(this.state.startDate)}\r\n                                endDate={new Date(this.state.endDate)}\r\n                                onChange={this.handleEndDateChange}\r\n                            />\r\n                           </div>\r\n                        </div>\r\n\r\n    body =\r\n        <div>\r\n            <div className=\"rezbuild center\" style={{marginBottom:'0'}}>\r\n            <h4 className=\"white-text\" style={{lineHeight:'150%'}}>{this.props.task.name}</h4>\r\n            </div>\r\n            <div className=\"modal-content\">\r\n                  <form className=\"col s12\">\r\n                     <div className=\"row\">\r\n                        {formBody}\r\n                     </div>\r\n                     <div className=\"row\" style={{marginTop:'250px'}}>\r\n                      <div className=\"input-field col s6 center\">\r\n                          <a className=\"btn waves-effect waves-light\" href='#!' onClick={this.submit}><i className=\"material-icons right\">send</i>SUBMIT</a>\r\n                      </div>\r\n                      <div className=\"input-field col s6 center\">\r\n                          <a className=\"btn waves-effect waves-light rezbuild-text white\" href='#!' onClick={this.cancel}><i className=\"material-icons left\">cancel</i>CANCEL</a>\r\n                      </div>\r\n                     </div>\r\n                  </form>\r\n            </div>\r\n        </div>\r\n    }\r\n\r\n    return (\r\n    <div id=\"modal_todotask\" className=\"modal\" style={{minHeight:'500px'}}>\r\n        {body}\r\n    </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst TodoTaskForm = props => (\r\n  <SocketContext.Consumer>\r\n  { (context) => <TodoTaskFormCore {...props} socket={context.socket} uploader={context.uploader} />}\r\n  </SocketContext.Consumer>\r\n)\r\n\r\nexport default TodoTaskForm;\r\n","/**\r\n * @class DoneTaskForm\r\n * @extends Component\r\n * @description Create the form for a DONE task\r\n */\r\nimport React, { Component } from 'react'\r\nimport common from 'common'\r\nimport axios from 'axios'\r\nimport SocketContext from '../../../../SocketContext'\r\nimport \"../../../../../node_modules/react-datepicker/dist/react-datepicker.css\"\r\nimport sanitize from 'sanitize-filename'\r\n\r\naxios.defaults.withCredentials = true\r\nvar $ = window.$\r\nvar allAttachedFiles = [];\r\nvar uploadedAttachedFiles = [];\r\n\r\nclass DoneTaskFormCore extends Component {\r\n\r\n  constructor(props){\r\n   super(props);\r\n   this.submit = this.submit.bind(this);\r\n   this.cancel = this.cancel.bind(this);\r\n   this.state = {\r\n       newTaskId: false,\r\n       error : false,\r\n       pending : false,\r\n       progress : 0,\r\n   }\r\n  }\r\n    generateForm = (task, name, index) => {\r\n        var minValue, maxValue;\r\n        switch(common.ACTIONS[task.action].typeValues[index]) {\r\n            case Number:\r\n                minValue = common.ACTIONS[task.action].minValues[index];\r\n                maxValue = common.ACTIONS[task.action].maxValues[index];\r\n                return (<div className=\"input-field col s6\">\r\n                    <input \r\n                    required \r\n                    id={\"values_\"+task._id+'_'+name}\r\n                    key={\"values_\"+task._id+'_'+name} \r\n                    ref={\"values_\"+task._id+'_'+name}\r\n                    type=\"number\" \r\n                    step=\"any\" \r\n                    className=\"validate\"  \r\n                    min={minValue>maxValue?maxValue:minValue}\r\n                    max={maxValue>minValue?maxValue:minValue}\r\n                    defaultValue={task.values[index]}\r\n                    />\r\n                    <label className=\"active\" htmlFor={\"values_\"+task._id+'_'+name}>{name} ({minValue}-{maxValue}{task.formats[index]})</label>\r\n                </div>)\r\n            case Boolean:\r\n                minValue = common.ACTIONS[task.action].minValues[index];\r\n                maxValue = common.ACTIONS[task.action].maxValues[index];\r\n                \r\n                return (\r\n                <div className=\"input-field col s6\">\r\n                    <select \r\n                    required\r\n                    id={\"values_\"+task._id+'_'+name}\r\n                    key={\"values_\"+task._id+'_'+name}\r\n                    ref={\"values_\"+task._id+'_'+name} \r\n                    defaultValue={Number(task.values[index])}\r\n                    >\r\n                    <option  value={Number(minValue)} id={\"values_\"+task._id+'_'+name}>False</option>\r\n                    <option  value={Number(maxValue)} id={\"values_\"+task._id+'_'+name}>True</option>\r\n                    </select>\r\n                    <label className=\"active\" htmlFor={\"values_\"+task._id+'_'+name}>{name} ({minValue}-{maxValue}{task.formats[index]})</label>\r\n                </div>);\r\n            case Object:\r\n                return(\r\n                <div className=\"file-field input-field col s6\" style={{marginTop:'0'}}>\r\n                    <h6 className=\"grey-text\">{name}</h6>\r\n                    <div className=\"btn rezbuild col s1\">\r\n                    <i className=\"material-icons white-text\">cloud_upload</i>\r\n                    <input required \r\n                    type=\"file\" \r\n                    id={\"values_\"+task._id+'_'+name} \r\n                    key={\"values_\"+task._id+'_'+name}\r\n                    ref={\"values_\"+task._id+'_'+name} \r\n                    defaultValue={\"\"}\r\n                    accept={task.formats[index]}/>\r\n                    </div>\r\n                    <div className=\"file-path-wrapper col s11\">\r\n                    <input className=\"file-path validate\"\r\n                    type=\"text\"\r\n                    placeholder={\"Upload \" + name}\r\n                    />\r\n                    </div>\r\n                </div>\r\n                 );\r\n            default:\r\n                return;\r\n        }\r\n    }\r\n  submit(event){\r\n   event.preventDefault()\r\n   this.setState({newTaskId: this.props.task._id, pending:true, error: false, progress: 0}, () => {\r\n    if(this.props.task.lane === \"lane_todo\"){\r\n        var filter = {_id: this.props.task._id}\r\n        var update = {\r\n            user: \"token\",\r\n            lane: 'lane_done',\r\n            names: [],\r\n            values: [],\r\n            files: []\r\n        }\r\n\r\n        allAttachedFiles  = []; \r\n        uploadedAttachedFiles = [];\r\n\r\n        this.props.task.names.forEach((name, index) => {\r\n            var valuesRefName = \"values_\"+this.props.task._id+'_'+name;\r\n            var filesRefName = \"files_\"+this.props.task._id+'_'+name;\r\n\r\n            update.names.push(name)\r\n            \r\n            var value = (this.refs[valuesRefName].files)?this.refs[valuesRefName].files[0].name:this.refs[valuesRefName].value\r\n            update.values.push(value)\r\n            \r\n            var file = \"\"\r\n            if(this.refs[filesRefName].files.length)  {\r\n                allAttachedFiles.push(this.refs[filesRefName].files[0])\r\n                file = sanitize(this.refs[filesRefName].files[0].name)\r\n            }\r\n            update.files.push(file);\r\n\r\n            if(this.refs[valuesRefName].files && this.refs[valuesRefName].files.length){\r\n                allAttachedFiles.push(this.refs[valuesRefName].files[0])\r\n            }\r\n        })\r\n\r\n        this.props.uploader.submitFiles(allAttachedFiles)\r\n\r\n        this.props.socket.emit('/api/task/update', filter, update, res => {\r\n            if(res.tasks){\r\n                this.setState({pending:false, error: false}, () => {\r\n                    if(uploadedAttachedFiles.length >= allAttachedFiles.length){\r\n                        $(\"#modal_donetask_form\").trigger('reset');\r\n                        $(\"#modal_donetask\").modal('close');\r\n                        this.props.socket.emit('/api/task/done');\r\n                    }\r\n                })\r\n            }\r\n            if(res.error){\r\n                this.setState({pending:false, error: res.error})\r\n            }\r\n        }) \r\n    }\r\n    if(this.props.task.lane === \"lane_backlog\"){\r\n        var create = {\r\n            project: this.props.task.project,\r\n            lane:   'lane_done',\r\n            name: this.props.task.name,\r\n            content: this.props.task.content,\r\n            startDate: this.props.task.startDate,\r\n            endDate: this.props.task.endDate,\r\n            date: new Date(),\r\n            user: 'token',\r\n            roles: this.props.task.roles,\r\n            action: this.props.task.action,\r\n            names: this.props.task.names,\r\n            values: this.props.task.values,\r\n            formats:  this.props.task.formats,\r\n            files: this.props.task.files,\r\n            prev: [this.props.selectedTask._id],\r\n            next: []\r\n        }\r\n        this.props.socket.emit('/api/task/create', create, res => {\r\n            if(res.tasks){\r\n                this.setState({newTaskId: res.tasks._id}, () =>{\r\n                    var filter = {_id: this.state.newTaskId}\r\n                    var update = {\r\n                        names: [],\r\n                        values: [],\r\n                        files: []\r\n                    }\r\n                    \r\n                    allAttachedFiles = [];\r\n                    uploadedAttachedFiles = [];\r\n\r\n                    this.props.task.names.forEach((name, index) => {\r\n                        var valuesRefName = \"values_\"+this.props.task._id+'_'+name;\r\n                        var filesRefName = \"files_\"+this.props.task._id+'_'+name;\r\n\r\n                        update.names.push(name);\r\n                        var value = (this.refs[valuesRefName].files)?this.refs[valuesRefName].files[0].name:this.refs[valuesRefName].value;\r\n                        update.values.push(value);\r\n\r\n                        var file = \"\"\r\n                        if(this.refs[filesRefName].files.length)  {\r\n                            allAttachedFiles.push(this.refs[filesRefName].files[0])\r\n                            file = sanitize(this.refs[filesRefName].files[0].name)\r\n                        }\r\n                        update.files.push(file);\r\n                        \r\n                        if(this.refs[valuesRefName].files && this.refs[valuesRefName].files.length){\r\n                            allAttachedFiles.push(this.refs[valuesRefName].files[0])\r\n                        }\r\n                    })\r\n                    \r\n                    this.props.uploader.submitFiles(allAttachedFiles)\r\n\r\n                   this.props.socket.emit('/api/task/update', filter, update, res => {\r\n                        if(res.tasks){\r\n                            var filter = {_id: this.props.selectedTask._id}\r\n                            var update = { $push: {next: this.state.newTaskId}}\r\n                            this.props.socket.emit('/api/task/update', filter, update, res => {\r\n                                if(res.tasks){\r\n                                    this.setState({pending:false, error: false}, () => {\r\n                                        if(uploadedAttachedFiles.length >= allAttachedFiles.length){\r\n                                            $(\"#modal_donetask_form\").trigger('reset');\r\n                                            $(\"#modal_donetask\").modal('close');\r\n                                            this.props.socket.emit('/api/task/done');\r\n                                        }\r\n                                    })\r\n                                }\r\n                                if(res.error){\r\n                                    this.setState({pending:false, error: res.error})\r\n                                }\r\n                            }) \r\n                        }\r\n                        if(res.error){\r\n                            this.setState({pending:false, error: res.error})\r\n                        }\r\n                    })\r\n                })\r\n            }\r\n            if(res.error){\r\n                this.setState({pending:false, error: res.error})\r\n            }\r\n        });\r\n    }\r\n    })\r\n  }\r\n\r\n\r\n  cancel(){\r\n    this.props.cancel()\r\n\r\n    $('#modal_donetask').modal('close');\r\n  }\r\n\r\n  componentDidMount(){\r\n    this.props.uploader.addEventListener(\"start\", (event) => {\r\n        event.file.meta.taskId = this.state.newTaskId;\r\n        this.setState({progress: 0}, () => {\r\n        })\r\n    });\r\n\r\n    $(document).ready(() => {\r\n        $('#modal_donetask').modal({dismissible: false});\r\n        this.props.uploader.addEventListener(\"progress\", (event) => {\r\n            this.setState({progress: (event.bytesLoaded / event.file.size * 100).toFixed(0)}, () => {\r\n            })\r\n        });\r\n        this.props.uploader.addEventListener(\"complete\", (event) => {\r\n            this.setState({progress: 0}, () => {\r\n                uploadedAttachedFiles.push(event.file);\r\n                if(uploadedAttachedFiles.length >= allAttachedFiles.length){\r\n                    $(\"#modal_donetask_form\").trigger('reset');\r\n                    $(\"#modal_donetask\").modal('close');\r\n                    this.props.socket.emit('/api/task/done');\r\n                }\r\n            })\r\n        });\r\n    })\r\n  }\r\n\r\n  componentWillUnmount(){\r\n        this.props.uploader.removeEventListener(\"start\");\r\n        this.props.uploader.removeEventListener(\"progress\");\r\n        this.props.uploader.removeEventListener(\"complete\");\r\n  }\r\n\r\n  render() {\r\n    return (\r\n    <div id=\"modal_donetask\" className=\"modal\" style={{minHeight:'500px'}}>\r\n        <div className=\"rezbuild center\" style={{marginBottom:'0'}}>\r\n            <h4 className=\"white-text\" style={{lineHeight:'150%'}}>Actions to complete <b>{this.props.task.name}</b></h4>\r\n            </div>\r\n            <div className=\"modal-content\" style={{padding:0}}>\r\n                <form className=\"col s12\" onSubmit={this.submit} id=\"modal_donetask_form\">\r\n                    <div className=\"row\">\r\n                        { \r\n                            this.props.task.names.map((name, index) => \r\n                                <div className=\"row\" key={index}>\r\n                                    {this.generateForm(this.props.task, name, index)}\r\n                                    <div className=\"file-field input-field col s6\" style={{marginTop:'0'}}>\r\n                                            <h6 className=\"grey-text\">Attached file</h6>\r\n                                            <div className=\"btn rezbuild col s1\">\r\n                                            <i className=\"material-icons white-text\">cloud_upload</i>\r\n                                            <input type=\"file\"\r\n                                            id={\"files_\" +this.props.task._id+'_'+name} \r\n                                            key={\"files_\" +this.props.task._id+'_'+name} \r\n                                            ref= {'files_'+this.props.task._id+'_'+name} \r\n                                            defaultValue=\"\"\r\n                                            />\r\n                                            </div>\r\n                                            <div className=\"file-path-wrapper col s11\">\r\n                                            <input className=\"file-path validate\" type=\"text\"\r\n                                                placeholder=\"Upload attached file\"\r\n                                            />\r\n                                            </div>\r\n                                    </div>\r\n                                </div>\r\n                            )\r\n                        }\r\n                    </div>\r\n                    { this.state.pending ?\r\n                    <div className=\"preloader-wrapper small active\">\r\n                        <div className=\"spinner-layer\">\r\n                        <div className=\"circle-clipper left\">\r\n                            <div className=\"circle\"></div>\r\n                        </div><div className=\"gap-patch\">\r\n                            <div className=\"circle\"></div>\r\n                        </div><div className=\"circle-clipper right\">\r\n                            <div className=\"circle\"></div>\r\n                        </div>\r\n                        </div>\r\n                    </div> : ''\r\n                    }\r\n\r\n                    { this.state.error ?\r\n                    <div className=\"row\">\r\n                        <div className=\"col s12\">\r\n                            <h6 className='rezbuild-text'>{this.state.error}</h6>\r\n                        </div>\r\n                    </div> : ''\r\n                    }\r\n\r\n                    {\r\n                    this.state.progress?\r\n                    <div className=\"progress\">\r\n                    <div className=\"determinate\" style={{width: this.state.progress+\"%\"}}></div>\r\n                    </div>\r\n                    :<div className=\"row\" style={{marginTop:'250px'}}>\r\n                    <div className=\"input-field col s6 center\">\r\n                        <button className=\"btn waves-effect waves-light\" href='#!' type=\"submit\" id=\"button_submit_task_done\"><i className=\"material-icons right\">send</i>SUBMIT</button>\r\n                    </div>\r\n                    <div className=\"input-field col s6 center\">\r\n                        <a className=\"btn waves-effect waves-light rezbuild-text white\" href='#!'  onClick={this.cancel}><i className=\"material-icons left\">cancel</i>CANCEL</a>\r\n                    </div>\r\n                    </div>\r\n                    }\r\n                </form>\r\n            </div>\r\n    </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst DoneTaskForm = props => (\r\n  <SocketContext.Consumer>\r\n  { (context) => <DoneTaskFormCore {...props} socket={context.socket} uploader={context.uploader}/>}\r\n  </SocketContext.Consumer>\r\n)\r\n\r\nexport default DoneTaskForm;\r\n","/**\r\n * @class Trello\r\n * @extends Component\r\n * @description Create the trello part of the dashboard\r\n */\r\nimport React, { Component } from 'react'\r\nimport Board from 'react-trello'\r\nimport CardComponent from './card'\r\nimport BacklogTaskForm from './backlogTaskForm'\r\nimport TodoTaskForm from './todoTaskForm'\r\nimport DoneTaskForm from './doneTaskForm'\r\nimport CreateTaskForm from './card/createTask'\r\nimport common from 'common'\r\nvar $ = window.$\r\n\r\n/* CARD STYLING */\r\nconst normalCardStyle = {\r\n    minWidth: '15em',\r\n    width: '15em',\r\n    maxWidth: '15em',\r\n    marginBottom: '10px',\r\n    color:'#000',\r\n    backgroundColor:'#fff',\r\n    padding: '0',\r\n    fontFamily: 'Exo 2',\r\n    textShadow:\"-1px -1px 0 #fff, 1px -1px 0 #fff,  -1px 1px 0 #fff, 1px 1px 0 #fff\"\r\n}\r\n\r\n\r\n/* LANE STYLING */\r\nconst lanesStyle = {\r\n    minWidth: '18em',\r\n    width: '18em',\r\n    maxWidth: '18em',\r\n    maxHeight:'100%',\r\n    color:'#fff',\r\n    backgroundColor:  'rgba(247,147,30, .5)',\r\n    fontFamily: 'Exo 2',\r\n    textShadow:\"-2px -2px 2px #f7931e, 2px -2px 2px #f7931e,  -2px 2px 2px #f7931e, 2px 2px 2px #f7931e\"\r\n}\r\n\r\nclass TrelloComponent extends Component {\r\n\r\n  constructor(props){\r\n    super(props);\r\n    this.state = {eventBus: null, data : null}\r\n    this.handleDragEnd = this.handleDragEnd.bind(this)\r\n    this.onTaskChange = this.onTaskChange.bind(this)\r\n    this.onCardClick = this.onCardClick.bind(this)\r\n    this.setEventBus = this.setEventBus.bind(this)\r\n    this.eventBus = null\r\n    this.cancel = this.cancel.bind(this)\r\n  }\r\n  setEventBus(handle){this.setState({eventBus: handle})}\r\n  onTaskChange(nextData){this.setState({data:  nextData})}\r\n  onCardClick(cardId, metadata, laneId){\r\n    \r\n  }\r\n  handleDragEnd(cardId, sourceLaneId, targetLaneId, position, cardDetails){\r\n    \r\n    let cancel = {\r\n      type: 'MOVE_CARD',\r\n      fromLaneId: targetLaneId,\r\n      toLaneId: sourceLaneId,\r\n      cardId: cardId,\r\n      index: 0\r\n    }\r\n    if(cardDetails.draggable){\r\n      if(sourceLaneId === 'lane_backlog'){\r\n        if(targetLaneId === 'lane_todo'){\r\n          this.setState(\r\n            {\r\n            cancel: cancel,\r\n            task: cardDetails\r\n            }, () => $('#modal_todotask').modal('open'))\r\n          return\r\n        }\r\n        if(targetLaneId === 'lane_done'){\r\n          this.setState(\r\n            {\r\n            cancel: cancel,\r\n            task: cardDetails\r\n            }, () => $('#modal_donetask').modal('open'))\r\n          return\r\n        }\r\n      }\r\n      if(sourceLaneId === 'lane_todo'){\r\n        if(targetLaneId === 'lane_backlog'){\r\n          this.setState(\r\n            {\r\n            cancel: cancel,\r\n            task: cardDetails\r\n            }, () => $('#modal_backlogtask').modal('open'))\r\n          return\r\n        }\r\n        if(targetLaneId === 'lane_done'){\r\n          this.setState(\r\n            {\r\n            cancel: cancel,\r\n            task: cardDetails\r\n            }, () => $('#modal_donetask').modal('open'))\r\n          return\r\n        }\r\n      }\r\n      if(sourceLaneId === 'lane_done'){\r\n        if(targetLaneId === 'lane_todo'){\r\n          this.setState(\r\n            {\r\n            cancel: null,\r\n            task: null\r\n            }, () => this.state.eventBus.publish(cancel))\r\n          return\r\n        }\r\n        if(targetLaneId === 'lane_backlog'){\r\n          this.setState(\r\n            {\r\n            cancel: cancel,\r\n            task: cardDetails\r\n            }, () => $('#modal_backlogtask').modal('open'))\r\n          return\r\n        }\r\n      }\r\n    }\r\n    this.setState(\r\n      {\r\n      cancel: null,\r\n      task: null\r\n      }, () => {this.state.eventBus.publish(cancel);});\r\n    return\r\n  }\r\n\r\n  cancel(){this.state.eventBus.publish(this.state.cancel)}\r\n\r\n  componentDidMount(){\r\n    this.update()\r\n    $('.tooltipped').tooltip({delay:0, html:true});\r\n  }\r\n  componentWillUnount(){\r\n    $('.tooltipped').tooltip('remove');\r\n  }\r\n\r\n  update(){\r\n     /* REMOVE INIT TASK */\r\n\r\n     var notInitTasks = this.props.tasks.filter(task => task.action !== 'INIT')\r\n    \r\n     var getRolesForTask = (task) => \r\n      Object.keys( common.ROLES)\r\n      .filter((key, index)  =>  common.ROLES[key].actions.filter(action => action === task.action).length > 0);\r\n      ///.map((key, index) => key);\r\n     \r\n     /* DONE TASKS */\r\n     var doneTasks = notInitTasks.filter(task => task.lane === 'lane_done')\r\n     var doneCards = doneTasks.map(doneTask => {\r\n      doneTask.id = doneTask._id\r\n      doneTask.draggable = false\r\n      doneTask.focused = false\r\n      doneTask.dashed = false\r\n      doneTask.userDetails = doneTask.user?this.props.users.filter(user => user._id === doneTask.user)[0]: ''\r\n      doneTask.style = normalCardStyle;\r\n\r\n      doneTask.roles = getRolesForTask(doneTask);\r\n      if(this.props.task){\r\n        /* if task selected then get previous tasks */\r\n        var prevTaskIds = [] \r\n        var ascend = (taskId, prevTaskIds) => {\r\n          prevTaskIds.push(taskId)\r\n          var currTask = this.props.tasks.filter((task) => task._id === taskId)[0];\r\n          currTask.prev.forEach((prevTaskId) => ascend(prevTaskId, prevTaskIds))\r\n        }\r\n        ascend(this.props.task._id, prevTaskIds)\r\n\r\n        /* DONE LANE */\r\n        doneTask.draggable = prevTaskIds.includes(doneTask._id)\r\n        doneTask.focused = this.props.task._id === doneTask._id\r\n      }\r\n      return doneTask;\r\n     });\r\n\r\n     /* TODO TASKS */\r\n     var todoTasks = notInitTasks.filter(task => task.lane === 'lane_todo')\r\n     var todoCards = todoTasks.map(todoTask => {\r\n      todoTask.id = todoTask._id\r\n      todoTask.draggable = false\r\n      todoTask.focused = false\r\n      todoTask.dashed = false\r\n      todoTask.userDetails = todoTask.user?this.props.users.filter(user => user._id === todoTask.user)[0]: ''\r\n      todoTask.style = normalCardStyle\r\n      todoTask.roles = getRolesForTask(todoTask);\r\n      if(this.props.task){\r\n        /* if task selected then get previous tasks */\r\n        var prevTaskIds = [] \r\n        var ascend = (taskId, prevTaskIds) => {\r\n          prevTaskIds.push(taskId)\r\n          var currTask = this.props.tasks.filter((task) => task._id === taskId)[0];\r\n          currTask.prev.forEach((prevTaskId) => ascend(prevTaskId, prevTaskIds))\r\n        }\r\n        ascend(this.props.task._id, prevTaskIds)\r\n\r\n        /* TODO LANE */\r\n        todoTask.draggable = prevTaskIds.includes(todoTask._id)\r\n        todoTask.focused = todoTask.dashed =  this.props.task._id === todoTask._id\r\n      }\r\n      return todoTask;\r\n     });\r\n\r\n     /* BACKLOG TASKS */\r\n     var backlogTasks = notInitTasks.filter(task => task.lane === 'lane_backlog')\r\n     var backlogCards = backlogTasks.map(backlogTask => {\r\n      backlogTask.id = backlogTask._id\r\n      backlogTask.draggable = false\r\n      backlogTask.focused = false\r\n      backlogTask.dashed = false\r\n      backlogTask.userDetails = backlogTask.user?this.props.users.filter(user => user._id === backlogTask.user)[0]: ''\r\n      backlogTask.style = normalCardStyle\r\n      backlogTask.roles = getRolesForTask(backlogTask);\r\n\r\n      if(this.props.task){\r\n        /* if task selected then get previous tasks */\r\n        var prevTaskIds = [] \r\n        var ascend = (taskId, prevTaskIds) => {\r\n          prevTaskIds.push(taskId)\r\n          var currTask = this.props.tasks.filter((task) => task._id === taskId)[0];\r\n          currTask.prev.forEach((prevTaskId) => ascend(prevTaskId, prevTaskIds))\r\n        }\r\n        ascend(this.props.task._id, prevTaskIds)\r\n\r\n        /* BACKLOG LANE */\r\n         /* Is there a todo card draggable ? */\r\n         var aTodoCardIsDraggable = !todoCards.filter(todoCard => todoCard.draggable === true).length;\r\n         \r\n         // Check is the user can perform the task according to his roles\r\n         var actionIsAvailableForUser = this.props.user.roles\r\n          .filter(role => common.ROLES.hasOwnProperty(role))\r\n          .map(role => common.ROLES[role].actions)\r\n          .reduce( (accumulator, currentValue) => accumulator.concat(currentValue), [])\r\n          .filter(action => action === backlogTask.action)\r\n          .length > 0;\r\n\r\n         if(aTodoCardIsDraggable\r\n            && common.STATUS[this.props.task.action].includes(backlogTask.action)\r\n            && actionIsAvailableForUser\r\n         ){\r\n          backlogTask.draggable = true\r\n          // prevent multiple branches of KPI\r\n          if(this.props.task.action.includes('MODEL') && backlogTask.action.includes('KPI')){\r\n           var nextTasks = this.props.task.next.map(nextTaskId => this.props.tasks.filter((task) => task._id === nextTaskId)[0]);\r\n           if(nextTasks.length > 0) {\r\n            var nextKpiTasks = nextTasks.filter(nextTask => nextTask.action === backlogTask.action);\r\n            if(nextKpiTasks.length > 0) backlogTask.draggable = false;\r\n           }\r\n          }\r\n         }\r\n      }\r\n      return backlogTask;\r\n     });\r\n     \r\n\r\n     var lanes = [\r\n        {\r\n          id: 'lane_backlog',\r\n          title: 'BACKLOG',\r\n          label: '?/?',\r\n          cards: backlogCards,\r\n          style: lanesStyle\r\n        },\r\n        {\r\n          id: 'lane_todo',\r\n          title: 'TODO',\r\n          label: '?/?',\r\n          cards: todoCards,\r\n          style: lanesStyle\r\n        },\r\n        {\r\n          id: 'lane_done',\r\n          title: 'DONE',\r\n          label: '?/?',\r\n          cards: doneCards,\r\n          style: lanesStyle\r\n        }\r\n    ]\r\n    const data = {lanes: lanes}\r\n    this.setState({data:data});\r\n  }\r\n\r\n  componentDidUpdate(prevProps, prevState) {\r\n    if (prevProps.tasks !== this.props.tasks) {\r\n        this.update();\r\n      }\r\n    if (prevProps.task !== this.props.task) {\r\n        this.update();\r\n    }\r\n\r\n    $('#modal_task').modal({\r\n      dismissible: false, \r\n    });\r\n    $('#modal_createtask').modal({\r\n      dismissible: true,\r\n    });\r\n   }\r\n\r\n  render() {\r\n        let trelloComponent;\r\n        let backlogTaskFormComponent;\r\n        let todoTaskFormComponent;\r\n        let doneTaskFormComponent;\r\n        let createTaskFormComponent;\r\n        let createTaskButtonComponent;\r\n\r\n        if (this.props.tasks.length > 0){\r\n          if (this.state.data){\r\n            const components = {\r\n              Card: CardComponent,\r\n              laneDraggable: false,\r\n            \r\n            }\r\n            trelloComponent = <Board \r\n            data={this.state.data} \r\n            eventBusHandle={this.setEventBus}\r\n            onDataChange= {this.onTaskChange}\r\n            handleDragEnd= {this.handleDragEnd}\r\n            onCardClick= {this.onCardClick}\r\n            cardStyle = {normalCardStyle}\r\n            components={components} style= {\r\n                   { backgroundColor:'transparent',\r\n                   fontFamily: 'Exo 2', padding:'0'}} />;\r\n          }\r\n          if (this.state.task && this.state.cancel && this.props.project){\r\n            backlogTaskFormComponent =  <BacklogTaskForm  setTask={this.props.setTask} selectedTask={this.props.task} tasks={this.props.tasks} task={this.state.task} users={this.props.users} event={this.state.cancel} cancel={this.cancel} />\r\n            todoTaskFormComponent =  <TodoTaskForm  project={this.props.project} selectedTask={this.props.task} task={this.state.task} users={this.props.users} event={this.state.cancel} cancel={this.cancel} />\r\n            doneTaskFormComponent =  <DoneTaskForm   selectedTask={this.props.task}  task={this.state.task} event={this.state.cancel} cancel={this.cancel} />\r\n         \r\n          }\r\n          createTaskButtonComponent = <a className=\"waves-effect waves-light btn modal-trigger\" href=\"#modal_createtask\">\r\n                                          <i className=\"material-icons left\">add</i> NEW \r\n                                      </a>\r\n          createTaskFormComponent =  <CreateTaskForm project={this.props.project} />\r\n        }\r\n        return  (\r\n         <div>\r\n                {createTaskButtonComponent}\r\n                {createTaskFormComponent}\r\n                {trelloComponent}\r\n                {backlogTaskFormComponent}\r\n                {todoTaskFormComponent}\r\n                {doneTaskFormComponent}\r\n         </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default TrelloComponent;","    \r\n/**\r\n * @class RadarRechart\r\n * @extends Component\r\n * @description Create the KPIs radar rechart part of the dashboard\r\n */\r\nimport React, { Component} from 'react';\r\nimport {Radar,  RadarChart, PolarGrid, PolarAngleAxis, LabelList, PolarRadiusAxis} from 'recharts';\r\nclass RadarRechartComponent extends Component {\r\n  render() {\r\n    if(this.props.data.length === 0) return <div/>;\r\n    let minMark = 0;\r\n    let maxMark = 1;\r\n    let height = 300;\r\n    let outerRadius = Math.round(height/3.);\r\n    let seriesID = Object.keys(this.props.data[0]).filter(key => key!=='indicator')\r\n    return (\r\n                <RadarChart  \r\n                  outerRadius={outerRadius}\r\n                  data={this.props.data}\r\n                  width={this.props.parentWidth}\r\n                  height={height}\r\n                  margin={{ top: 0, right: 5, bottom: 0, left: 5}}\r\n                  >\r\n                  <PolarGrid />\r\n                  <PolarAngleAxis dataKey=\"indicator\" fontSize= \"10px\" \r\n                                    position=\"center\" />\r\n                  <PolarRadiusAxis angle={90} domain={[minMark, maxMark]} fontSize= \"10px\"/>\r\n                  {\r\n                    seriesID.map( serieID => \r\n                            <Radar isAnimationActive={false}\r\n                                  name={serieID}\r\n                                  dataKey={serieID} \r\n                                  stroke=\"#f7931e\" \r\n                                  strokeWidth= {2}\r\n                                  fill=\"#f7931e\" \r\n                                  fillOpacity={(this.props.highlightedTask._id === serieID)?0.6:0.3} \r\n                                  strokeOpacity={(this.props.highlightedTask._id === serieID)?1:0.5}\r\n                                  fontSize= \"10px\"\r\n                                  dot={{fill:\"white\", stroke: \"#f7931e\", strokeWidth: 2, fillOpacity:(this.props.highlightedTask._id === serieID)?1:0.5 }}\r\n                                  key={serieID}\r\n                              >\r\n                                  <LabelList  \r\n                                   isAnimationActive={false}\r\n                                    dataKey={serieID} \r\n                                    position=\"top\"  \r\n                                    paintOrder = \"stroke\"\r\n                                    fill=\"#f7931e\"\r\n                                    stroke= \"white\"\r\n                                    strokeWidth= {2}\r\n                                    strokeLinecap = \"butt\"\r\n                                    strokeLinejoin = \"miter\"\r\n                                    fontSize= \"10px\"\r\n                                    fontWeight = \"bold\"\r\n                                    strokeOpacity={(this.props.highlightedTask._id === serieID)?0.6:0.3} \r\n                                    fillOpacity={(this.props.highlightedTask._id === serieID)?1:0.5}\r\n                                  />\r\n                          </Radar>\r\n                      )\r\n                  }\r\n                </RadarChart>\r\n    );\r\n  }\r\n}\r\nexport default RadarRechartComponent;\r\n","/**\r\n * @class ComputeVersion\r\n * @extends Component\r\n * @description Define a set of static functions for version graph exploration\r\n */\r\n//import {mean} from 'mathjs'\r\n//import moment from 'moment'\r\nimport common from 'common'\r\n\r\nclass ComputeVersion {\r\n    static getFirstParentTaskWithAction = (tasks, taskId, action) => {\r\n        var currTask = tasks.filter((task) => task._id === taskId)[0];\r\n        var prevTasks = currTask.prev.map((prevTaskId) => tasks.filter((task) => task._id === prevTaskId)[0]);\r\n        if (prevTasks.length > 0){\r\n            var resTasks = prevTasks.filter((prevTask) => (prevTask.action.includes(action) && prevTask.lane !=='lane_todo'));\r\n            if(resTasks.length > 0){\r\n                return resTasks[0];\r\n            } else return ComputeVersion.getFirstParentTaskWithAction(tasks, prevTasks[0]._id, action);\r\n        } else return null;\r\n    }\r\n    static getLastChildTaskWithAction = (tasks, taskId, action) => {\r\n        var currTask = tasks.filter((task) => task._id === taskId)[0];\r\n        var nextTasks = currTask.next.map((nextTaskId) => tasks.filter((task) => task._id === nextTaskId)[0]);\r\n        var resTasks = nextTasks.filter((nextTask) => (nextTask.action.includes(action) && nextTask.lane !=='lane_todo'));\r\n        if (resTasks.length > 0){\r\n            if(resTasks[0].next.length) return ComputeVersion.getLastChildTaskWithAction(tasks, resTasks[0]._id, action);\r\n            else return resTasks[0];\r\n        } else return null;\r\n    }\r\n    static fetchRelevantTasks = (task, tasks) => {\r\n        if(task.action.includes('MODEL_ASIS')){\r\n            let refTask = (task.lane ==='lane_todo')?ComputeVersion.getFirstParentTaskWithAction(tasks, task._id, 'MODEL_ASIS')||task:task;\r\n            return {\r\n                modelTask : refTask,\r\n                economicalTask :ComputeVersion.getLastChildTaskWithAction(tasks, refTask._id, 'KPI_ECONOMICAL_ASIS'),\r\n                socialTask : ComputeVersion.getLastChildTaskWithAction(tasks, refTask._id, 'KPI_SOCIAL_ASIS'),\r\n                energicalTask : ComputeVersion.getLastChildTaskWithAction(tasks, refTask._id, 'KPI_ENERGICAL_ASIS'),\r\n                comfortTask : ComputeVersion.getLastChildTaskWithAction(tasks, refTask._id, 'KPI_COMFORT_ASIS'),\r\n                error: false, pending: false};\r\n            }\r\n            else if(task.action.includes('KPI_ECONOMICAL_ASIS')){\r\n                let refTask = (task.lane ==='lane_todo')?ComputeVersion.getFirstParentTaskWithAction(tasks, task._id, 'KPI_ECONOMICAL_ASIS')||task:task;\r\n                let modelTask =  ComputeVersion.getFirstParentTaskWithAction(tasks, refTask._id, 'MODEL_ASIS')\r\n                return {\r\n                    modelTask : modelTask,\r\n                    economicalTask :refTask,\r\n                    socialTask : ComputeVersion.getLastChildTaskWithAction(tasks, modelTask._id, 'KPI_SOCIAL_ASIS'),\r\n                    energicalTask : ComputeVersion.getLastChildTaskWithAction(tasks, modelTask._id, 'KPI_ENERGICAL_ASIS'),\r\n                    comfortTask : ComputeVersion.getLastChildTaskWithAction(tasks, modelTask._id, 'KPI_COMFORT_ASIS'),\r\n                    error: false, pending: false};\r\n            } \r\n            else if(task.action.includes('KPI_SOCIAL_ASIS')){\r\n                let refTask = (task.lane ==='lane_todo')?ComputeVersion.getFirstParentTaskWithAction(tasks, task._id, 'KPI_SOCIAL_ASIS')||task:task;\r\n                let modelTask =  ComputeVersion.getFirstParentTaskWithAction(tasks, refTask._id, 'MODEL_ASIS')\r\n                return {\r\n                    modelTask : modelTask,\r\n                    economicalTask : ComputeVersion.getLastChildTaskWithAction(tasks, modelTask._id, 'KPI_ECONOMICAL_ASIS'),\r\n                    socialTask :refTask, \r\n                    energicalTask : ComputeVersion.getLastChildTaskWithAction(tasks, modelTask._id, 'KPI_ENERGICAL_ASIS'),\r\n                    comfortTask : ComputeVersion.getLastChildTaskWithAction(tasks, modelTask._id, 'KPI_COMFORT_ASIS'),\r\n                    error: false, pending: false};\r\n            } \r\n            else if(task.action.includes('KPI_ENERGICAL_ASIS')){\r\n                let refTask = (task.lane ==='lane_todo')?ComputeVersion.getFirstParentTaskWithAction(tasks, task._id, 'KPI_ENERGICAL_ASIS')||task:task;\r\n                let modelTask =  ComputeVersion.getFirstParentTaskWithAction(tasks, refTask._id, 'MODEL_ASIS')\r\n                return {\r\n                    modelTask : modelTask,\r\n                    economicalTask : ComputeVersion.getLastChildTaskWithAction(tasks, modelTask._id, 'KPI_ECONOMICAL_ASIS'),\r\n                    socialTask : ComputeVersion.getLastChildTaskWithAction(tasks, modelTask._id, 'KPI_SOCIAL_ASIS'),  \r\n                    energicalTask : refTask,\r\n                    comfortTask : ComputeVersion.getLastChildTaskWithAction(tasks, modelTask._id, 'KPI_COMFORT_ASIS'),\r\n                    error: false, pending: false};\r\n            } \r\n            else if(task.action.includes('KPI_COMFORT_ASIS')){\r\n                let refTask = (task.lane ==='lane_todo')?ComputeVersion.getFirstParentTaskWithAction(tasks, task._id, 'KPI_COMFORT_ASIS')||task:task;\r\n                let modelTask =  ComputeVersion.getFirstParentTaskWithAction(tasks, refTask._id, 'MODEL_ASIS')\r\n                return {\r\n                    modelTask : modelTask,\r\n                    economicalTask : ComputeVersion.getLastChildTaskWithAction(tasks, modelTask._id, 'KPI_ECONOMICAL_ASIS'),\r\n                    socialTask : ComputeVersion.getLastChildTaskWithAction(tasks, modelTask._id, 'KPI_SOCIAL_ASIS'),  \r\n                    energicalTask : ComputeVersion.getLastChildTaskWithAction(tasks, modelTask._id, 'KPI_ENERGICAL_ASIS'),\r\n                    comfortTask : refTask,\r\n                    error: false, pending: false};\r\n            } \r\n            else if(task.action.includes('MODEL_TOBE')){\r\n                let refTask = (task.lane ==='lane_todo')?ComputeVersion.getFirstParentTaskWithAction(tasks, task._id, 'MODEL_TOBE')||task:task;\r\n                return {\r\n                    modelTask : refTask,\r\n                    economicalTask :ComputeVersion.getLastChildTaskWithAction(tasks, refTask._id, 'KPI_ECONOMICAL_TOBE'),\r\n                    socialTask : ComputeVersion.getLastChildTaskWithAction(tasks, refTask._id, 'KPI_SOCIAL_TOBE'),\r\n                    energicalTask : ComputeVersion.getLastChildTaskWithAction(tasks, refTask._id, 'KPI_ENERGICAL_TOBE'),\r\n                    comfortTask : ComputeVersion.getLastChildTaskWithAction(tasks, refTask._id, 'KPI_COMFORT_TOBE'),\r\n                    error: false, pending: false};\r\n            }\r\n            else if(task.action.includes('KPI_ECONOMICAL_TOBE')){\r\n                let refTask = (task.lane ==='lane_todo')?ComputeVersion.getFirstParentTaskWithAction(tasks, task._id, 'KPI_ECONOMICAL_TOBE')||task:task;\r\n                let modelTask =  ComputeVersion.getFirstParentTaskWithAction(tasks, refTask._id, 'MODEL_TOBE')\r\n                return {\r\n                    modelTask : modelTask,\r\n                    economicalTask :refTask,\r\n                    socialTask : ComputeVersion.getLastChildTaskWithAction(tasks,modelTask._id, 'KPI_SOCIAL_TOBE'),\r\n                    energicalTask : ComputeVersion.getLastChildTaskWithAction(tasks,modelTask._id, 'KPI_ENERGICAL_TOBE'),\r\n                    comfortTask : ComputeVersion.getLastChildTaskWithAction(tasks,modelTask._id, 'KPI_COMFORT_TOBE'),\r\n                    error: false, pending: false};\r\n            } \r\n            else if(task.action.includes('KPI_SOCIAL_TOBE')){\r\n                let refTask = (task.lane ==='lane_todo')?ComputeVersion.getFirstParentTaskWithAction(tasks, task._id, 'KPI_SOCIAL_TOBE')||task:task;\r\n                let modelTask =  ComputeVersion.getFirstParentTaskWithAction(tasks, refTask._id, 'MODEL_TOBE')\r\n                return {\r\n                    modelTask : modelTask,\r\n                    economicalTask : ComputeVersion.getLastChildTaskWithAction(tasks, modelTask._id, 'KPI_ECONOMICAL_TOBE'),\r\n                    socialTask :refTask, \r\n                    energicalTask : ComputeVersion.getLastChildTaskWithAction(tasks, modelTask._id, 'KPI_ENERGICAL_TOBE'),\r\n                    comfortTask : ComputeVersion.getLastChildTaskWithAction(tasks, modelTask._id, 'KPI_COMFORT_TOBE'),\r\n                    error: false, pending: false};\r\n            } \r\n            else if(task.action.includes('KPI_ENERGICAL_TOBE')){\r\n                let refTask = (task.lane ==='lane_todo')?ComputeVersion.getFirstParentTaskWithAction(tasks, task._id, 'KPI_ENERGICAL_TOBE')||task:task;\r\n                let modelTask =  ComputeVersion.getFirstParentTaskWithAction(tasks, refTask._id, 'MODEL_TOBE')\r\n                return {\r\n                    modelTask : modelTask,\r\n                    economicalTask : ComputeVersion.getLastChildTaskWithAction(tasks, modelTask._id, 'KPI_ECONOMICAL_TOBE'),\r\n                    socialTask : ComputeVersion.getLastChildTaskWithAction(tasks, modelTask._id, 'KPI_SOCIAL_TOBE'),  \r\n                    energicalTask : refTask,\r\n                    comfortTask : ComputeVersion.getLastChildTaskWithAction(tasks, modelTask._id, 'KPI_COMFORT_TOBE'),\r\n                    error: false, pending: false};\r\n            } \r\n            else if(task.action.includes('KPI_COMFORT_TOBE')){\r\n                let refTask = (task.lane ==='lane_todo')?ComputeVersion.getFirstParentTaskWithAction(tasks, task._id, 'KPI_COMFORT_TOBE')||task:task;\r\n                let modelTask =  ComputeVersion.getFirstParentTaskWithAction(tasks, refTask._id, 'MODEL_TOBE')\r\n                return {\r\n                    modelTask : modelTask,\r\n                    economicalTask : ComputeVersion.getLastChildTaskWithAction(tasks, modelTask._id, 'KPI_ECONOMICAL_TOBE'),\r\n                    socialTask : ComputeVersion.getLastChildTaskWithAction(tasks, modelTask._id, 'KPI_SOCIAL_TOBE'),  \r\n                    energicalTask : ComputeVersion.getLastChildTaskWithAction(tasks, modelTask._id, 'KPI_ENERGICAL_TOBE'),\r\n                    comfortTask : refTask,\r\n                    error: false, pending: false};\r\n            } \r\n            else {\r\n                return {\r\n                    modelTask : null,\r\n                    economicalTask :null,\r\n                    socialTask : null,\r\n                    energicalTask : null,\r\n                    comfortTask : null,\r\n                    error: false, pending: true};\r\n            }\r\n        }\r\n        static computeScoreOfRelevantTask(tasks, ...taskList) {\r\n            var data = [];\r\n            var economicalDatum = {\r\n                //id: task._id,\r\n                //name: task.name + ' (' + moment(task.date).format('LLL') + ')', \r\n                category: 'ECONOMICAL',\r\n                data: [],\r\n            }\r\n            var energicalDatum = {\r\n                //id: task._id,\r\n               // name: task.name + ' (' + moment(task.date).format('LLL') + ')', \r\n                category: 'ENERGY',\r\n                data: [],\r\n            }\r\n            taskList.forEach(task => {\r\n                var state = ComputeVersion.fetchRelevantTasks(task, tasks);\r\n                if(state.economicalTask){\r\n                    for (let i = 0; i < state.economicalTask.names.length; i++){\r\n                        if(common.ACTIONS[state.economicalTask.action].priorities[i]){\r\n                            let indicator = state.economicalTask.names[i];\r\n                            let minValue = common.ACTIONS[state.economicalTask.action].minValues[i];\r\n                            let maxValue = common.ACTIONS[state.economicalTask.action].maxValues[i];\r\n                            let currValue = state.economicalTask.values[i];\r\n                            let score = (currValue-minValue) / (maxValue-minValue);\r\n                            let datum = {indicator:indicator, [task._id]:score.toFixed(2)}\r\n                            // look for indicator\r\n                            if(economicalDatum.data.filter(datum => datum.indicator === indicator).length > 0){\r\n                                economicalDatum.data = economicalDatum.data.map(prevDatum =>\r\n                                    (prevDatum.indicator === datum.indicator)? {...prevDatum, ...datum}: prevDatum\r\n                                );\r\n                            } else {\r\n                                economicalDatum.data.push(datum);\r\n                            }\r\n                            \r\n                        }\r\n                    }\r\n                }\r\n                if(state.energicalTask){\r\n                    for (let i = 0; i < state.energicalTask.names.length; i++){\r\n                        if(common.ACTIONS[state.energicalTask.action].priorities[i]){\r\n                            let indicator = state.energicalTask.names[i];\r\n                            let minValue = common.ACTIONS[state.energicalTask.action].minValues[i];\r\n                            let maxValue = common.ACTIONS[state.energicalTask.action].maxValues[i];\r\n                            let currValue = state.energicalTask.values[i];\r\n                            let score = (currValue-minValue) / (maxValue-minValue);\r\n                            let datum = {indicator:indicator, [task._id]:score.toFixed(2)}\r\n                            // look for indicator\r\n                            if(energicalDatum.data.filter(datum => datum.indicator === indicator).length > 0){\r\n                                energicalDatum.data = energicalDatum.data.map(prevDatum =>\r\n                                    (prevDatum.indicator === datum.indicator)? {...prevDatum, ...datum}: prevDatum\r\n                                );\r\n                            } else {\r\n                                energicalDatum.data.push(datum);\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n            } );\r\n            data.push(economicalDatum);\r\n            data.push(energicalDatum);\r\n            return data;\r\n        }\r\n} \r\nexport default ComputeVersion;\r\n","/**\r\n * @class FileExplorer\r\n * @extends Component\r\n * @description Create the file explorer part of the dashboard\r\n */\r\nimport React, { Component } from 'react'\r\nimport SocketContext from '../../../SocketContext'\r\nvar $ = window.$;\r\n\r\n\r\n\r\nclass ModelViewerCore extends Component {\r\n    constructor(props){\r\n        super(props)\r\n        this.state = {modelMode :false};\r\n    }\r\n    \r\n    openFullscreen = (elem) => {\r\n        if (elem.requestFullscreen) {\r\n          elem.requestFullscreen();\r\n        } else if (elem.mozRequestFullScreen) { /* Firefox */\r\n          elem.mozRequestFullScreen();\r\n        } else if (elem.webkitRequestFullscreen) { /* Chrome, Safari & Opera */\r\n          elem.webkitRequestFullscreen();\r\n        } else if (elem.msRequestFullscreen) { /* IE/Edge */\r\n          elem.msRequestFullscreen();\r\n        }\r\n    }\r\n\r\n   componentDidMount(){\r\n       $(document).ready(() => {\r\n         $('.tooltipped').tooltip({delay:0, html:true});\r\n       });\r\n    }\r\n\r\n   componentDidUpdate(prevProps, prevState) {\r\n     if (prevProps.modelTask !== this.props.modelTask){\r\n         $('.tooltipped').tooltip({delay:0, html:true});\r\n     }\r\n    }\r\n\r\n    componentWillUnmount(){\r\n        $('.tooltipped').tooltip('remove');\r\n    }\r\n\r\n    render(){\r\n        return (\r\n            <div>\r\n            {\r\n                (this.props.modelTask && this.props.modelTask.values.length &&  this.props.modelTask.values[0] !== \"\")?\r\n                <div style={{width:\"auto\", height:'315px', position: 'relative'}}>\r\n                    <iframe\r\n                    title=\"ASIS MODEL VIEWER\"\r\n                    width=\"100%\"\r\n                    height=\"100%\"\r\n                    style={\r\n                        this.state.modelMode ?\r\n                        {backgroundColor:'white', position:\"fixed\", top:0, left:0, bottom:0, right:0, width:'100%', height:'100%', border:'none', margin:0, padding:0, overflow:'hidden', zIndex:9999}\r\n                        :{backgroundColor:'white', position:\"absolute\", top:0, right:0, zIndex:\"inherit\"}\r\n                    }\r\n                    src={window.location.protocol + \"//\" + this.props.host + \"/Rezbuild/Visualize/\" + this.props.modelTask._id + \"_\" + this.props.modelTask.values[0].split('.ifc')[0]}\r\n                    frameBorder=\"0\"\r\n                    allowFullScreen\r\n                    >\r\n                    </iframe>\r\n                    <a className=\"btn rezbuild right-align tooltipped\" data-position=\"left\" data-tooltip=\"Download\"\r\n                     style={\r\n                        this.state.modelMode ?\r\n                        {position:\"fixed\", top:\"10px\", right:\"10px\", zIndex:9999}\r\n                        :{position:\"absolute\", top:\"10px\", right:\"10px\", zIndex:\"inherit\"}\r\n                    }\r\n                    href={window.location.protocol + \"//\" + this.props.host + \"/\" + this.props.modelTask._id + \"/\" + this.props.modelTask.values[0]} >\r\n                    <i className=\" material-icons white-text\">cloud_download</i>\r\n                    </a>\r\n                    \r\n                    { this.props.allowFullScreen ?\r\n                        <button className=\"btn rezbuild right-align tooltipped\" data-position=\"left\" data-tooltip={(this.state.modelMode)?'Normalscreen':'Fullscreen'}\r\n                            style={\r\n                                (this.state.modelMode)?\r\n                                {position:\"fixed\", bottom:\"10px\", right:\"10px\", zIndex:9999}\r\n                                :{position:\"absolute\", bottom:\"10px\", right:\"10px\", zIndex:\"inherit\"}\r\n                            }\r\n                        onClick={  (e) => {\r\n                            e.preventDefault();\r\n                                if(this.state.modelMode){\r\n                                    $('html, body').css({\r\n                                        overflow: 'auto',\r\n                                        height: 'auto'\r\n                                    });\r\n                                }else {\r\n                                    $('html, body').css({\r\n                                        overflow: 'hidden',\r\n                                        height: '100%'\r\n                                    });\r\n                                }\r\n                                this.setState({modelMode:!this.state.modelMode});\r\n                            }\r\n                        }\r\n                        >\r\n                    <i className=\" material-icons white-text\">{(this.state.modelMode)?'fullscreen_exit':'fullscreen'}</i>\r\n                    </button> : ''\r\n                    }\r\n                </div> : \"\"\r\n            }\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nconst ModelViewerComponent = props => (\r\n    <SocketContext.Consumer>\r\n    { (context) => <ModelViewerCore {...props} host={context.host} socket={context.socket} uploader={context.uploader} />}\r\n    </SocketContext.Consumer>\r\n  )\r\n  export default ModelViewerComponent;","/**\r\n * @class FileExplorer\r\n * @extends Component\r\n * @description Create the file explorer part of the dashboard\r\n */\r\nimport React, { Component } from 'react'\r\nimport SocketContext from '../../../SocketContext'\r\nvar $ = window.$;\r\n\r\n\r\nclass IndicatorExplorerCore extends Component {\r\n    \r\n   componentDidMount(){\r\n       $(document).ready(() => {\r\n         $('.tooltipped').tooltip({delay:0, html:true});\r\n       });\r\n    }\r\n\r\n   componentDidUpdate(prevProps, prevState) {\r\n     if (prevProps.modelTask !== this.props.modelTask){\r\n         $('.tooltipped').tooltip({delay:0, html:true});\r\n     }\r\n    }\r\n\r\n    componentWillUnmount(){\r\n        $('.tooltipped').tooltip('remove');\r\n    }\r\n\r\n    render(){\r\n        return (\r\n            <div>\r\n            {\r\n                (this.props.modelTask && this.props.modelTask.files.length &&  this.props.modelTask.files[0] !== \"\")?\r\n                        <ul className=\"collection black-text\">\r\n                            {\r\n                                this.props.modelTask.files.map((filename, index) => \r\n                                            <li className=\"collection-item row valign-wrapper\" value={filename} key={index} style={{padding: '0px 10px'}}>\r\n                                                <p className=\"col s10\">{filename} </p>\r\n                                                <a className=\"btn rezbuild col s2 right-align tooltipped\" data-position=\"top\" data-tooltip=\"Download\"\r\n                                                    href={window.location.protocol + \"//\" + this.props.host + \"/\" + this.props.modelTask._id + \"/\" + filename}>\r\n                                                <i className=\"material-icons white-text\">cloud_download</i>\r\n                                                </a>\r\n                                            </li>)\r\n                            }\r\n                        </ul>\r\n                    : ''\r\n            }\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nconst IndicatorExplorerComponent = props => (\r\n    <SocketContext.Consumer>\r\n    { (context) => <IndicatorExplorerCore {...props} host={context.host} socket={context.socket} uploader={context.uploader} />}\r\n    </SocketContext.Consumer>\r\n  )\r\n  export default IndicatorExplorerComponent;","/**\r\n * @class FileExplorer\r\n * @extends Component\r\n * @description Create the file explorer part of the dashboard\r\n */\r\nimport React, { Component } from 'react'\r\nimport SocketContext from '../../../SocketContext'\r\nimport RadarRechartComponent from '../RadarRechart'\r\nimport moment from 'moment'\r\nimport ComputeVersion from '../ComputeVersion'\r\nimport { ParentSize } from '@vx/responsive'\r\nimport ModelViewerComponent from '../ModelViewer'\r\nimport IndicatorExplorerComponent from '../IndicatorExplorer'\r\nvar $ = window.$;\r\n\r\n\r\nclass FileExplorerCore extends Component {\r\n    constructor(props){\r\n        super(props)\r\n        this.state = {\r\n\r\n            modelTask : null,\r\n            modelMode :false,\r\n            environmentalTask : null,\r\n            environmentalMode :false,\r\n            economicalTask :null,\r\n            economicalMode :false,\r\n            socialTask : null,\r\n            socialMode :false,\r\n            energicalTask : null,\r\n            energicalMode :false,\r\n            comfortTask : null,\r\n            comfortMode :false,\r\n            error: false,\r\n            pending: false\r\n        };\r\n        this.renderKPIsOfTask = this.renderKPIsOfTask.bind(this);\r\n    }\r\n    \r\n   // Fetch the files of the tasks\r\n    fetchFiles() {\r\n        if(this.props.task)this.setState(ComputeVersion.fetchRelevantTasks(this.props.task, this.props.tasks));\r\n            \r\n    }\r\n    \r\n   componentDidMount(){\r\n       this.fetchFiles()\r\n       $(document).ready(() => {\r\n         $('.tooltipped').tooltip({delay:0, html:true});\r\n        // window.scrollTo(0, 0);\r\n       });\r\n    }\r\n\r\n    /*componentWillUpdate(){\r\n        window.scrollTo(0, 0);\r\n    }*/\r\n\r\n   componentDidUpdate(prevProps, prevState) {\r\n     if (prevProps.task !== this.props.task){\r\n        this.fetchFiles()\r\n         $('.tooltipped').tooltip({delay:0, html:true});\r\n     }\r\n    }\r\n\r\n    componentWillUnmount(){\r\n        $('.tooltipped').tooltip('remove');\r\n    }\r\n\r\n    renderKPIsOfTask(task){\r\n        return (\r\n            <span className=\"col s12\"> \r\n                  {\r\n                        task.names.map((name, index) => \r\n                        <div key={index}>\r\n                            <div className=\"col s10 left-align\" style={{padding:0}}>\r\n                                <h6 className=\"black-text\">{name}</h6>\r\n                                <h6>{task.values[index] + ' ' + task.formats[index]}</h6>\r\n                            </div>\r\n                            {task.files[index] ? \r\n                                 <a className=\"col s2 btn rezbuild right-align tooltipped secondary-content\" \r\n                                 data-position=\"top\" \r\n                                 data-tooltip=\"Download\" \r\n                                 style={{marginTop:'0.5rem'}}\r\n                                href={window.location.protocol + \"//\" + this.props.host + \"/\" + task._id + \"/\" + task.files[index]}>\r\n                                        <i className=\"material-icons white-text\">cloud_download</i>\r\n                                </a>\r\n                             : ''}\r\n                        </div>\r\n                        )\r\n                  }\r\n            </span>\r\n        );\r\n    };\r\n\r\n    render(){\r\n       let KpiFileExplorer;\r\n       let economicalKpiViewer;\r\n       let socialKpiViewer;\r\n       let environmentalKpiViewer;\r\n       let comfortKpiViewer;\r\n       let energicalKpiViewer;\r\n       \r\n       if(this.state.economicalTask) economicalKpiViewer = this.renderKPIsOfTask(this.state.economicalTask);\r\n       if(this.state.energicalTask) energicalKpiViewer = this.renderKPIsOfTask(this.state.energicalTask);\r\n       if(this.state.socialTask) socialKpiViewer = this.renderKPIsOfTask(this.state.socialTask);\r\n       if(this.state.environmentalTask) environmentalKpiViewer = this.renderKPIsOfTask(this.state.environmentalTask);\r\n       if(this.state.comfortTask) comfortKpiViewer = this.renderKPIsOfTask(this.state.comfortTask);\r\n\r\n        var kpiScores = ComputeVersion.computeScoreOfRelevantTask(this.props.tasks, this.props.task);\r\n           \r\n        KpiFileExplorer = \r\n            <div className=\"col s12\">\r\n                {/*\r\n                !(this.state.economicalTask \r\n                || this.state.environmentalTask \r\n                || this.state.socialTask \r\n                || this.state.energicalTask\r\n                || this.state.comfortTask)?\r\n                <i className=\"material-icons rezbuild-text center\">block</i>: ''*/\r\n                }\r\n                {this.state.economicalTask?\r\n                    <div className='col s12'>\r\n                    <div className='valign-wrapper col s12' style={{padding:0, paddingRight:'0.75rem', paddingBottom:'0.5rem'}}>\r\n                    <h6 className=\"rezbuild-text left-align col s10\" style={{padding:0}}>ECONOMICAL</h6>\r\n                    <button className=\"btn-flat center col s2 waves-effect waves-light\" \r\n                    onClick={(e) => {e.preventDefault();this.setState({economicalMode:!this.state.economicalMode})}}\r\n                    >\r\n                    <i className=\"material-icons rezbuild-text\">{this.state.economicalMode?\"expand_less\":\"expand_more\"}</i></button>\r\n                    </div>\r\n                     { this.state.economicalMode?economicalKpiViewer: ''}\r\n                </div> : ''}\r\n                {this.state.environmentalTask?\r\n                <div className='col s12'>\r\n                <div className='valign-wrapper col s12' style={{padding:0, paddingRight:'0.75rem', paddingBottom:'0.5rem'}}>\r\n                    <h6 className=\"rezbuild-text left-align col s10\"  style={{padding:0}}>ENVIRONMENTAL</h6>\r\n                    <button className=\"btn-flat center col s2 waves-effect waves-light\"\r\n                    onClick={(e) => {e.preventDefault();this.setState({environmentalMode:!this.state.environmentalMode})}}\r\n                    >\r\n                    <i className=\"material-icons rezbuild-text\">{this.state.environmentalMode?\"expand_less\":\"expand_more\"}</i></button>\r\n                    </div>\r\n                     { this.state.environmentalMode?environmentalKpiViewer: ''}\r\n                </div>:''}\r\n\r\n                {this.state.socialTask?\r\n                <div className='col s12'>\r\n                <div className='valign-wrapper col s12' style={{padding:0, paddingRight:'0.75rem', paddingBottom:'0.5rem'}}>\r\n                    <h6 className=\"rezbuild-text left-align col s10\"  style={{padding:0}}>SOCIAL</h6>\r\n                    <button className=\"btn-flat center col s2 waves-effect waves-light\"\r\n                    onClick={(e) => {e.preventDefault();this.setState({socialMode:!this.state.socialMode})}}\r\n                    >\r\n                    <i className=\"material-icons rezbuild-text\">{this.state.socialMode?\"expand_less\":\"expand_more\"}</i></button>\r\n                    </div>\r\n                     { this.state.socialMode?socialKpiViewer: ''}\r\n                </div>:''}\r\n\r\n                {this.state.energicalTask?\r\n                <div className='col s12'>\r\n                <div className='valign-wrapper col s12' style={{padding:0, paddingRight:'0.75rem', paddingBottom:'0.5rem'}}>\r\n                    <h6 className=\"rezbuild-text left-align col s10\"  style={{padding:0}}>ENERGY</h6>\r\n                    <button className=\"btn-flat center col s2 waves-effect waves-light\"\r\n                    onClick={(e) => {e.preventDefault();this.setState({energicalMode:!this.state.energicalMode})}}\r\n                    >\r\n                    <i className=\"material-icons rezbuild-text\">{this.state.energicalMode?\"expand_less\":\"expand_more\"}</i></button>\r\n                    </div>\r\n                     { this.state.energicalMode?energicalKpiViewer: ''}\r\n                </div>:''}\r\n\r\n                {this.state.comfortTask?\r\n                <div className='col s12'>\r\n                <div className='valign-wrapper col s12' style={{padding:0, paddingRight:'0.75rem', paddingBottom:'0.5rem'}}>\r\n                    <h6 className=\"rezbuild-text left-align col s10\"  style={{padding:0}}>COMFORT</h6>\r\n                    <button className=\"btn-flat center col s2 waves-effect waves-light\"\r\n                    onClick={(e) => {e.preventDefault();this.setState({comfortMode:!this.state.comfortMode})}}\r\n                    >\r\n                    <i className=\"material-icons rezbuild-text\">{this.state.comfortMode?\"expand_less\":\"expand_more\"}</i></button>\r\n                    </div>\r\n                     { this.state.comfortMode?comfortKpiViewer: ''}\r\n                </div> : ''}\r\n            </div>;\r\n        return (\r\n         <div className=\"section white white-text z-depth-1\" style={{paddingTop:0}}>\r\n             <div className= \"row\" style={{marginBottom:0}}>\r\n                    <div className=\"col s12 center rezbuild\">\r\n                        <h6 className=\"white-text col s12\" style={{marginBottom:'0.1rem'}}>\r\n                            <b>{this.props.task.action}</b>\r\n                        </h6>\r\n                        <br/>\r\n                        <h6 className=\"white-text col s12\" style={{fontSize:'10px', marginTop:'0.1rem'}}>\r\n                            {moment(this.props.task.date).format('LLL')}\r\n                        </h6>\r\n                    </div>\r\n                     <div className=\"col s12 white grey-text\">\r\n                         <div className=\"col s6\">\r\n                         <h6>BIM MODEL</h6>\r\n                         <ModelViewerComponent modelTask={this.state.modelTask} allowFullScreen={true}/>\r\n                         <h6>ATTACHED FILE</h6>\r\n                         <IndicatorExplorerComponent modelTask={this.state.modelTask}/>\r\n                          <h6>KPI DATA</h6>\r\n                         {KpiFileExplorer}\r\n                        </div>\r\n                        <div className=\"col s6\">\r\n                         <h6>KPI CHART</h6>\r\n                        {\r\n                            kpiScores.map((kpiScore, index) => \r\n                                <ParentSize key={index}>\r\n                                {\r\n                                    parent => (\r\n                                        <div>\r\n                                        {(kpiScore.data && kpiScore.data.length >0)?<h6 className=\"rezbuild-text col s12 center-align\"  style={{padding:0}}>{kpiScore.category} SCORE</h6>:''}\r\n                                        <RadarRechartComponent \r\n                                            key={kpiScore.id + kpiScore.category}\r\n                                            highlightedTask = {this.props.task} \r\n                                            data={kpiScore.data}\r\n                                            parentWidth={parent.width}\r\n                                            parentTop={parent.top}\r\n                                            parentLeft={parent.left}\r\n                                            parentRef={parent.ref}\r\n                                            resizeParent={parent.resize}\r\n                                        />\r\n                                        </div>\r\n                                    )\r\n                                }\r\n                                </ParentSize>\r\n                                )\r\n                        }\r\n                        </div>\r\n                     </div>\r\n             </div>\r\n         </div>\r\n        );\r\n    }\r\n}\r\n\r\nconst FileExplorerComponent = props => (\r\n    <SocketContext.Consumer>\r\n    { (context) => <FileExplorerCore {...props} host={context.host} socket={context.socket} uploader={context.uploader} />}\r\n    </SocketContext.Consumer>\r\n  )\r\n  export default FileExplorerComponent;","    \r\n/**\r\n * @class Graph\r\n * @extends Component\r\n * @description Create the exploration graph part of the dashboard\r\n */\r\nimport React, { Component } from 'react'\r\nimport * as d3 from 'd3'\r\nimport moment from 'moment'\r\n\r\nvar $ = window.$\r\n\r\nconst radius_min = 8;\r\nconst radius_max = 12;\r\nconst stroke_min = 2;\r\nconst stroke_max = 4;\r\nconst transition_duration = 150;\r\nconst selectionScale = 1.5;\r\nconst sizeLabel = 12;\r\nconst sizeSubLabel = 10;\r\nconst minWidth = 180;\r\nconst minHeight = 40;\r\nconst xOrigin = 15;\r\nconst yOrigin = 15;\r\n\r\nclass GraphComponent extends Component {\r\n\r\n    constructor(props){\r\n        super(props)\r\n        this.did = false;\r\n        this.state = {height:0, width:0, selectedTasks: [], nodes : [], links : []}\r\n        this.countNodeAtDepthLevel = this.countNodeAtDepthLevel.bind(this);\r\n        this.countNodeByDepthLevel = this.countNodeByDepthLevel.bind(this);\r\n        this.getNodesAtDepthLevel = this.getNodesAtDepthLevel.bind(this);\r\n    }\r\n\r\n    handleClassName(className, isActive, isMultiple, duration){\r\n      const svg = d3.select($(\"#svg-tree\")[0]);\r\n      let extraMax = 0;\r\n      let extraMin = 0;\r\n      if(className ==='rectangle'){\r\n        extraMax = radius_max;\r\n        extraMin = radius_min;\r\n      }\r\n      if(isActive){\r\n        svg.selectAll('.link-'+className+',.symbol-'+className+',.label-'+className)\r\n        .transition()\r\n        .duration(duration)\r\n        .attr(\"opacity\", 1);\r\n  \r\n        svg.selectAll(\".symbol-\"+className)\r\n        .on(\"click\", (d, i, n) => {\r\n          if(d.selected){\r\n            if(isMultiple){\r\n              this.props.removeTask(this.props.tasks.filter((task) => (task._id === d.task._id))[0]);\r\n             } else {\r\n                this.props.setTask(null);\r\n            }\r\n          } else {\r\n            if(isMultiple){\r\n              this.props.addTask(this.props.tasks.filter((task) => (task._id === d.task._id))[0]);\r\n            } else {\r\n              this.props.setTask(this.props.tasks.filter((task) => (task._id === d.task._id))[0]);\r\n            }\r\n          }\r\n        })\r\n        .on(\"mouseover\", function(d, i) {\r\n          if(!d.selected){\r\n              d3.select(this)\r\n              .transition()\r\n              .attr(\"transform\", d => \"translate(\" + (d.x - extraMax) + \",\" + (d.y - extraMax) + \") scale(\"+selectionScale+\")\")\r\n              .duration(transition_duration);\r\n          }\r\n        })\r\n        .on(\"mouseout\", function(d, i) {\r\n            if(!d.selected){\r\n                d3.select(this)\r\n                .transition()\r\n                .attr(\"transform\", d => \"translate(\" + (d.x - extraMin) + \",\" + (d.y - extraMin) + \")\")\r\n                .duration(transition_duration);\r\n            }\r\n        })\r\n      } else {\r\n        svg.selectAll('.link-'+className+',.symbol-'+className+',.label-'+className)\r\n        .transition()\r\n        .duration(duration)\r\n        .attr(\"opacity\", 0.5);\r\n  \r\n        svg.selectAll(\".symbol-\"+className)\r\n        .on(\"click\", null)\r\n        .on(\"mouseover\", null)\r\n        .on(\"mouseout\", null);\r\n      }\r\n    }\r\n\r\n    toggleCompareMode(){\r\n        this.handleClassName('init', !this.props.compareMode, this.props.compareMode, 0);\r\n        this.handleClassName('circle', true, this.props.compareMode, 0);\r\n        this.handleClassName('rectangle', true, this.props.compareMode, 0);\r\n        this.handleClassName(\"triangle\", !this.props.compareMode, this.props.compareMode, transition_duration);\r\n        //if(this.props.selectedTasks.filter(selectedTask => selectedTask.action.includes('MODEL')).length !== this.props.selectedTasks.length)\r\n        this.props.setTask(null);\r\n    }\r\n\r\n  countNodeAtDepthLevel(rootNode, depthLevel){\r\n    if(depthLevel <= 0) return 1;\r\n    if(rootNode!==null && rootNode.next!==null && rootNode.next.length >0){\r\n        let res = [];\r\n        rootNode.next.forEach(nextTaskId => {\r\n          let nextTask = this.props.tasks.filter(task => (task._id === nextTaskId))[0];\r\n          res.push(this.countNodeAtDepthLevel(nextTask, depthLevel-1));\r\n        });\r\n        let ans = res.reduce((a, b) => a + b, 0)\r\n        return ans;\r\n    }\r\n    return 0;  \r\n  }\r\n\r\n  getNodesAtDepthLevel(rootNode, depthLevel){\r\n    if(depthLevel <= 0) return [rootNode];\r\n    if(rootNode!==null && rootNode.next!==null && rootNode.next.length >0){\r\n        let res = [];\r\n        rootNode.next.forEach(nextTaskId => {\r\n          let nextTask = this.props.tasks.filter(task => (task._id === nextTaskId))[0];\r\n          res.push(this.getNodesAtDepthLevel(nextTask, depthLevel-1));\r\n        });\r\n        let ans = res.reduce((a, b) => [...a, ...b], [])\r\n        return ans;\r\n    }\r\n    return [];  \r\n  }\r\n\r\n  countNodeByDepthLevel(rootNode){\r\n    let bottomHit = false;\r\n    let depthLevel = 0;\r\n    let nbNodeByDepthLevel = [];\r\n    while(!bottomHit){\r\n      let nbNodeAtDepthLevel = this.countNodeAtDepthLevel(rootNode, depthLevel++);\r\n      if(nbNodeAtDepthLevel){\r\n        nbNodeByDepthLevel.push(nbNodeAtDepthLevel);\r\n      } \r\n      else bottomHit = true;\r\n    }\r\n    return nbNodeByDepthLevel;\r\n  }\r\n\r\n   update(){\r\n     var rootTask = this.props.tasks.filter(task => (task.action === 'INIT'))[0];\r\n     var computeHeightOfNode = (task, minHeight) => {\r\n      let ans = minHeight;\r\n      if(task.next.length > 0){\r\n        ans = task.next\r\n              .map(nextTaskId => computeHeightOfNode(this.props.tasks.filter(task => (task._id === nextTaskId))[0], minHeight))\r\n              .reduce((total, value) => total+value, 0);\r\n      }\r\n      return ans;\r\n    }\r\n    var computeWidthOfGraph = (task, minWidth, totalWidth) => {\r\n      let ans = totalWidth;\r\n      if(task.next.length > 0){\r\n        return Math.max(\r\n          ...task.next.map(nextTaskId =>\r\n            computeWidthOfGraph(this.props.tasks.filter(task => (task._id === nextTaskId))[0], minWidth, totalWidth + minWidth)\r\n          )\r\n        );\r\n      }\r\n      return ans;\r\n    }\r\n    var height = computeHeightOfNode(rootTask, minHeight);\r\n    var width = computeWidthOfGraph(rootTask, minWidth, minWidth);\r\n     this.setState({height:height, width: width, selectedTasks: [], nodes:[], links:[]}, () => {\r\n     \r\n\r\n      var iterate  = (currTask, x, y, nodes, links) => {\r\n        \r\n        var selected = this.props.selectedTasks.length ? this.props.selectedTasks.filter(selectedTask => selectedTask._id === currTask._id).length : false\r\n        nodes.push({task: currTask, x: x, y: y, selected: selected});\r\n        var nextX = x  + minWidth;\r\n        var nextY = y;\r\n        var nextTasks = currTask.next.map(nextTaskId => this.props.tasks.filter(task => task._id === nextTaskId)[0]);\r\n        var sortedNextTasks = nextTasks.sort( (prevTask, nextTask) => {\r\n          //MODEL_ASIS > MODEL_TOBE > KPI\r\n          if( \r\n            (prevTask.action.includes('MODEL_ASIS') && nextTask.action.includes('MODEL_TOBE'))\r\n            ||\r\n            (prevTask.action.includes('MODEL_TOBE') && nextTask.action.includes('KPI'))\r\n            ||\r\n            (prevTask.action.includes('MODEL_ASIS') && nextTask.action.includes('KPI'))\r\n          ) return -1;\r\n\r\n          if( \r\n            (nextTask.action.includes('MODEL_ASIS') && prevTask.action.includes('MODEL_TOBE'))\r\n            ||\r\n            (nextTask.action.includes('MODEL_TOBE') && prevTask.action.includes('KPI'))\r\n            ||\r\n            (nextTask.action.includes('MODEL_ASIS') && prevTask.action.includes('KPI'))\r\n          ) return 1;\r\n          return 0;\r\n        });\r\n        sortedNextTasks.forEach(nextTask => {\r\n          var nextHeight = computeHeightOfNode(nextTask, minHeight);\r\n          links.push({\r\n            task: nextTask,\r\n            source: {x: x, y: y},\r\n            target: {x:  nextX, y:  nextY},\r\n            dashed : (nextTask.lane===\"lane_todo\")?(\"3, 3\"): (\"0, 0\"),\r\n            color: \"#f7931e\"\r\n          })\r\n          iterate(nextTask, nextX, nextY, nodes, links);\r\n          nextY = nextY + nextHeight;\r\n        });\r\n      }\r\n      iterate(rootTask, xOrigin, yOrigin,  this.state.nodes, this.state.links);\r\n      this.draw();\r\n     });\r\n   }\r\n\r\n   draw(){\r\n        /* DRAWING */\r\n        const svg = d3.select($(\"#svg-tree\")[0]);\r\n        svg.selectAll(\"*\").remove();\r\n\r\n        var curve = d3.line()\r\n        .x( d => d.x)\r\n        .y( d => d.y)\r\n        .curve(d3.curveMonotoneX);\r\n\r\n        /* LINKS */\r\n        svg.append(\"g\")\r\n        .selectAll(\"path\")\r\n        .data(this.state.links)\r\n        .enter()\r\n        .append(\"path\")\r\n        .attr('class', function (d) { \r\n            let className = '';\r\n            if(d.task.action.includes('INIT')) className = 'link-init';\r\n            if(d.task.action.includes('KPI')) className = 'link-triangle';\r\n            if(d.task.action.includes('MODEL_ASIS')) className = 'link-circle';\r\n            if(d.task.action.includes('MODEL_TOBE')) className = 'link-rectangle';\r\n            return className;\r\n        })\r\n        .attr(\"d\", d => curve([\r\n        {x: d.source.x, y: d.source.y},\r\n        {x: d3.interpolateNumber(d.source.x, d.target.x)(0.2), y: d3.interpolateNumber(d.source.y, d.target.y)(0.1)},\r\n        {x: d3.interpolateNumber(d.source.x, d.target.x)(0.8), y: d3.interpolateNumber(d.source.y, d.target.y)(0.9)},\r\n        {x: d.target.x, y: d.target.y}]))\r\n        .attr(\"stroke\", d => d.color)\r\n        .attr(\"stroke-width\", stroke_min)\r\n        .style(\"stroke-dasharray\", d => d.dashed)\r\n        .attr(\"fill\", \"none\");\r\n      \r\n        \r\n        /* LABELS */\r\n        svg.append(\"g\")\r\n        .selectAll(\"text\")\r\n        .data(this.state.links)\r\n        .enter()\r\n        .append(\"text\")\r\n        .attr('class', function (d) { \r\n            let className = '';\r\n            if(d.task.action.includes('INIT')) className = 'link-init';\r\n            if(d.task.action.includes('KPI')) className = 'link-triangle';\r\n            if(d.task.action.includes('MODEL_ASIS')) className = 'link-circle';\r\n            if(d.task.action.includes('MODEL_TOBE')) className = 'link-rectangle';\r\n            return className;\r\n        })\r\n        .attr(\"x\", function(d) { return d.target.x - sizeLabel-4; })\r\n        .attr(\"y\", function(d) { return d.target.y + sizeLabel/4; })\r\n        .html( function (d) { return d.task.name})\r\n        .attr(\"fill\", \"white\")\r\n        .attr(\"text-anchor\", \"end\")\r\n        .attr(\"font-size\", sizeLabel+\"px\")\r\n        .attr(\"paint-order\", \"stroke\")\r\n        .attr(\"stroke\",\"#f7931e\")\r\n        .attr(\"stroke-width\",stroke_max)\r\n        .attr(\"stroke-linecap\", \"butt\")\r\n        .attr(\"stroke-linejoin\", \"miter\")\r\n        .attr(\"font-weight\", \"800\");\r\n        \r\n        svg.append(\"g\")\r\n        .selectAll(\"text\")\r\n        .data(this.state.links)\r\n        .enter()\r\n        .append(\"text\")\r\n        .attr('class', function (d) { \r\n            let className = '';\r\n            if(d.task.action.includes('INIT')) className = 'link-init';\r\n            if(d.task.action.includes('KPI')) className = 'link-triangle';\r\n            if(d.task.action.includes('MODEL_ASIS')) className = 'link-circle';\r\n            if(d.task.action.includes('MODEL_TOBE')) className = 'link-rectangle';\r\n            return className;\r\n        })\r\n        .attr(\"x\", function(d) { return d.target.x - sizeLabel-4; })\r\n        .attr(\"y\", function(d) { return d.target.y + sizeLabel + 4; })\r\n        .html( function (d) { return moment(d.task.date).format('LLL'); })\r\n        .attr(\"fill\", \"#f7931e\")\r\n        .attr(\"text-anchor\", \"end\")\r\n        .attr(\"font-size\", sizeSubLabel+\"px\")\r\n        .attr(\"paint-order\", \"stroke\")\r\n        .attr(\"stroke\",\"#fff\")\r\n        .attr(\"stroke-width\",stroke_min)\r\n        .attr(\"stroke-linecap\", \"butt\")\r\n        .attr(\"stroke-linejoin\", \"miter\")\r\n        .attr(\"font-weight\", \"800\");\r\n\r\n        /* CIRCLES */\r\n        svg.append(\"g\")\r\n        .selectAll(\"circle\")\r\n        .data(this.state.nodes.filter(d => d.task.action.includes('INIT')))\r\n        .enter()\r\n        .append(\"circle\")\r\n        .attr(\"class\", \"symbol-init\")\r\n        .attr(\"stroke\", \"#f7931e\")\r\n        .attr(\"transform\", d => \"translate(\" + d.x + \",\" + d.y + \")\")\r\n        .attr(\"r\", d => {return (d.selected)?radius_max:radius_min})\r\n        .attr(\"stroke-width\", d => {return (d.selected)?stroke_max:stroke_min})\r\n        .style(\"stroke-dasharray\", d => d.dashed)\r\n        .attr(\"fill\",  \"#fff\");\r\n\r\n\r\n        /* CIRCLES */\r\n        svg.append(\"g\")\r\n        .selectAll(\"circle\")\r\n        .data(this.state.nodes.filter(d => d.task.action.includes('MODEL_ASIS')))\r\n        .enter()\r\n        .append(\"circle\")\r\n        .attr(\"class\", \"symbol-circle\")\r\n        .attr(\"stroke\", \"#f7931e\")\r\n        .attr(\"transform\", d => \"translate(\" + d.x + \",\" + d.y + \")\")\r\n        .attr(\"r\", d => {return (d.selected)?radius_max:radius_min})\r\n        .attr(\"stroke-width\", d => {return (d.selected)?stroke_max:stroke_min})\r\n        .style(\"stroke-dasharray\", d => d.dashed)\r\n        .attr(\"fill\",  \"#fff\");\r\n\r\n        /* RECTS */\r\n          svg.append(\"g\")\r\n          .selectAll(\"rect\")\r\n          .data(this.state.nodes.filter(d => d.task.action.includes('MODEL_TOBE')))\r\n          .enter()\r\n          .append(\"rect\")\r\n          .attr(\"class\", \"symbol-rectangle\")\r\n          .attr(\"stroke\", \"#f7931e\")\r\n          .attr(\"stroke-width\", 2)\r\n          .attr(\"transform\", d => \"translate(\" + (d.x - ((d.selected)?radius_max:radius_min))+ \",\" + ( d.y - ((d.selected)?radius_max:radius_min) )+ \")\")\r\n          .attr(\"width\", d => {return ((d.selected)?radius_max:radius_min)*2})\r\n          .attr(\"height\", d => {return ((d.selected)?radius_max:radius_min)*2})\r\n          .attr(\"stroke-width\", d => {return (d.selected)?stroke_max:stroke_min})\r\n          .attr(\"fill\",  \"#fff\");\r\n\r\n        /* TRIANGLES */\r\n        svg.append(\"g\")\r\n        .selectAll(\"path\")\r\n        .data(this.state.nodes.filter(d => d.task.action.includes('KPI')))\r\n        .enter()\r\n        .append(\"path\")\r\n        .classed(\"symbol-triangle\", true)\r\n        .attr(\"d\", d => d3.symbol()\r\n              .type(d3.symbolTriangle)\r\n              .size((d.selected?radius_max:radius_min)*14)()\r\n        )\r\n        .attr(\"transform\", d => \"translate(\" + d.x + \",\" + d.y + \")\")\r\n        .attr(\"stroke\", \"#f7931e\")\r\n        .attr(\"stroke-width\", d => {return (d.selected)?stroke_max:stroke_min})\r\n        .attr(\"fill\",  \"#fff\");\r\n\r\n        this.handleClassName('init', !this.props.compareMode, this.props.compareMode, 0);\r\n        this.handleClassName('circle', true, this.props.compareMode, 0);\r\n        this.handleClassName('rectangle', true, this.props.compareMode, 0);\r\n        this.handleClassName('triangle', !this.props.compareMode, this.props.compareMode, 0);\r\n   }\r\n\r\n   componentDidUpdate(prevProps, prevState) {\r\n     if (prevProps.tasks !== this.props.tasks) {\r\n        this.update()\r\n      }\r\n     if (prevProps.selectedTasks !== this.props.selectedTasks) {\r\n        this.update()\r\n     }\r\n     if (prevProps.compareMode !== this.props.compareMode) {\r\n       this.toggleCompareMode()\r\n    }\r\n   }\r\n   \r\n   componentDidMount(){\r\n     this.update()\r\n   }\r\n\r\n    render(){\r\n        if(!this.did){\r\n            this.did = true\r\n            this.update()\r\n        }\r\n        return (\r\n          <div>\r\n            <svg id='svg-tree' width={this.state.width} height={this.state.height} />\r\n          </div>\r\n        );\r\n    }\r\n\r\n\r\n}\r\n\r\nexport default GraphComponent;","/**\r\n * @class AddUserForm\r\n * @extends Component\r\n * @description Create the form for adding a user to the project\r\n */\r\nimport React, { Component } from 'react'\r\nimport SocketContext from '../../../../SocketContext'\r\n\r\nvar $ = window.$\r\n\r\nclass AddUserFormCore extends Component {\r\n\r\n  constructor(props){\r\n   super(props);\r\n   this.handleAddUser = this.handleAddUser.bind(this);\r\n   this.handleCopyUrl = this.handleCopyUrl.bind(this);\r\n   this.state = {users: null, error : false, pending : false}\r\n  }\r\n\r\n  \r\n  // Add a user to the project\r\n  update(){\r\n    this.setState({users : null, error : false, pending : true}, () => {\r\n        var filter = {_id: this.props.project._id }\r\n        this.props.socket.emit('/api/project/get', filter, res => {\r\n            if(res.projects){\r\n                var filter = {_id: { \"$nin\" : res.projects[0].users}}\r\n                this.props.socket.emit('/api/user/get', filter, res => {\r\n                    if(res.users){\r\n                        this.setState({users : res.users, error : false, pending : false}, () =>{\r\n                            var data = {}\r\n                            this.state.users.map((user, index) => (data[String(user.firstname+\" \"+user.lastname + \" (\" + user.roles + \") - \" + user._id)] = null))\r\n                            $('#input_autocomplete_adduser').autocomplete({data: data});\r\n                        });\r\n                    }\r\n                    if(res.error){\r\n                        this.setState({users : null, error : false, pending : false});\r\n                    }\r\n                });\r\n            }\r\n            if(res.error){\r\n                this.setState({users : null, error : false, pending : false});\r\n            }\r\n        });\r\n    })\r\n  }\r\n\r\n  componentDidMount() {\r\n    $('#modal_adduser').modal();\r\n    this.update()\r\n    this.props.socket.on('/api/project/done', () => {this.update()})\r\n  }\r\n\r\n  handleCopyUrl(event){\r\n   event.preventDefault();\r\n   $('#input_projecturl').select();\r\n   document.execCommand('copy');\r\n\r\n  }\r\n\r\n  handleAddUser(event){\r\n   event.preventDefault();\r\n   if (this.refs.username.value.split('-').length < 2) {\r\n        this.setState({error : 'unknown user', pending : false});\r\n\r\n   } else {\r\n       this.setState({error : false, pending : true}, () => {\r\n            var id = this.refs.username.value.split('-')[1].trim();\r\n           var user = this.state.users.filter((user, index) => {\r\n                return user._id === id;\r\n           })[0]\r\n           var filter = {_id: this.props.params._id}\r\n           var update = {\"$push\" : {users : user._id}}\r\n           this.props.socket.emit('/api/project/update', filter, update, res => {\r\n                if (res.projects) {\r\n                    this.setState({error : false, pending : false}, () => {\r\n                        $('#modal_adduser').modal('close');\r\n                    })\r\n                }\r\n                if (res.error) {\r\n                    this.setState({error : res.error, pending : false});\r\n                }\r\n           });\r\n       })\r\n   }\r\n  };\r\n\r\n  render() {\r\n    let preloaderComponent;\r\n\r\n    if (this.state.pending){\r\n        preloaderComponent = <div className=\"row\">\r\n                              <div className=\"preloader-wrapper small active center\">\r\n                                <div className=\"spinner-layer\">\r\n                                  <div className=\"circle-clipper left\">\r\n                                    <div className=\"circle\"></div>\r\n                                  </div><div className=\"gap-patch\">\r\n                                    <div className=\"circle\"></div>\r\n                                  </div><div className=\"circle-clipper right\">\r\n                                    <div className=\"circle\"></div>\r\n                                  </div>\r\n                                </div>\r\n                              </div>\r\n                             </div>\r\n    }\r\n\r\n    let errorComponent;\r\n\r\n    if (this.state.error){\r\n        errorComponent = <div className=\"row\">\r\n                            <div className=\"col s12 center\">\r\n                                <h6 className='rezbuild-text'>{this.state.error}</h6>\r\n                            </div>\r\n                        </div>\r\n    }\r\n\r\n    let usersComponent =\r\n          <div className=\"row\">\r\n              <div className=\"input-field col l10 m9 s12\">\r\n                  <input id=\"input_autocomplete_adduser\" type=\"text\"  ref=\"username\"  className=\"autocomplete\" required />\r\n                  <label htmlFor=\"input_autocomplete_adduser\">Find an existing user...</label>\r\n              </div>\r\n              <div className=\"input-field col l2 m3  s12 center\">\r\n                  <button className=\"btn waves-effect waves-light\" type=\"submit\">SUBMIT <i className=\"material-icons right\">send</i></button>\r\n              </div>\r\n          </div>\r\n\r\n    return (\r\n    <div id=\"modal_adduser\" className=\"modal\">\r\n        <div className=\"rezbuild center\" style={{marginBottom:'0'}}>\r\n            <h4 className=\"white-text\" style={{lineHeight:'150%'}}>Invite user</h4>\r\n        </div>\r\n       <div className=\"modal-content\">\r\n          <form className=\"col s12\" onSubmit={this.handleAddUser} autoComplete=\"off\">\r\n              {usersComponent}\r\n              {preloaderComponent}\r\n              {errorComponent}\r\n          </form>\r\n          <form className=\"col s12\"   onSubmit={this.handleCopyUrl} autoComplete=\"off\">\r\n          <div className=\"row\">\r\n            <div className=\"input-field col l10 m9 s12\">\r\n              <input id=\"input_projecturl\" type=\"text\" ref=\"input_projecturl\"    className=\"validate\"  defaultValue={window.location.href.split('#')[0]  + '/signin'} />\r\n              <label  className=\"active\" htmlFor=\"input_projecturl\">Or share this url...</label>\r\n            </div>\r\n              <div className=\"input-field col l2 m3 s12 center\">\r\n                  <button className=\"btn waves-effect waves-light\" type=\"submit\"> <i className=\"material-icons right\">content_copy</i>COPY</button>\r\n              </div>\r\n          </div>\r\n          </form>\r\n\r\n       </div>\r\n\r\n    </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst AddUserForm = props => (\r\n  <SocketContext.Consumer>\r\n  { (context) => <AddUserFormCore {...props} socket={context.socket} uploader={context.uploader} />}\r\n  </SocketContext.Consumer>\r\n)\r\n\r\nexport default AddUserForm\r\n\r\n","/**\r\n * @class Team\r\n * @extends Component\r\n * @description Create the team part of the dashboard\r\n */\r\nimport React, { Component } from 'react'\r\nimport SocketContext from '../../../SocketContext'\r\nimport AddUserForm from './addUser'\r\nimport common from 'common'\r\n\r\nclass TeamCore extends Component {\r\n\r\n  constructor(props){\r\n    super(props);\r\n    this.state = {users : null,  error : false, pending : false}\r\n  }\r\n\r\n  \r\n   // Fetch the users of the project\r\n  update(){\r\n    this.setState({users : null, error : false, pending : true}, () => {\r\n        var filter = {_id: this.props.project._id }\r\n        this.props.socket.emit('/api/project/get', filter, res => {\r\n            if(res.projects){\r\n                var filter = {_id: { \"$in\" : res.projects[0].users}}\r\n                this.props.socket.emit('/api/user/get', filter, res => {\r\n                    if(res.users){\r\n                        this.setState({users : res.users, error : false, pending : false})\r\n                    }\r\n                    if(res.error){\r\n                        this.setState({users : null, error : false, pending : false});\r\n                    }\r\n                });\r\n            }\r\n            if(res.error){\r\n                this.setState({users : null, error : false, pending : false});\r\n            }\r\n        });\r\n    })\r\n  }\r\n\r\n  componentDidMount() {\r\n    this.update();\r\n    this.props.socket.on('/api/project/done', res => {\r\n        this.update()\r\n     });\r\n    this.props.socket.on('/api/user/done', res => {\r\n        this.update()\r\n     });\r\n  }\r\n\r\n\r\n  render() {\r\n        let errorComponent;\r\n        let preloaderComponent;\r\n        let usersComponent;\r\n        let addUserFormComponent;\r\n        let addUserButtonComponent;\r\n\r\n        if (this.state.error){\r\n            errorComponent = <div className=\"row\">\r\n                                <div className=\"col s12\">\r\n                                    <h6 className='rezbuild-text'>{this.state.error}</h6>\r\n                                </div>\r\n                            </div>\r\n        }\r\n\r\n        if (this.state.pending){\r\n            preloaderComponent = <div className=\"preloader-wrapper small active\">\r\n                                    <div className=\"spinner-layer\">\r\n                                      <div className=\"circle-clipper left\">\r\n                                        <div className=\"circle\"></div>\r\n                                      </div><div className=\"gap-patch\">\r\n                                        <div className=\"circle\"></div>\r\n                                      </div><div className=\"circle-clipper right\">\r\n                                        <div className=\"circle\"></div>\r\n                                      </div>\r\n                                    </div>\r\n                                  </div>\r\n        } else {\r\n\r\n            if (this.state.users){\r\n\r\n                usersComponent =\r\n                        <ul className=\"collection\" style={{border:0}}>\r\n                        {this.state.users.map((collaborator, index) =>\r\n                            <li className=\"collection-item avatar\" key={index}>\r\n                              <i className=\"medium material-icons circle white rezbuild-text\" style={{fontSize:'42px'}}>account_circle</i>\r\n                              <span className=\"title rezbuild-text\" style={{fontWeight:'900'}}>{collaborator.firstname} {collaborator.lastname}</span>\r\n                              <p>\r\n                              {\r\n                                collaborator.roles\r\n                                .filter(role => common.ROLES.hasOwnProperty(role))\r\n                                .map(role => common.ROLES[role].name)\r\n                                .join(', ')\r\n                              }\r\n                              </p>\r\n                              <a href={\"mailto:\"+collaborator.email} className=\"btn secondary-content\"><i className=\"material-icons right\">email</i> EMAIL</a>\r\n                            </li>\r\n                        )}\r\n                        </ul>\r\n\r\n            }\r\n\r\n            addUserButtonComponent = <a className=\"btn waves-effect waves-light modal-trigger\" href=\"#modal_adduser\">\r\n                    <i className=\"material-icons left\">person_add</i>\r\n                    Invite\r\n                    </a>\r\n            addUserFormComponent =  <AddUserForm project={this.props.project} params={this.props.params}/>\r\n        }\r\n\r\n\r\n\r\n\r\n\r\n        return (\r\n                <div className=\"col s12 white z-depth-1\" style={{paddingTop:'0.5rem'}} >\r\n                    {errorComponent}\r\n                    {preloaderComponent}\r\n                    {addUserButtonComponent}\r\n                    {addUserFormComponent}\r\n                    {usersComponent}\r\n               </div>\r\n        );\r\n  }\r\n}\r\n\r\nconst TeamComponent = props => (\r\n  <SocketContext.Consumer>\r\n  { (context) => <TeamCore {...props} socket={context.socket} uploader={context.uploader} />}\r\n  </SocketContext.Consumer>\r\n)\r\n\r\nexport default TeamComponent;\r\n","/**\r\n * @class ProjectInformation\r\n * @extends Component\r\n * @description Create the project information part of the dashboard\r\n */\r\nimport React, { Component } from 'react'\r\nimport SocketContext from '../../../SocketContext'\r\n\r\nvar $ = window.$\r\n\r\nclass ProjectInformationCore extends Component {\r\n\r\n  constructor(props){\r\n    super(props);\r\n    this.submit = this.submit.bind(this);\r\n    this.state = {project : null,  error : false, pending : false}\r\n  }\r\n  \r\n   // Update the project\r\n  submit(event){\r\n    event.preventDefault();\r\n     this.setState({error : false, pending : true}, () => {\r\n         var filter = {_id: this.props.project._id}\r\n         var update = {}\r\n         Object.keys(this.refs).forEach(key => {\r\n           var value = this.refs[key].value\r\n           if(value === \"on\") value = $('#'+key).is(':checked')\r\n           update[key] = value\r\n           }\r\n         );\r\n         this.props.socket.emit('/api/project/update', filter, update, res => {\r\n             if (res.projects){\r\n                this.setState({project : res.projects[0], error : false, pending : false});\r\n             }\r\n             if (res.error) {\r\n                 this.setState({project : null, error : res.error, pending : false});\r\n             }\r\n         });\r\n     })\r\n   };\r\n\r\n  update(){\r\n\r\n    this.setState({users : null, error : false, pending : true}, () => {\r\n        var filter = {_id: this.props.project._id }\r\n        this.props.socket.emit('/api/project/get', filter, res => {\r\n            if(res.projects){\r\n                this.setState({project : res.projects[0], error : false, pending : false});\r\n            }\r\n            if(res.error){\r\n                this.setState({project : null, error : false, pending : false});\r\n            }\r\n        });\r\n    })\r\n  }\r\n\r\n  componentDidMount() {\r\n    $(document).ready(() => {\r\n        $('#projectInformation').tabs('select_tab', 'general');\r\n        $('select').material_select();\r\n    });\r\n    this.update();\r\n    this.props.socket.on('/api/project/done', res => {\r\n        this.update()\r\n     });\r\n  }\r\n  componentDidUpdate(prevState) {\r\n    if (this.state.project !== prevState.project) {\r\n        $('#projectInformation').tabs('select_tab', 'general');\r\n        $('select').material_select();\r\n      }\r\n  }\r\n  render() {\r\n      var saveButton = \r\n      <div className=\"input-field col s12 center\" style={{paddingBottom:'1rem'}}>\r\n          <button className=\"btn waves-effect waves-light\" type=\"submit\"><i className=\"material-icons right\">save</i>SAVE</button>\r\n      </div>\r\n      var generalInformation;\r\n      if(this.state.project){\r\n            generalInformation =\r\n            <div className=\"section col s12 white z-depth-1\">\r\n                    <h5 className=\"rezbuild-text col s12\">General</h5>\r\n                    <div className=\"input-field col s4\">\r\n                        <input  required id=\"name\" type=\"text\"  ref=\"name\" defaultValue={this.state.project.name}/>\r\n                        <label className=\"active\" htmlFor=\"name\">Name</label>\r\n                    </div>\r\n\r\n                    <div className=\"input-field col s8\">\r\n                        <input  required id=\"address\" type=\"text\"  ref=\"address\" defaultValue={this.state.project.address}/>\r\n                        <label className=\"active\" htmlFor=\"address\">Address</label>\r\n                    </div>\r\n\r\n                    <div className=\"input-field col s6\">\r\n                        <input  required id=\"city\" type=\"text\"  ref=\"city\"  defaultValue={this.state.project.city}/>\r\n                        <label className=\"active\" htmlFor=\"city\">City</label>\r\n                    </div>\r\n\r\n                    <div className=\"input-field col s6\">\r\n                        <input  required id=\"country\" type=\"text\"  ref=\"country\" defaultValue={this.state.project.country}/>\r\n                        <label className=\"active\" htmlFor=\"country\">Country</label>\r\n                    </div>\r\n\r\n                    <div className=\"input-field col s4\">\r\n                    <select  required defaultValue={this.state.project.context} id=\"context\" ref=\"context\">\r\n                        <option value=\"\" >Choose a context</option>\r\n                        <option name=\"context\" value=\"City center\" id=\"context_city_center\">City center</option>\r\n                        <option name=\"context\" value=\"Suburbs\" id=\"context_suburbs\">Suburbs</option>\r\n                        <option name=\"context\" value=\"Isolated\" id=\"context_isolated\">Isolated</option>\r\n                    </select>\r\n                    <label>Context</label>\r\n                    </div>\r\n\r\n                    <div className=\"input-field col s4\">\r\n                        <input  required id=\"degree\"  ref=\"degree\" type=\"number\" step=\"any\" defaultValue={this.state.project.degree} />\r\n                        <label  className=\"active\" htmlFor=\"degree\"> Degree Days (°)</label>\r\n                    </div>\r\n\r\n                    <div className=\"input-field col s4\">\r\n                        <select  required defaultValue={this.state.project.climat} id=\"climat\" ref=\"climat\">\r\n                            <option value=\"\" >Choose a climat zone</option>\r\n                            <option name=\"context\" value=\"Tropical zone\" id=\"climat_tropical\">Tropical zone</option>\r\n                            <option name=\"context\" value=\"Subtropical zone\" id=\"climat_subtropical\">Subtropical zone</option>\r\n                            <option name=\"context\" value=\"Temperate zone\" id=\"climat_temperate\">Temperate zone</option>\r\n                            <option name=\"context\" value=\"Cold zone\" id=\"climat_cold\">Cold zone</option>\r\n                        </select>\r\n                        <label>Climat Zone</label>\r\n                    </div>\r\n                    {saveButton}\r\n            </div>\r\n      }\r\n      var needsInformation;\r\n      if(this.state.project){\r\n            needsInformation =\r\n            <div className=\"section col s12 white z-depth-1\" style={{marginTop:'2rem'}}>\r\n            <h5 className=\"rezbuild-text col s12\">Needs</h5>\r\n                    <div className=\"input-field col s12\">\r\n                                <textarea  id=\"refurbishmentExpectations\" ref=\"refurbishmentExpectations\" className=\"materialize-textarea\" defaultValue={this.state.project.refurbishmentExpectations} ></textarea>\r\n                                <label className=\"active\" htmlFor=\"refurbishmentExpectations\">Refurbishment Project Expectations</label>\r\n                    </div>\r\n                    <div className=\"input-field col s12 m6\">\r\n                            <p className=\"range-field\">\r\n                                <input  type=\"range\" id=\"energyConsumptionExpectations\" ref=\"energyConsumptionExpectations\" min=\"0\" max=\"100\"  defaultValue={this.state.project.energyConsumptionExpectations}/>\r\n                                <label htmlFor=\"energyConsumptionExpectations\">Energy Consumption Expectations</label>\r\n                            </p>\r\n                    </div>\r\n                    <div className=\"input-field col s12 m6\">\r\n                            <p className=\"range-field\">\r\n                                <input  type=\"range\" id=\"environmentalExpectations\" ref=\"environmentalExpectations\" min=\"0\" max=\"100\"  defaultValue={this.state.project.environmentalExpectations}/>\r\n                                <label htmlFor=\"environmentalExpectations\">Environmental Expectations</label>\r\n                            </p>\r\n                    </div>\r\n                    <div className=\"input-field col s12 m6\">\r\n                            <p className=\"range-field\">\r\n                                <input  type=\"range\" id=\"economicalExpectations\" ref=\"economicalExpectations\" min=\"0\" max=\"100\"  defaultValue={this.state.project.economicalExpectations}/>\r\n                                <label htmlFor=\"economicalExpectations\">Economical Expectations</label>\r\n                            </p>\r\n                    </div>\r\n                    <div className=\"input-field col s12 m6\">\r\n                            <p className=\"range-field\">\r\n                                <input  type=\"range\" id=\"socialExpectations\" ref=\"socialExpectations\" min=\"0\" max=\"100\"  defaultValue={this.state.project.socialExpectations}/>\r\n                                <label htmlFor=\"socialExpectations\">Social Expectations</label>\r\n                            </p>\r\n                    </div>\r\n                    <div className=\"input-field col s12 m6\">\r\n                            <p className=\"range-field\">\r\n                                <input  type=\"range\" id=\"comfortExpectations\" ref=\"comfortExpectations\" min=\"0\" max=\"100\"  defaultValue={this.state.project.comfortExpectations}/>\r\n                                <label htmlFor=\"comfortExpectations\">Comfort Expectations</label>\r\n                            </p>\r\n                    </div>\r\n                    <div className=\"input-field col s12\">\r\n                        <p className=\"col s12 m6 s4\">\r\n                        <input  type=\"checkbox\" id=\"homeDuringRenovation\" ref=\"homeDuringRenovation\"  defaultChecked={this.state.project.homeDuringRenovation}/>\r\n                        <label htmlFor=\"homeDuringRenovation\">Don't leave home during renovation</label>\r\n                        </p>\r\n                        <p className=\"col s12 m6 s4\">\r\n                        <input  type=\"checkbox\" id=\"differentLocationDuringRenovation\" ref=\"differentLocationDuringRenovation\"  defaultChecked={this.state.project.differentLocationDuringRenovation}/>\r\n                        <label htmlFor=\"differentLocationDuringRenovation\">Have a different location during renovation</label>\r\n                        </p>\r\n                        <p className=\"col s12 m6 s4\">\r\n                        <input  type=\"checkbox\" id=\"elevatorInstallation\" ref=\"elevatorInstallation\" defaultChecked={this.state.project.elevatorInstallation}/>\r\n                        <label htmlFor=\"elevatorInstallation\">Elevator Installation</label>\r\n                        </p>\r\n                        <p className=\"col s12 m6 s4\">\r\n                        <input  type=\"checkbox\" id=\"improvedAccessibility\" ref=\"improvedAccessibility\" defaultChecked={this.state.project.improvedAccessibility}/>\r\n                        <label  htmlFor=\"improvedAccessibility\">Improved Accessibility</label>\r\n                        </p>\r\n                        <p className=\"col s12 m6 s4\">\r\n                        <input  type=\"checkbox\" id=\"reductionBillAmount\" ref=\"reductionBillAmount\" defaultChecked={this.state.project.reductionBillAmount}/>\r\n                        <label  htmlFor=\"reductionBillAmount\">Reduction in bills amount</label>\r\n                        </p>\r\n                        <p className=\"col s12 m6 s4\">\r\n                        <input  type=\"checkbox\" id=\"moreHomeSpaces\" ref=\"moreHomeSpaces\"  defaultChecked={this.state.project.moreHomeSpaces}/>\r\n                        <label  htmlFor=\"moreHomeSpaces\">More home spaces</label>\r\n                        </p>\r\n                        <p className=\"col s12 m6 s4\">\r\n                        <input  type=\"checkbox\" id=\"brighterEnvironments\" ref=\"brighterEnvironments\" defaultChecked={this.state.project.brighterEnvironments}/>\r\n                        <label  htmlFor=\"brighterEnvironments\">Brighter environments</label>\r\n                        </p>\r\n                        <p className=\"col s12 m6 s4\">\r\n                        <input  type=\"checkbox\" id=\"extraServiceRoom\" ref=\"extraServiceRoom\"  defaultChecked={this.state.project.extraServiceRoom}/>\r\n                        <label  htmlFor=\"extraServiceRoom\">Extra service room</label>\r\n                        </p>\r\n                        <p className=\"col s12 m6 s4\">\r\n                        <input  type=\"checkbox\" id=\"heatingUpgrading\" ref=\"heatingUpgrading\"  defaultChecked={this.state.project.heatingUpgrading}/>\r\n                        <label  htmlFor=\"heatingUpgrading\">Heating upgrading</label>\r\n                        </p>\r\n                        <p className=\"col s12 m6 s4\">\r\n                        <input  type=\"checkbox\" id=\"coolingUpgrading\" ref=\"coolingUpgrading\"  defaultChecked={this.state.project.coolingUpgrading}/>\r\n                        <label  htmlFor=\"coolingUpgrading\">Cooling upgrading</label>\r\n                        </p>\r\n                        <p className=\"col s12 m6 s4\">\r\n                        <input  type=\"checkbox\" id=\"ventilationUpgrading\" ref=\"ventilationUpgrading\" defaultChecked={this.state.project.ventilationUpgrading}/>\r\n                        <label  htmlFor=\"ventilationUpgrading\">Ventilation upgrading</label>\r\n                        </p>\r\n                        <p className=\"col s12 m6 s4\">\r\n                        <input  type=\"checkbox\" id=\"consumptionControl\" ref=\"consumptionControl\" defaultChecked={this.state.project.consumptionControl}/>\r\n                        <label  htmlFor=\"consumptionControl\">Consumption control</label>\r\n                        </p>\r\n                        <p className=\"col s12 m6 s4\">\r\n                        <input  type=\"checkbox\" id=\"eliminitationAirInfiltration\" ref=\"eliminitationAirInfiltration\" defaultChecked={this.state.project.eliminitationAirInfiltration}/>\r\n                        <label  htmlFor=\"eliminitationAirInfiltration\">Elimination of air infiltration</label>\r\n                        </p>\r\n                        <p className=\"col s12 m6 s4\">\r\n                        <input  type=\"checkbox\" id=\"shadingUpgrading\" ref=\"shadingUpgrading\" defaultChecked={this.state.project.shadingUpgrading}/>\r\n                        <label  htmlFor=\"shadingUpgrading\">Shading upgrading</label>\r\n                        </p>\r\n                        <p className=\"col s12 m6 s4\">\r\n                        <input  type=\"checkbox\" id=\"airQualityImprovement\" ref=\"airQualityImprovement\" defaultChecked={this.state.project.airQualityImprovement}/>\r\n                        <label  htmlFor=\"airQualityImprovement\">Air quality improvement</label>\r\n                        </p>\r\n                        <p className=\"col s12 m6 s4\">\r\n                        <input  type=\"checkbox\" id=\"noiseReduction\" ref=\"noiseReduction\" defaultChecked={this.state.project.noiseReduction}/>\r\n                        <label  htmlFor=\"noiseReduction\">Noise reduction</label>\r\n                        </p>\r\n                    </div>\r\n                    {saveButton}\r\n            </div>\r\n      }\r\n\r\n      var buildingInformation;\r\n      if(this.state.project){\r\n        buildingInformation =\r\n        <div className=\"section col s12 white z-depth-1\"  style={{marginTop:'2rem'}}>\r\n                    <h5 className=\"rezbuild-text col s12\">Building</h5>\r\n                    <div className=\"input-field col s2\">\r\n                    <select  required id=\"exposure\" ref=\"exposure\"  defaultValue={this.state.project.exposure}>\r\n                        <option value=\"\" >Choose an exposure</option>\r\n                        <option name=\"exposure\" value=\"N\" id=\"exposure_n\">N</option>\r\n                        <option name=\"exposure\" value=\"NE\" id=\"exposure_ne\">NE</option>\r\n                        <option name=\"exposure\" value=\"E\" id=\"exposure_e\">E</option>\r\n                        <option name=\"exposure\" value=\"SE\" id=\"exposure_se\">SE</option>\r\n                        <option name=\"exposure\" value=\"S\" id=\"exposure_s\">S</option>\r\n                        <option name=\"exposure\" value=\"SW\" id=\"exposure_sw\">SW</option>\r\n                        <option name=\"exposure\" value=\"W\" id=\"exposure_w\">W</option>\r\n                        <option name=\"exposure\" value=\"NW\" id=\"exposure_nw\">NW</option>\r\n                    </select>\r\n                    <label>Exposure</label>\r\n                    </div>\r\n                    <div className=\"input-field col s4\">\r\n                    <select  required  defaultValue={this.state.project.home} id=\"home\" ref=\"home\">\r\n                        <option value=\"\" >Choose an home type</option>\r\n                        <option name=\"exposure\" value=\"House\" id=\"home_house\">House</option>\r\n                        <option name=\"exposure\" value=\"Apartment\" id=\"home_apartment\">Apartment</option>\r\n                        </select>\r\n                    <label>Home Type</label>\r\n                    </div>\r\n                    <div className=\"input-field col s3\">\r\n                        <input  id=\"year\" type=\"number\" step=\"any\"  ref=\"year\"  defaultValue={this.state.project.year}/>\r\n                        <label className=\"active\" htmlFor=\"year\">Construction year</label>\r\n                    </div>\r\n                    <div className=\"input-field col s6\">\r\n                    <select  required  defaultValue={this.state.project.gradation} id=\"gradation\" ref=\"gradation\">\r\n                        <option value=\"\" >Choose a color gradation of external finish</option>\r\n                        <option name=\"gradation\" value=\"Light\" id=\"gradation_light\">Light</option>\r\n                        <option name=\"gradation\" value=\"Average\" id=\"gradation_average\">Average</option>\r\n                        <option name=\"gradation\" value=\"Dark\" id=\"gradation_dark\">Dark</option>\r\n                        </select>\r\n                    <label>Color Gradation of External Finish</label>\r\n                    </div>\r\n                    <div className=\"input-field col s6\">\r\n                    <select  required defaultValue={this.state.project.property} id=\"property\" ref=\"property\">\r\n                        <option value=\"\" >Property</option>\r\n                        <option name=\"property\" value=\"Private\" id=\"property_private\">Private</option>\r\n                        <option name=\"property\" value=\"Public\" id=\"property_public\">Public</option>\r\n                        </select>\r\n                    <label>property</label>\r\n                    </div>\r\n                    <div className=\"input-field col s12\">\r\n                        <input  id=\"buildingTaxonomy\" type=\"text\"  ref=\"buildingTaxonomy\" defaultValue={this.state.project.buildingTaxonomy}/>\r\n                        <label className=\"active\" htmlFor=\"buildingTaxonomy\">Building Taxonomy</label>\r\n                    </div>\r\n                    {saveButton}\r\n            </div>\r\n\r\n      }\r\n      var geometryInformation;\r\n      if(this.state.project){\r\n            geometryInformation =\r\n            <div className=\"section col s12 white z-depth-1\"  style={{marginTop:'2rem'}}>\r\n                <h5 className=\"rezbuild-text col s12\">Geometry</h5>\r\n                <div className=\"input-field col s6 m4\">\r\n                    <input  required id=\"floors\"  ref=\"floors\" type=\"number\" step=\"any\" defaultValue={this.state.project.floors} />\r\n                    <label  className=\"active\" htmlFor=\"floors\"> Number of floors (n°)</label>\r\n                </div>\r\n                <div className=\"input-field col s6 m4\">\r\n                    <input  required id=\"interFloorHeight\"  ref=\"interFloorHeight\" type=\"number\" step=\"any\" defaultValue={this.state.project.interFloorHeight}/>\r\n                    <label  className=\"active\" htmlFor=\"interFloorHeight\"> Clear inter-floor height (m)</label>\r\n                </div>\r\n                <div className=\"input-field col s6 m4\">\r\n                    <input  required id=\"floorNumber\"  ref=\"floorNumber\" type=\"number\" step=\"any\" defaultValue={this.state.project.floorNumber} />\r\n                    <label  className=\"active\" htmlFor=\"floorNumber\">Floor number (n°) (if apartment)</label>\r\n                </div>\r\n                <div className=\"input-field col s6 m4\">\r\n                    <input  required id=\"apartmentByFloor\"  ref=\"apartmentByFloor\" type=\"number\" step=\"any\" defaultValue={this.state.project.apartmentByFloor}/>\r\n                    <label  className=\"active\" htmlFor=\"apartmentByFloor\">Number of apartments per floor (n°) (if apartment)</label>\r\n                </div>\r\n                <div className=\"input-field col s6 m4\">\r\n                    <input  required id=\"totalFloorsBuilding\"  ref=\"totalFloorsBuilding\" type=\"number\" step=\"any\" defaultValue={this.state.project.totalFloorsBuilding}/>\r\n                    <label  className=\"active\" htmlFor=\"totalFloorsBuilding\">Total floors of the building (n°)</label>\r\n                </div>\r\n                <div className=\"input-field col s6 m4\">\r\n                    <input  required id=\"footprintBuilding\"  ref=\"footprintBuilding\" type=\"number\" step=\"any\" defaultValue={this.state.project.footprintBuilding}/>\r\n                    <label  className=\"active\" htmlFor=\"footprintBuilding\">Net footprint of building (m²)</label>\r\n                </div>\r\n                <div className=\"input-field col s6 m4\">\r\n                    <input  required id=\"totalUsefulSurface\"  ref=\"totalUsefulSurface\" type=\"number\" step=\"any\" defaultValue={this.state.project.totalUsefulSurface}/>\r\n                    <label  className=\"active\" htmlFor=\"totalUsefulSurface\">Total useful surface (m²)</label>\r\n                </div>\r\n                <h6 className=\"grey-text col s12\">Linear dimension divided by exposure</h6>\r\n                <div className=\"input-field col s2 m1\">\r\n                    <input  required id=\"linearDimensionN\"  ref=\"linearDimensionN\" type=\"number\" step=\"any\" defaultValue={this.state.project.linearDimensionN}/>\r\n                    <label  className=\"active\" htmlFor=\"linearDimensionN\">N (m)</label>\r\n                </div>\r\n                <div className=\"input-field col s2 m1\">\r\n                    <input  required id=\"linearDimensionNE\"  ref=\"linearDimensionNE\" type=\"number\" step=\"any\" defaultValue={this.state.project.linearDimensionNE}/>\r\n                    <label  className=\"active\" htmlFor=\"linearDimensionNE\">NE (m)</label>\r\n                </div>\r\n\r\n                <div className=\"input-field col s2 m1\">\r\n                    <input  required id=\"linearDimensionE\"  ref=\"linearDimensionE\" type=\"number\" step=\"any\" defaultValue={this.state.project.linearDimensionE}/>\r\n                    <label  className=\"active\" htmlFor=\"linearDimensionE\">E (m)</label>\r\n                </div>\r\n                <div className=\"input-field col s2 m1\">\r\n                    <input  required id=\"linearDimensionSE\"  ref=\"linearDimensionSE\" type=\"number\" step=\"any\" defaultValue={this.state.project.linearDimensionSE}/>\r\n                    <label  className=\"active\" htmlFor=\"linearDimensionSE\">SE (m)</label>\r\n                </div>\r\n                <div className=\"input-field col s2 m1\">\r\n                    <input  required id=\"linearDimensionS\"  ref=\"linearDimensionS\" type=\"number\" step=\"any\" defaultValue={this.state.project.linearDimensionS}/>\r\n                    <label  className=\"active\" htmlFor=\"linearDimensionS\">S (m)</label>\r\n                </div>\r\n                <div className=\"input-field col s2 m1\">\r\n                    <input  required id=\"linearDimensionSW\"  ref=\"linearDimensionSW\" type=\"number\" step=\"any\" defaultValue={this.state.project.linearDimensionSW}/>\r\n                    <label  className=\"active\" htmlFor=\"linearDimensionSW\">SW (m)</label>\r\n                </div>\r\n                <div className=\"input-field col s2 m1\">\r\n                    <input  required id=\"linearDimensionW\"  ref=\"linearDimensionW\" type=\"number\" step=\"any\" defaultValue={this.state.project.linearDimensionW}/>\r\n                    <label  className=\"active\" htmlFor=\"linearDimensionW\">W (m)</label>\r\n                </div>\r\n                <div className=\"input-field col s2 m1\">\r\n                    <input  required id=\"linearDimensionNW\"  ref=\"linearDimensionNW\" type=\"number\" step=\"any\" defaultValue={this.state.project.linearDimensionNW}/>\r\n                    <label  className=\"active\" htmlFor=\"linearDimensionNW\">NW (m)</label>\r\n                </div>\r\n\r\n                <div className=\"input-field col s12\">\r\n                <select  required defaultValue={this.state.project.floorAdjacent} id=\"floorAdjacent\" ref=\"floorAdjacent\">\r\n                    <option value=\"\" >Choose floor adjacent to the unheated room</option>\r\n                    <option name=\"floorAdjacent\" value=\"Ground\" id=\"floor_adjacent_ground\">Ground</option>\r\n                    <option name=\"floorAdjacent\" value=\"Cellar\" id=\"floor_adjacent_cellar\">Cellar/Garage</option>\r\n                    <option name=\"floorAdjacent\" value=\"External\" id=\"floor_adjacent_external\">External</option>\r\n                    <option name=\"floorAdjacent\" value=\"Land\" id=\"floor_adjacent_land\">Land/Cellar</option>\r\n                    <option name=\"floorAdjacent\" value=\"Outside\" id=\"floor_adjacent_outside\">Cellar/Outside</option>\r\n                    </select>\r\n                <label>Floor adjacent to the unheated room</label>\r\n                </div>\r\n                <div className=\"input-field col s12\">\r\n                <select  required defaultValue={this.state.project.ceilingAdjacent} id=\"ceilingAdjacent\" ref=\"ceilingAdjacent\">\r\n                    <option value=\"\" >Choose ceiling adjacent to the unheated room</option>\r\n                    <option name=\"ceilingAdjacent\" value=\"Attic\" id=\"ceiling_adjacent_attic\">Attic</option>\r\n                    <option name=\"ceilingAdjacent\" value=\"External\" id=\"ceiling_adjacent_external\">External</option>\r\n                    <option name=\"ceilingAdjacent\" value=\"AtticExternal\" id=\"ceiling_adjacent_attic_external\">Attic/External</option>\r\n                    </select>\r\n                <label>Ceiling adjacent to the unheated room</label>\r\n                </div>\r\n                <div className=\"input-field col s12\">\r\n                <select  required defaultValue={this.state.project.wallAdjacent} id=\"wallAdjacent\" ref=\"wallAdjacent\">\r\n                    <option value=\"\" >Choose walls adjacent to the unheated room</option>\r\n                    <option name=\"wallAdjacent\" value=\"Internal stairwell (only one facing)\" id=\"wall_adjacent_internal_one_face\">Internal stairwell (only one facing)</option>\r\n                    <option name=\"wallAdjacent\" value=\"Internal stairwell (no facing)\" id=\"wall_adjacent_internal_no_face\">Internal stairwell (no facing)</option>\r\n                    <option name=\"wallAdjacent\" value=\"External stairwell\" id=\"wall_adjacent_external\">External stairwell</option>\r\n                    <option name=\"wallAdjacent\" value=\"Other unheated rooms\" id=\"wall_adjacent_other\">Other unheated rooms</option>\r\n                    </select>\r\n                <label>Walls adjacent to the unheated room</label>\r\n                </div>\r\n                    {saveButton}\r\n            </div>\r\n      }\r\n      var envelopeInformation;\r\n      if(this.state.project){\r\n        envelopeInformation =\r\n        <div className=\"section col s12 white z-depth-1\"  style={{marginTop:'2rem'}}>\r\n                <h5 className=\"rezbuild-text col s12\">Envelope</h5>\r\n                <h6 className=\"grey-text col s12\">Number of windows wings</h6>\r\n                <div className=\"input-field col  s2 m1\">\r\n                    <input  required id=\"windowsN\"  ref=\"windowsN\" type=\"number\" step=\"any\" defaultValue={this.state.project.windowsN}/>\r\n                    <label  className=\"active\" htmlFor=\"windowsN\">N (n°)</label>\r\n                </div>\r\n                <div className=\"input-field col  s2 m1\">\r\n                    <input  required id=\"windowsNE\"  ref=\"windowsNE\" type=\"number\" step=\"any\" defaultValue={this.state.project.windowsNE}/>\r\n                    <label  className=\"active\" htmlFor=\"windowsNE\">NE (n°)</label>\r\n                </div>\r\n                <div className=\"input-field col  s2 m1\">\r\n                    <input  required id=\"windowsE\"  ref=\"windowsE\" type=\"number\" step=\"any\" defaultValue={this.state.project.windowsE}/>\r\n                    <label  className=\"active\" htmlFor=\"windowsE\">E (n°)</label>\r\n                </div>\r\n                <div className=\"input-field col  s2 m1\">\r\n                    <input  required id=\"windowsSE\"  ref=\"windowsSE\" type=\"number\" step=\"any\" defaultValue={this.state.project.windowsSE}/>\r\n                    <label  className=\"active\" htmlFor=\"windowsSE\">SE (n°)</label>\r\n                </div>\r\n                <div className=\"input-field col  s2 m1\">\r\n                    <input  required id=\"windowsS\"  ref=\"windowsS\" type=\"number\" step=\"any\" defaultValue={this.state.project.windowsS}/>\r\n                    <label  className=\"active\" htmlFor=\"windowsS\">S (n°)</label>\r\n                </div>\r\n                <div className=\"input-field col  s2 m1\">\r\n                    <input  required id=\"windowsSW\"  ref=\"windowsSW\" type=\"number\" step=\"any\" defaultValue={this.state.project.windowsSW}/>\r\n                    <label  className=\"active\" htmlFor=\"windowsSW\">SW (n°)</label>\r\n                </div>\r\n                <div className=\"input-field col  s2 m1\">\r\n                    <input  required id=\"windowsW\"  ref=\"windowsW\" type=\"number\" step=\"any\" defaultValue={this.state.project.windowsW}/>\r\n                    <label  className=\"active\" htmlFor=\"windowsW\">W (n°)</label>\r\n                </div>\r\n                <div className=\"input-field col  s2 m1\">\r\n                    <input  required id=\"windowsNW\"  ref=\"windowsNW\" type=\"number\" step=\"any\" defaultValue={this.state.project.windowsNW}/>\r\n                    <label  className=\"active\" htmlFor=\"windowsNW\">NW (n°)</label>\r\n                </div>\r\n\r\n                <h6 className=\"grey-text col s12\">Number of windows-door wings</h6>\r\n                <div className=\"input-field col  s2 m1\">\r\n                    <input  required id=\"windowsDoorN\"  ref=\"windowsDoorN\" type=\"number\" step=\"any\" defaultValue={this.state.project.windowsDoorN}/>\r\n                    <label  className=\"active\" htmlFor=\"windowsDoorN\">N (n°)</label>\r\n                </div>\r\n                <div className=\"input-field col  s2 m1\">\r\n                    <input  required id=\"windowsDoorNE\"  ref=\"windowsDoorNE\" type=\"number\" step=\"any\" defaultValue={this.state.project.windowsDoorNE}/>\r\n                    <label  className=\"active\" htmlFor=\"windowsDoorNE\">NE (n°)</label>\r\n                </div>\r\n                <div className=\"input-field col  s2 m1\">\r\n                    <input  required id=\"windowsDoorE\"  ref=\"windowsDoorE\" type=\"number\" step=\"any\" defaultValue={this.state.project.windowsDoorE}/>\r\n                    <label  className=\"active\" htmlFor=\"windowsDoorE\">E (n°)</label>\r\n                </div>\r\n                <div className=\"input-field col  s2 m1\">\r\n                    <input  required id=\"windowsDoorSE\"  ref=\"windowsDoorSE\" type=\"number\" step=\"any\" defaultValue={this.state.project.windowsDoorSE}/>\r\n                    <label  className=\"active\" htmlFor=\"windowsDoorSE\">SE (n°)</label>\r\n                </div>\r\n                <div className=\"input-field col  s2 m1\">\r\n                    <input  required id=\"windowsDoorS\"  ref=\"windowsDoorS\" type=\"number\" step=\"any\" defaultValue={this.state.project.windowsDoorS}/>\r\n                    <label  className=\"active\" htmlFor=\"windowsDoorS\">S (n°)</label>\r\n                </div>\r\n                <div className=\"input-field col  s2 m1\">\r\n                    <input  required id=\"windowsDoorSW\"  ref=\"windowsDoorSW\" type=\"number\" step=\"any\" defaultValue={this.state.project.windowsDoorSW}/>\r\n                    <label  className=\"active\" htmlFor=\"windowsDoorSW\">SW (n°)</label>\r\n                </div>\r\n                <div className=\"input-field col  s2 m1\">\r\n                    <input  required id=\"windowsDoorW\"  ref=\"windowsDoorW\" type=\"number\"defaultValue={this.state.project.windowsDoorW}/>\r\n                    <label  className=\"active\" htmlFor=\"windowsDoorW\">W (n°)</label>\r\n                </div>\r\n                <div className=\"input-field col  s2 m1\">\r\n                    <input  required id=\"windowsDoorNW\"  ref=\"windowsDoorNW\" type=\"number\" step=\"any\" defaultValue={this.state.project.windowsDoorNW}/>\r\n                    <label  className=\"active\" htmlFor=\"windowsDoorNW\">NW (n°)</label>\r\n                </div>\r\n                <div className=\"input-field col s12 m6\">\r\n                <select  required id=\"typeGlass\" ref=\"typeGlass\"  defaultValue={this.state.project.typeGlass}>\r\n                    <option value=\"\" >Choose a type of glass</option>\r\n                    <option name=\"typeGlass\" value=\"Single glass\" id=\"type_glass_single\">Single glass</option>\r\n                    <option name=\"typeGlass\" value=\"Double glazing\" id=\"type_glass_double\">Double glazing</option>\r\n                    <option name=\"typeGlass\" value=\"Low emission double glazing\" id=\"type_glass_low_emission_double\">Low emission double glazing</option>\r\n                    <option name=\"typeGlass\" value=\"Low emission double glazing\" id=\"type_glass_triple\">Triple glass</option>\r\n                    <option name=\"typeGlass\" value=\"Low emission double glazing\" id=\"type_glass_low_emission_triple\">Low emission triple glazing</option>\r\n                    </select>\r\n                <label>Type of glass</label>\r\n                </div>\r\n                <div className=\"input-field col s12 m6\">\r\n                <select  required  id=\"typeFrame\" ref=\"typeFrame\"  defaultValue={this.state.project.typeFrame}>\r\n                    <option value=\"\" >Choose a type of frame</option>\r\n                    <option name=\"typeFrame\" value=\"Wood\" id=\"type_frame_wood\">Wood</option>\r\n                    <option name=\"typeFrame\" value=\"PVC\" id=\"type_frame_pvc\">PVC</option>\r\n                    <option name=\"typeFrame\" value=\"Metal\" id=\"type_frame_metal\">Metal</option>\r\n                    <option name=\"typeFrame\" value=\"Miscellaneous\" id=\"type_frame_miscellaneous\">Miscellaneous</option>\r\n                    </select>\r\n                <label>Type of frame</label>\r\n                </div>\r\n                <div className=\"input-field col s12\">\r\n                    <p className=\"col s12 m6 s4\">\r\n                    <input  type=\"checkbox\" id=\"rollerShutterBoxes\" ref=\"rollerShutterBoxes\"   defaultChecked={this.state.project.rollerShutterBoxes}/>\r\n                    <label  htmlFor=\"rollerShutterBoxes\">Roller shutter boxes</label>\r\n                    </p>\r\n                    <p  className=\"col s12 m6 s4\">\r\n                    <input  type=\"checkbox\" id=\"externalShields\" ref=\"externalShields\" defaultChecked={this.state.project.externalShields}/>\r\n                    <label  htmlFor=\"externalShields\">External shields</label>\r\n                    </p>\r\n                    <p  className=\"col s12 m6 s4\">\r\n                    <input  type=\"checkbox\" id=\"presenceBalcony\" ref=\"presenceBalcony\" defaultChecked={this.state.project.presenceBalcony}/>\r\n                    <label  htmlFor=\"presenceBalcony\">Presence of balcony</label>\r\n                    </p>\r\n                </div>\r\n                {saveButton}\r\n            </div>\r\n      }\r\n      var projectInformation;\r\n      if(this.state.project){\r\n        projectInformation =\r\n        <div>\r\n            {/*<div className=\"col s12  white \">\r\n            <ul className=\"tabs\" id=\"projectInformation\">\r\n                <li className=\"tab col s2\"><a className=\"active\" href=\"#general\">General</a></li>\r\n                <li className=\"tab col s2\"><a href=\"#needs\">Needs</a></li>\r\n                <li className=\"tab col s2\"><a href=\"#building\">Building</a></li>\r\n                <li className=\"tab col s2\"><a href=\"#geometry\">Geometry</a></li>\r\n                <li className=\"tab col s2\"><a href=\"#wrap\">Wrap</a></li>\r\n            </ul>\r\n            </div>*/}\r\n            {generalInformation}\r\n            {needsInformation}\r\n            {buildingInformation}\r\n            {geometryInformation}\r\n            {envelopeInformation}\r\n            \r\n            {/*\r\n            <div className=\"row col s12\">\r\n                <div className=\"section col s12 white \">\r\n                    <h5 className=\"rezbuild-text\">Envelope</h5>\r\n                    <h6 className=\"grey-text\">Number of windows wings</h6>\r\n                    <div className=\"input-field col s12\">\r\n                        <input  required id=\"windowsN\"  ref=\"windowsN\" type=\"number\" step=\"any\" defaultValue={this.state.project.windowsN}/>\r\n                        <label  className=\"active\" htmlFor=\"windowsN\">N (n°)</label>\r\n                    </div>\r\n                    <div className=\"input-field col s12\">\r\n                        <input  required id=\"windowsNE\"  ref=\"windowsNE\" type=\"number\" step=\"any\" defaultValue={this.state.project.windowsNE}/>\r\n                        <label  className=\"active\" htmlFor=\"windowsNE\">NE (n°)</label>\r\n                    </div>\r\n                    <div className=\"input-field col s12\">\r\n                        <input  required id=\"windowsE\"  ref=\"windowsE\" type=\"number\" step=\"any\" defaultValue={this.state.project.windowsE}/>\r\n                        <label  className=\"active\" htmlFor=\"windowsE\">E (n°)</label>\r\n                    </div>\r\n                    <div className=\"input-field col s12\">\r\n                        <input  required id=\"windowsSE\"  ref=\"windowsSE\" type=\"number\" step=\"any\" defaultValue={this.state.project.windowsSE}/>\r\n                        <label  className=\"active\" htmlFor=\"windowsSE\">SE (n°)</label>\r\n                    </div>\r\n                    <div className=\"input-field col s12\">\r\n                        <input  required id=\"windowsS\"  ref=\"windowsS\" type=\"number\" step=\"any\" defaultValue={this.state.project.windowsS}/>\r\n                        <label  className=\"active\" htmlFor=\"windowsS\">S (n°)</label>\r\n                    </div>\r\n                    <div className=\"input-field col s12\">\r\n                        <input  required id=\"windowsSW\"  ref=\"windowsSW\" type=\"number\" step=\"any\" defaultValue={this.state.project.windowsSW}/>\r\n                        <label  className=\"active\" htmlFor=\"windowsSW\">SW (n°)</label>\r\n                    </div>\r\n                    <div className=\"input-field col s12\">\r\n                        <input  required id=\"windowsW\"  ref=\"windowsW\" type=\"number\" step=\"any\" defaultValue={this.state.project.windowsW}/>\r\n                        <label  className=\"active\" htmlFor=\"windowsW\">W (n°)</label>\r\n                    </div>\r\n                    <div className=\"input-field col s12\">\r\n                        <input  required id=\"windowsNW\"  ref=\"windowsNW\" type=\"number\" step=\"any\" defaultValue={this.state.project.windowsNW}/>\r\n                        <label  className=\"active\" htmlFor=\"windowsNW\">NW (n°)</label>\r\n                    </div>\r\n\r\n                    <h6 className=\"grey-text\">Number of windows-door wings</h6>\r\n                    <div className=\"input-field col s12\">\r\n                        <input  required id=\"windowsDoorN\"  ref=\"windowsDoorN\" type=\"number\" step=\"any\" defaultValue={this.state.project.windowsDoorN}/>\r\n                        <label  className=\"active\" htmlFor=\"windowsDoorN\">N (n°)</label>\r\n                    </div>\r\n                    <div className=\"input-field col s12\">\r\n                        <input  required id=\"windowsDoorNE\"  ref=\"windowsDoorNE\" type=\"number\" step=\"any\" defaultValue={this.state.project.windowsDoorNE}/>\r\n                        <label  className=\"active\" htmlFor=\"windowsDoorNE\">NE (n°)</label>\r\n                    </div>\r\n                    <div className=\"input-field col s12\">\r\n                        <input  required id=\"windowsDoorE\"  ref=\"windowsDoorE\" type=\"number\" step=\"any\" defaultValue={this.state.project.windowsDoorE}/>\r\n                        <label  className=\"active\" htmlFor=\"windowsDoorE\">E (n°)</label>\r\n                    </div>\r\n                    <div className=\"input-field col s12\">\r\n                        <input  required id=\"windowsDoorSE\"  ref=\"windowsDoorSE\" type=\"number\" step=\"any\" defaultValue={this.state.project.windowsDoorSE}/>\r\n                        <label  className=\"active\" htmlFor=\"windowsDoorSE\">SE (n°)</label>\r\n                    </div>\r\n                    <div className=\"input-field col s12\">\r\n                        <input  required id=\"windowsDoorS\"  ref=\"windowsDoorS\" type=\"number\" step=\"any\" defaultValue={this.state.project.windowsDoorS}/>\r\n                        <label  className=\"active\" htmlFor=\"windowsDoorS\">S (n°)</label>\r\n                    </div>\r\n                    <div className=\"input-field col s12\">\r\n                        <input  required id=\"windowsDoorSW\"  ref=\"windowsDoorSW\" type=\"number\" step=\"any\" defaultValue={this.state.project.windowsDoorSW}/>\r\n                        <label  className=\"active\" htmlFor=\"windowsDoorSW\">SW (n°)</label>\r\n                    </div>\r\n                    <div className=\"input-field col s12\">\r\n                        <input  required id=\"windowsDoorW\"  ref=\"windowsDoorW\" type=\"number\"defaultValue={this.state.project.windowsDoorW}/>\r\n                        <label  className=\"active\" htmlFor=\"windowsDoorW\">W (n°)</label>\r\n                    </div>\r\n                    <div className=\"input-field col s12\">\r\n                        <input  required id=\"windowsDoorNW\"  ref=\"windowsDoorNW\" type=\"number\" step=\"any\" defaultValue={this.state.project.windowsDoorNW}/>\r\n                        <label  className=\"active\" htmlFor=\"windowsDoorNW\">NW (n°)</label>\r\n                    </div>\r\n                    <div className=\"input-field col s12\">\r\n                    <select  required id=\"typeGlass\" ref=\"typeGlass\"  defaultValue={this.state.project.typeGlass}>\r\n                        <option value=\"\" >Choose a type of glass</option>\r\n                        <option name=\"typeGlass\" value=\"Single glass\" id=\"type_glass_single\">Single glass</option>\r\n                        <option name=\"typeGlass\" value=\"Double glazing\" id=\"type_glass_double\">Double glazing</option>\r\n                        <option name=\"typeGlass\" value=\"Low emission double glazing\" id=\"type_glass_low_emission_double\">Low emission double glazing</option>\r\n                        <option name=\"typeGlass\" value=\"Low emission double glazing\" id=\"type_glass_triple\">Triple glass</option>\r\n                        <option name=\"typeGlass\" value=\"Low emission double glazing\" id=\"type_glass_low_emission_triple\">Low emission triple glazing</option>\r\n                        </select>\r\n                    <label>Type of glass</label>\r\n                    </div>\r\n                    <div className=\"input-field col s12\">\r\n                    <select  required  id=\"typeFrame\" ref=\"typeFrame\"  defaultValue={this.state.project.typeFrame}>\r\n                        <option value=\"\" >Choose a type of frame</option>\r\n                        <option name=\"typeFrame\" value=\"Wood\" id=\"type_frame_wood\">Wood</option>\r\n                        <option name=\"typeFrame\" value=\"PVC\" id=\"type_frame_pvc\">PVC</option>\r\n                        <option name=\"typeFrame\" value=\"Metal\" id=\"type_frame_metal\">Metal</option>\r\n                        <option name=\"typeFrame\" value=\"Miscellaneous\" id=\"type_frame_miscellaneous\">Miscellaneous</option>\r\n                        </select>\r\n                    <label>Type of frame</label>\r\n                    </div>\r\n                    <div className=\"input-field col s12\">\r\n                        <p>\r\n                        <input  type=\"checkbox\" id=\"rollerShutterBoxes\" ref=\"rollerShutterBoxes\"   defaultChecked={this.state.project.rollerShutterBoxes}/>\r\n                        <label  htmlFor=\"rollerShutterBoxes\">Roller shutter boxes</label>\r\n                        </p>\r\n                    </div>\r\n                    <div className=\"input-field col s12\">\r\n                        <p>\r\n                        <input  type=\"checkbox\" id=\"externalShields\" ref=\"externalShields\" defaultChecked={this.state.project.externalShields}/>\r\n                        <label  htmlFor=\"externalShields\">External shields</label>\r\n                        </p>\r\n                    </div>\r\n                    <div className=\"input-field col s12\">\r\n                        <p>\r\n                        <input  type=\"checkbox\" id=\"presenceBalcony\" ref=\"presenceBalcony\" defaultChecked={this.state.project.presenceBalcony}/>\r\n                        <label  htmlFor=\"presenceBalcony\">Presence of balcony</label>\r\n                        </p>\r\n                    </div>\r\n                </div>\r\n            </div>*/}\r\n        </div>\r\n      }\r\n      return (\r\n        <form className=\"col s12\" onSubmit={this.submit} >\r\n        {projectInformation}\r\n        { this.state.pending ?\r\n        <div className=\"preloader-wrapper small active\">\r\n            <div className=\"spinner-layer\">\r\n            <div className=\"circle-clipper left\">\r\n                <div className=\"circle\"></div>\r\n            </div><div className=\"gap-patch\">\r\n                <div className=\"circle\"></div>\r\n            </div><div className=\"circle-clipper right\">\r\n                <div className=\"circle\"></div>\r\n            </div>\r\n            </div>\r\n        </div> : ''\r\n        }\r\n\r\n        { this.state.error ?\r\n        <div className=\"row\">\r\n            <div className=\"col s12\">\r\n                <h6 className='rezbuild-text'>{this.state.error}</h6>\r\n            </div>\r\n        </div> : ''\r\n        }\r\n        </form>\r\n    );\r\n  }\r\n}\r\n\r\nconst ProjectInformationComponent = props => (\r\n  <SocketContext.Consumer>\r\n  { (context) => <ProjectInformationCore {...props} socket={context.socket} uploader={context.uploader} />}\r\n  </SocketContext.Consumer>\r\n)\r\n\r\nexport default ProjectInformationComponent;\r\n","    \r\n/**\r\n * @class VersionComparator\r\n * @extends Component\r\n * @description Create the version comparator tool part of the dashboard\r\n */\r\nimport React, { Component } from 'react'\r\nimport SocketContext from '../../../SocketContext'\r\nimport ComputeVersion from '../ComputeVersion'\r\nimport { ParentSize } from '@vx/responsive'\r\nimport moment from 'moment'\r\nimport RadarRechartComponent from '../RadarRechart'\r\nimport ModelViewerComponent from '../ModelViewer'\r\nvar $ = window.$;\r\n\r\nvar MutationObserver = window.MutationObserver || window.WebKitMutationObserver || window.MozMutationObserver;\r\n    \r\n$.fn.attrchange = function(callback) {\r\n    if (MutationObserver) {\r\n        var options = {\r\n            subtree: false,\r\n            attributes: true\r\n        };\r\n\r\n        var observer = new MutationObserver(function(mutations) {\r\n            mutations.forEach(function(e) {\r\n                callback.call(e.target, e.attributeName);\r\n            });\r\n        });\r\n\r\n        return this.each(function() {\r\n            observer.observe(this, options);\r\n        });\r\n\r\n    }\r\n}\r\n\r\nclass VersionComparatorCore extends Component {\r\n    constructor(props){\r\n        super(props);\r\n\r\n        this.state = {\r\n            highlightedTask: null,\r\n            data: [],\r\n            categories: [],\r\n            series: [],\r\n            error: false,\r\n            pending: false};\r\n\r\n        this.compareVersions = this.compareVersions.bind(this);\r\n        this.highlightTask = this.highlightTask.bind(this);\r\n    }\r\n\r\n    \r\n    highlightTask(task){\r\n        this.setState({highlightedTask: task});\r\n\r\n    }\r\n\r\n    compareVersions() {\r\n        if(this.props.tasks \r\n            && this.props.tasks.length > 0 \r\n            && this.props.selectedTasks \r\n            && this.props.selectedTasks.length > 0){\r\n            this.setState({\r\n                data: ComputeVersion.computeScoreOfRelevantTask(this.props.tasks, ...this.props.selectedTasks)\r\n            });\r\n        }\r\n    }\r\n\r\n   componentWillMount(){\r\n    window.scrollTo(0, 0);\r\n   }\r\n\r\n   componentDidMount(){\r\n        this.compareVersions();\r\n        $('#carousel-version-comparator').carousel({noWrap:true});\r\n        $('.carousel-item').attrchange((attrName) => {\r\n            if(attrName === 'class'){\r\n                    let ans = $('.carousel-item.active');\r\n                    if(ans!==null && ans.length > 0){\r\n                        let taskToHighlight = this.props.selectedTasks.filter(selectedTask => \"carousel-item-\"+selectedTask._id === ans[0].id);\r\n                        if(taskToHighlight.length > 0) this.highlightTask(taskToHighlight[0]);\r\n                    }\r\n            }\r\n        });\r\n\r\n        $('.carousel-item').click((e) => {\r\n            let taskToHighlight = this.props.selectedTasks.filter(selectedTask => \"carousel-item-\"+selectedTask._id === e.currentTarget.id);\r\n            if(taskToHighlight.length > 0) this.highlightTask(taskToHighlight[0]);\r\n        });\r\n        $('#carousel-item-'+this.props.selectedTasks[this.props.selectedTasks.length-1]._id).click();\r\n        $('#carousel-version-comparator').carousel('set', this.props.selectedTasks.length-1);\r\n   }\r\n    componentDidUpdate(prevProps, prevState) {\r\n        if (prevProps.selectedTasks.length !== this.props.selectedTasks.length){\r\n            this.compareVersions();\r\n            $('#carousel-version-comparator').carousel({noWrap:true});\r\n            $('.carousel-item').attrchange((attrName) => {\r\n                if(attrName === 'class'){\r\n                        let ans = $('.carousel-item.active');\r\n                        if(ans!==null && ans.length > 0){\r\n                            let taskToHighlight = this.props.selectedTasks.filter(selectedTask => \"carousel-item-\"+selectedTask._id === ans[0].id);\r\n                            if(taskToHighlight.length > 0) this.highlightTask(taskToHighlight[0]);\r\n                        }\r\n                }\r\n            });\r\n\r\n            $('.carousel-item').click((e) => {\r\n            let taskToHighlight = this.props.selectedTasks.filter(selectedTask => \"carousel-item-\"+selectedTask._id === e.currentTarget.id);\r\n            if(taskToHighlight.length > 0) this.highlightTask(taskToHighlight[0]);\r\n            });\r\n            $('#carousel-item-'+this.props.selectedTasks[this.props.selectedTasks.length-1]._id).click();\r\n            $('#carousel-version-comparator').carousel('set', this.props.selectedTasks.length-1);\r\n        }\r\n    }\r\n\r\n    render(){\r\n        return (\r\n         <div className=\"section transparent white-text\" style={{paddingTop:0}}>\r\n             <div className= \"row\" style={{marginBottom:0}}>\r\n                        <div className=\"carousel col s7 transparent grey-text\" id=\"carousel-version-comparator\" key={'carousel-'+this.props.selectedTasks.length}>\r\n                            {\r\n                                this.props.selectedTasks.map(selectedTask => \r\n                                    <a className=\"carousel-item z-depth-1 white\" id={'carousel-item-'+selectedTask._id} key={'carousel-item-'+selectedTask._id} ref={'carousel-item-'+selectedTask._id} href={'#carousel-item-'+selectedTask._id}>\r\n                                        <div className=\"row\">\r\n                                            <div className=\"col s12 center rezbuild\">\r\n                                                <h6 className=\"white-text col s12\" style={{marginBottom:'0.1rem'}}>\r\n                                                    <b>{selectedTask.action}</b>\r\n                                                </h6>\r\n                                                <br/>\r\n                                                <h6 className=\"white-text col s12\" style={{fontSize:'10px', marginTop:'0.1rem'}}>\r\n                                                    {moment(selectedTask.date).format('LLL')}\r\n                                                </h6>\r\n                                            </div>\r\n                                            <div className='col s12 center white'>\r\n                                                <ModelViewerComponent modelTask={selectedTask} allowFullScreen={false}/>\r\n                                            </div>\r\n                                        </div>\r\n\r\n                                    </a>\r\n                                )\r\n                            }\r\n                     </div>\r\n                     <div className=\"col s5 transparent grey-text\">\r\n                         <div className='col s10 white push-s1 z-depth-1' > {/*style={{marginTop:'175px'}}>*/}\r\n                            <h6 className='col s12 center'>KPI CHART COMPARATOR</h6>\r\n                        {\r\n                            (this.state.data.length > 0)?\r\n                            this.state.data.map((datum, index) => \r\n                                <ParentSize key={index}>\r\n                                {\r\n                                    parent => (\r\n                                        <div>\r\n                                        <h6 className=\"rezbuild-text col s12 center-align\"  style={{padding:0}}>{datum.category} SCORE</h6>\r\n                                        <RadarRechartComponent \r\n                                            key={datum.category+'-'+new Date().getTime()}\r\n                                            highlightedTask = {this.state.highlightedTask} \r\n                                            data={datum.data}\r\n                                            parentWidth={parent.width}\r\n                                            parentTop={parent.top}\r\n                                            parentLeft={parent.left}\r\n                                            parentRef={parent.ref}\r\n                                            resizeParent={parent.resize}\r\n                                        />\r\n                                        </div>\r\n                                    )\r\n                                }\r\n                                </ParentSize>\r\n                                )\r\n                            : ''\r\n                            }\r\n                           {/* <ParentSize>\r\n                                {\r\n                                    parent => (\r\n                                        <RadarRechartComponent\r\n                                            key={'radar-rechart-'+new Date().getTime()}\r\n                                            highlightedTask = {this.state.highlightedTask}\r\n                                            data={this.state.data}\r\n                                            parentWidth={parent.width}\r\n                                            parentHeight={parent.height}\r\n                                            parentTop={parent.top}\r\n                                            parentLeft={parent.left}\r\n                                            parentRef={parent.ref}\r\n                                            resizeParent={parent.resize}\r\n                                        />\r\n                                    )\r\n                                }\r\n                            </ParentSize> */}\r\n                        </div>\r\n                     </div>\r\n             </div>\r\n         </div>\r\n        );\r\n    }\r\n}\r\n\r\nconst VersionComparatorComponent = props => (\r\n    <SocketContext.Consumer>\r\n    { (context) => <VersionComparatorCore {...props} host={context.host} socket={context.socket} uploader={context.uploader} />}\r\n    </SocketContext.Consumer>\r\n  )\r\n  export default VersionComparatorComponent;","/**\r\n * @class Dashboard\r\n * @extends Component\r\n * @description Create the dashboard part of the project page\r\n */\r\nimport React, { Component } from 'react'\r\nimport TrelloComponent from './trello'\r\nimport FileExplorerComponent from './fileExplorer'\r\nimport GraphComponent from './graph'\r\nimport TeamComponent from './team'\r\nimport ProjectInformationComponent from './projectInformation'\r\nimport SocketContext from '../../SocketContext'\r\nimport VersionComparatorComponent from './VersionComparator'\r\n\r\nvar $ = window.$\r\n\r\nclass DashboardCore extends Component {\r\n\r\n  constructor(props){\r\n    super(props);\r\n    this.state = {compareMode: false, selectedTasks: [], tasks: [], users: [], user:[], error: false, pending: false};\r\n    this.setTask = this.setTask.bind(this);\r\n    this.addTask = this.addTask.bind(this);\r\n    this.removeTask = this.removeTask.bind(this);\r\n    this.fetchTasks = this.fetchTasks.bind(this);\r\n    this.fetchUsers = this.fetchUsers.bind(this);\r\n    this.fetchUser = this.fetchUser.bind(this);\r\n    this.toggleCompareMode = this.toggleCompareMode.bind(this);\r\n    this.update = this.update.bind(this);\r\n  }\r\n\r\n  toggleCompareMode(){\r\n    this.setState({compareMode:!this.state.compareMode});\r\n  }\r\n\r\n   // Fetch tasks of the project\r\n  fetchTasks(){\r\n    var filter = {project: this.props.project._id}\r\n    this.props.socket.emit('/api/task/get', filter, res => {\r\n        if(res.tasks) {\r\n            this.setState({tasks: res.tasks, selectedTasks: [], error : false})\r\n        }\r\n        if (res.error) {\r\n            this.setState({tasks: [], error:res.error});\r\n        }\r\n    });\r\n  }\r\n\r\n   // Fetch the user\r\n  fetchUser(){\r\n    var filter = { _id : \"token\" }\r\n    this.props.socket.emit('/api/user/get', filter, res => {\r\n        if (res.users) {\r\n            this.setState({user : res.users[0], error : false})\r\n        }\r\n        else {\r\n            if(res.error){\r\n                this.setState({user : null, error : res.error})\r\n\r\n            } else {\r\n                this.setState({user : null, error : false})\r\n            }\r\n        }\r\n    });\r\n  }\r\n\r\n   // Fetch the users of the project\r\n  fetchUsers(){\r\n    var filter = {_id: this.props.project._id }\r\n    this.props.socket.emit('/api/project/get', filter, res => {\r\n        if(res.projects){\r\n            var filter = {_id: { \"$in\" : res.projects[0].users}}\r\n            this.props.socket.emit('/api/user/get', filter, res => {\r\n                if(res.users){\r\n                    this.setState({users : res.users, error : false})\r\n                }\r\n                if(res.error){\r\n                    this.setState({users : [], error:res.error});\r\n                }\r\n            });\r\n        }\r\n        if(res.error){\r\n            this.setState({users : [], error:res.error});\r\n        }\r\n    });\r\n  }\r\n\r\n  update(){\r\n    this.fetchTasks()\r\n    this.fetchUsers()\r\n    this.fetchUser()\r\n  }\r\n\r\n  setTask(task){\r\n    if(task) this.setState({selectedTasks: [task]})\r\n    else this.setState({selectedTasks: []})\r\n  }\r\n\r\n  addTask(task){\r\n    this.setState({selectedTasks: this.state.selectedTasks.concat([task])});\r\n  }\r\n  removeTask(task){\r\n    this.setState({selectedTasks: this.state.selectedTasks.filter( selectedTask => selectedTask._id !== task._id)});\r\n  }\r\n\r\n  componentDidMount(){\r\n    $(document).ready(function(){\r\n      $('.tabs').tabs();\r\n      $('.tooltipped').tooltip({delay:0, html:true});\r\n    });\r\n    this.update()\r\n    this.props.socket.on('/api/task/done', () =>   this.fetchTasks());\r\n    this.props.socket.on('/api/user/done', () =>   this.fetchUsers() && this.fetchUser());\r\n  }\r\n  componentWillUnmount(){\r\n    $('.tooltipped').tooltip('remove');\r\n  }\r\n  \r\n\r\n  render() {\r\n    let loaderComponent =  <div className=\"preloader-wrapper small active\">\r\n                              <div className=\"spinner-layer\">\r\n                                <div className=\"circle-clipper left\">\r\n                                  <div className=\"circle\"></div>\r\n                                </div><div className=\"gap-patch\">\r\n                                  <div className=\"circle\"></div>\r\n                                </div><div className=\"circle-clipper right\">\r\n                                  <div className=\"circle\"></div>\r\n                                </div>\r\n                              </div>\r\n                            </div>\r\n        return  (\r\n           <div>\r\n           <div className=\"row\">\r\n                    <div className=\"col s12 white\">\r\n                      <ul className=\"tabs\">\r\n                        <li className=\"tab col s2 tooltipped\" data-position=\"top\" data-tooltip=\"Manage project tasks, versions and files\"><a className=\"active\" href=\"#tab_board\">Workspace</a></li>\r\n                        <li className=\"tab col s2 tooltipped\" data-position=\"top\" data-tooltip=\"Make use of project tools\"><a href=\"#tab_tools\">Tools</a></li>\r\n                        <li className=\"tab col s2 tooltipped\" data-position=\"top\" data-tooltip=\"Invite and communicate with collaborators\"><a href=\"#tab_team\">Team</a></li>\r\n                        <li className=\"tab col s3 tooltipped\" data-position=\"top\" data-tooltip=\"Update general and specific information\"><a href=\"#tab_project\">Project Information</a></li>\r\n                      </ul>\r\n                    </div>\r\n           </div>\r\n\r\n           <div id=\"tab_board\" className=\"col s12\">\r\n             <div className=\"section\"  style={{marginLeft:'2%', marginRight:'2%', paddingBottom:0, paddingTop:0, marginTop:'1rem'}}>\r\n                 <div className=\"row transparent\"  style={{marginBottom:0}}>\r\n                      <div className=\"col s12 transparent\">\r\n                                <h5 className=\"rezbuild-text   tooltipped\" data-position=\"top\" data-tooltip=\"Click on a node to select a version of the project\"> Navigation </h5>\r\n                                {\r\n                                  (this.state.tasks.length > 0) ?\r\n                                    <div className='col s12'>\r\n                                      <div className=\"switch\">\r\n                                        <label>\r\n                                          TASK MODE\r\n                                          <input type=\"checkbox\"\r\n                                          checked={this.state.compareMode}\r\n                                          ref=\"compareMode\"\r\n                                          onChange={() => this.toggleCompareMode()}\r\n                                          />\r\n                                          <span className=\"lever\"/>\r\n                                          COMPARE MODE\r\n                                        </label>\r\n                                      </div>\r\n                                    </div>\r\n                                    :''\r\n                                }\r\n\r\n                                <div className=\"section\" style={{paddingBottom:0, width:'100%', overflowX: 'auto', whiteSpace: 'nowrap'}}>\r\n                                  { this.state.tasks.length > 0 && this.state.users.length > 0  ?\r\n                                    <GraphComponent\r\n                                      tasks={this.state.tasks}\r\n                                      selectedTasks={this.state.selectedTasks}\r\n                                      setTask={this.setTask}\r\n                                      addTask={this.addTask}\r\n                                      removeTask={this.removeTask}\r\n                                      compareMode={this.state.compareMode}\r\n                                    />\r\n                                   : loaderComponent}\r\n                                 </div>\r\n                      </div>\r\n                 </div>\r\n                {!this.state.compareMode ?\r\n                  ((this.state.tasks.length > 0 && this.state.selectedTasks.length > 0 && this.state.user!==null)?\r\n                  <div className=\"section\" style={{marginLeft:'2%', marginRight:'2%', paddingTop:'0.2rem'}}>\r\n                      <div className='row'>\r\n                        <div className=\"col l12 m12 s12 transparent\">\r\n                            {/*<h5 className=\"rezbuild-text  tooltipped\" data-position=\"top\" data-tooltip=\"Explore the BIM models and KPI data of this version of the project\">Version</h5>  */}\r\n                            <div className=\"section\">\r\n                                  <FileExplorerComponent\r\n                                    project = {this.props.project}\r\n                                    user = {this.props.user}\r\n                                    tasks = {this.state.tasks}\r\n                                    //selectedTasks={this.state.selectedTasks}\r\n                                    task = {this.state.selectedTasks[0]}\r\n                                    setTask={this.setTask}\r\n                                    addTask={this.addTask}\r\n                                    removeTask={this.removeTask}\r\n                                    />\r\n                            </div>\r\n                        </div>\r\n                      </div>\r\n                    </div> : '')\r\n                  :\r\n                  ((this.state.tasks.length > 0 && this.state.selectedTasks.length > 0 && this.state.user!==null)?\r\n                  <div className=\"section\" style={{marginLeft:'2%', marginRight:'2%', paddingTop:'0.2rem'}}>\r\n                      <div className='row'>\r\n                        <div className=\"col l12 m12 s12 transparent\">\r\n                            {\r\n                              <div className=\"section\">\r\n                                  <VersionComparatorComponent\r\n                                  project = {this.props.project}\r\n                                  user = {this.props.user}\r\n                                  tasks = {this.state.tasks}\r\n                                  selectedTasks={this.state.selectedTasks}\r\n                                  setTask={this.setTask}\r\n                                  addTask={this.addTask}\r\n                                  removeTask={this.removeTask}\r\n                                  />\r\n                            </div>\r\n                            }\r\n                        </div>\r\n                      </div>\r\n                      </div>:'')\r\n                  }\r\n             </div>\r\n              <div className=\"section\" style={{display:this.state.compareMode?'none':'block', marginLeft:'2%', marginRight:'2%', paddingTop:'0.2rem'}}>\r\n                <div className='row'>\r\n                  <div className=\"col l12 m12 s12 transparent\">\r\n                                  <h5 className=\"rezbuild-text   tooltipped\" data-position=\"top\" data-tooltip=\"Drag-And-Drop cards to assign or perform tasks at this version of the project\">Tasks</h5>\r\n                                  <div className=\"section\">\r\n                                    { (this.state.tasks.length > 0 && this.state.users.length > 0 && this.state.user) ?\r\n                                      <TrelloComponent\r\n                                        project = {this.props.project}\r\n                                        users = {this.state.users}\r\n                                        user={this.state.user}\r\n                                        tasks = {this.state.tasks}\r\n                                        // selectedTasks={this.state.selectedTasks}\r\n                                        task = {this.state.selectedTasks[0]}\r\n                                        setTask={this.setTask}\r\n                                        addTask={this.addTask}\r\n                                        removeTask={this.removeTask}\r\n                                        />\r\n                                        : loaderComponent\r\n                                      }\r\n                                  </div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n           </div>\r\n          <div id=\"tab_tools\" className=\"col s12\">\r\n            <div className=\"section\"  style={{marginLeft:'2%', marginRight:'2%', paddingBottom:0, paddingTop:'0.2rem'}}>\r\n                <div className=\"row transparent\"  style={{marginBottom:0}}>\r\n                    <div className=\"col s12 transparent\">\r\n                            <div className=\"section\" style={{height:'250px', paddingBottom:0}}>\r\n                              <div className=\"col s12 m6\">\r\n                                <div className=\"card white\">\r\n                                  <div className=\"card-content black-text\">\r\n                                    <span className=\"card-title rezbuild-text\">OpenBimLibraryTool</span>\r\n                                    <p>Description of OpenBimLibraryTool...</p>\r\n                                  </div>\r\n                                  <div className=\"card-action\">\r\n                                    <a className=\"btn waves-effect waves-light rezbuild white-text\" target=\"_blank\" rel=\"noopener noreferrer\" href=\"/technologies\">OPEN IN NEW TAB <i className=\"material-icons right\">open_in_new</i></a>\r\n                                  </div>\r\n                                </div>\r\n                              </div>\r\n                              <div className=\"col s12 m6\">\r\n                                <div className=\"card white\">\r\n                                  <div className=\"card-content black-text\">\r\n                                    <span className=\"card-title rezbuild-text\">RankingTechnologyTool</span>\r\n                                    <p>Description of RankingTechnologyTool...</p>\r\n                                  </div>\r\n                                  <div className=\"card-action\">\r\n                                    <a className=\"btn waves-effect waves-light rezbuild white-text\" target=\"_blank\" rel=\"noopener noreferrer\" href=\"http://rezbuild-sorter.herokuapp.com\">OPEN IN NEW TAB <i className=\"material-icons right\">open_in_new</i></a>\r\n                                  </div>\r\n                                </div>\r\n                              </div>\r\n                            </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n          </div>\r\n           <div id=\"tab_team\" className=\"col s12\">\r\n             <div className=\"section\"  style={{marginLeft:'2%', marginRight:'2%', paddingBottom:0, paddingTop:'0.2rem'}}>\r\n                 <div className=\"row transparent\">\r\n                      <div className=\"col s12 transparent\">\r\n                             <div className=\"section\">\r\n                                <TeamComponent project={this.props.project} params={this.props.params}/>\r\n                             </div>\r\n                      </div>\r\n                 </div>\r\n              </div>\r\n           </div>\r\n          <div id=\"tab_project\" className=\"col s12\">\r\n            <div className=\"section\"  style={{marginLeft:'2%', marginRight:'2%', paddingBottom:0, paddingTop:'0.2rem'}}>\r\n                <div className=\"row transparent\">\r\n                    <div className=\"col s12 transparent\">\r\n                            <div className=\"section\">\r\n                              <ProjectInformationComponent  project={this.props.project} params={this.props.params}/>\r\n                            </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n          </div>\r\n         </div>\r\n        );\r\n    }\r\n}\r\n\r\nconst DashboardComponent = props => (\r\n  <SocketContext.Consumer>\r\n  { (context) => <DashboardCore {...props} socket={context.socket} uploader={context.uploader} />}\r\n  </SocketContext.Consumer>\r\n)\r\n\r\nexport default DashboardComponent;","/**\r\n * @class Project\r\n * @extends Component\r\n * @description Create the project page\r\n */\r\nimport React, { Component } from 'react'\r\nimport SocketContext from '../SocketContext'\r\nimport NavbarComponent from '../navbar'\r\nimport DashboardComponent from './dashboard'\r\nimport {browserHistory} from 'react-router'\r\n\r\nclass ProjectCore extends Component {\r\n\r\n  constructor(props){\r\n    super(props);\r\n    this.state = {project : null, error : false, pending : false}\r\n  }\r\n\r\n   // Fetch the project\r\n  componentDidMount(){\r\n    this.setState({project: null, error : false, pending : false}, () => {\r\n        var filter = { _id: this.props.params._id }\r\n        this.props.socket.emit('/api/project/get', filter, res => {\r\n            if(res.projects){\r\n                this.setState({project : res.projects[0], error : false, pending : false})\r\n            }\r\n            if(res.error){\r\n                this.setState({project : null, error : res.error, pending : false}, () => {\r\n                    browserHistory.push('/')\r\n                });\r\n            }\r\n        });\r\n    })\r\n  }\r\n\r\n  render() {\r\n        return  (\r\n        <div>\r\n            {(this.state.project) ? <NavbarComponent path={['Projects', this.state.project.name]}/> : ''}\r\n            {(this.state.project) ? <DashboardComponent project={this.state.project} params={this.props.params} />  : ''}\r\n         </div>\r\n        );\r\n    }\r\n}\r\n\r\nconst ProjectComponent = props => (\r\n  <SocketContext.Consumer>\r\n  { (context) => <ProjectCore {...props} socket={context.socket} uploader={context.uploader} />}\r\n  </SocketContext.Consumer>\r\n)\r\n\r\nexport default ProjectComponent\r\n","/**\r\n * @class TechnologyLibrary\r\n * @extends Component\r\n * @description Create the technology library page\r\n */\r\nimport React, { Component } from 'react'\r\nimport SocketContext from '../SocketContext'\r\nimport Select from 'react-select'\r\nvar $ = window.$;\r\n\r\nconst customStyles = {\r\n    option: (provided, state) => ({\r\n      ...provided,\r\n      color: state.isSelected ? 'white' : 'black',\r\n      backgroundColor: state.isSelected ? '#f7931e' : 'white'\r\n    }),\r\n    control: (provided, state) => ({\r\n      ...provided,\r\n      marginTop: 0,\r\n      border: '4px solid #f7931e',\r\n      borderRadius: 0,\r\n      boxShadow: 'none',\r\n      '&:hover': {\r\n          border: '4px solid #f7931e',\r\n          borderRadius: 0,\r\n      }\r\n    }),\r\n    multiValue: (styles, { data }) => {\r\n        return {\r\n          ...styles,\r\n          backgroundColor: '#f7931e',\r\n        };\r\n      },\r\n      multiValueLabel: (styles, { data }) => ({\r\n        ...styles,\r\n        backgroundColor: '#f7931e',\r\n        color: 'white'\r\n      }),\r\n      multiValueRemove: (styles, { data }) => ({\r\n        ...styles,\r\n          backgroundColor: '#f7931e',\r\n          color: 'white',\r\n        ':hover': {\r\n          backgroundColor: '#f7931e',\r\n          color: 'white',\r\n        },\r\n      }),\r\n  }\r\n\r\nclass TechnologyLibraryCore extends Component {\r\n\r\n  constructor(props){\r\n      super(props);\r\n      this.state = {technologies:[], selectedCategories: []};\r\n      this.fetch = this.fetch.bind(this);\r\n      this.handleChange = this.handleChange.bind(this);\r\n  }\r\n\r\n  handleChange(selectedCategories){\r\n    this.setState({selectedCategories:selectedCategories?selectedCategories:[]});\r\n  }\r\n  \r\n  fetch(){\r\n     var technologies = [\r\n        {category: 'INSULATION', family: 'Air Tighness', company: 'PLACO', name:'Air Tightness Gypsum'},\r\n        {category: 'INSULATION', family: 'Aerogel',  company: 'PLACO', name:'Insulating Gypsum'},\r\n        {category: 'INSULATION', family: 'Placotherm',  company: 'PLACO', name:'Ventilated Facade Placotherm'},\r\n        {category: 'HVAC', family: 'Radiant Floor', company: 'EXPLODED View', name:'HP Radiant Floor Pactherm'},\r\n        {category: 'HVAC', family: 'Heat Pump', company: 'UNOTT', name:'Solar Assisted Heat Pump'},\r\n        {category: 'RENEWABLES', family: 'Photovoltaic Panels', company: 'ONYX', name:'Amorphous Silicon PV Glass'},\r\n        {category: 'RENEWABLES', family: 'Photovoltaic Panels', company: 'ONYX', name:'Christalline PV Glass'},\r\n        {category: 'FACADE', family: 'Additive Manufacturing', company: 'VIAS', name:'3D Printing Facade'},\r\n        {category: 'BEMS', family: 'Advanced BEMS', company: 'MAETRICS', name:'SmartBox'}\r\n    ]\r\n\r\n    var allCategories =  [...new Set(technologies.map(item => item.category))]\r\n    .map(category => {\r\n        return { value: category, label: category }\r\n    });\r\n    this.setState({\r\n        technologies:technologies, selectedCategories:allCategories\r\n    })\r\n  }\r\n\r\n  componentDidMount() {\r\n      this.fetch();\r\n      $(document).ready(function() {\r\n        $('select').material_select();\r\n      });\r\n  }\r\n\r\n\r\n\r\n\r\n  render() {\r\n    var allCategories =  [...new Set(this.state.technologies.map(item => item.category))]\r\n    .map(category => {\r\n        return { value: category, label: category }\r\n    });\r\n    return (\r\n    <div className=\"row\" style={{paddingTop:'8vh'}}>\r\n          <div className=\"col push-s1 s10 center transparent\" style={{padding:'0rem'}}>\r\n              <div className=\"col s12 center white\">\r\n                <div className=\"col s12 rezbuild\">\r\n                <img src=\"/img/jpg/logo.jpg\" alt='logo' style={{maxHeight:'4rem'}} />\r\n                </div>\r\n                    <Select\r\n                    styles={customStyles}\r\n                    options={allCategories}\r\n                    value={this.state.selectedCategories}\r\n                    onChange={this.handleChange}\r\n                    isMulti\r\n                    />\r\n              </div>\r\n              <div className=\"col s12\" style={{padding:'0.5rem'}}>\r\n                  {\r\n                      this.state.technologies.filter(item => \r\n                        this.state.selectedCategories.filter(category => category.value === item.category).length\r\n                      )\r\n                      .map(item => \r\n                        <div key={item.name} className=\"col s12 m6 l4\" style={{padding:'0.5rem'}}>\r\n                            <div className=\"col s12  z-depth-1\"  style={{padding:0}}>\r\n                                <div className=\"col s12 white rezbuild-text\">\r\n                                    <h6>\r\n                                        <b>{item.name}</b>\r\n                                     </h6>\r\n                                    <h6>{item.company}\r\n                                    </h6>\r\n                                    <span className=\"new badge left \" data-badge-caption=\"\" style={{borderRadius:0, marginLeft:0}}>{item.category}</span>\r\n                                    <span className=\"new badge left rezbuild-text white\" style={{marginLeft:0, borderStyle: 'solid', borderRadius:0, lineHeight:'16px'}} data-badge-caption=\"\"><b>{item.family}</b></span>\r\n                                </div>\r\n                                <div className='col s12 center white'>\r\n                                    <img className=\"responsive-img\"\r\n                                    alt={\"img/jpg/\" + item.company.split(' ').join('') + '-'+item.name.split(' ').join('') + '.jpg'}\r\n                                    src={\"img/jpg/\" + item.company.split(' ').join('') + '-'+item.name.split(' ').join('') + '.jpg' }\r\n                                    />\r\n                                </div>\r\n                                <div className=\"col s12  white\" style={{paddingBottom:'1rem'}}>\r\n                                    <a className=\"waves-effect waves-light btn white-text tooltipped\"\r\n                                    href={window.location.protocol + \"//\" + this.props.host + \"/zip/\"+ item.company.split(' ').join('') + '-'+item.name.split(' ').join('') + '.zip'}>  \r\n                                    <i className=\"material-icons white-text left\">cloud_download</i>Download</a>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                        )\r\n                  }\r\n             </div>\r\n          </div>\r\n    </div>\r\n    );\r\n }\r\n}\r\n\r\n\r\nconst TechnologyLibraryComponent = props => (\r\n    <SocketContext.Consumer>\r\n    { (context) => <TechnologyLibraryCore {...props} host={context.host} socket={context.socket} uploader={context.uploader} />}\r\n    </SocketContext.Consumer>\r\n  )\r\n  export default TechnologyLibraryComponent;","// App.js\r\n\r\nimport React, { Component } from 'react';\r\nimport {Route, Router, browserHistory} from 'react-router'\r\nimport SigninForm from './signin'\r\nimport SignupForm from './signup'\r\nimport RezbuildComponent from './home'\r\nimport ProjectComponent from './project'\r\nimport TechnologyLibraryComponent from './technologyLibrary'\r\nimport io from 'socket.io-client';\r\nimport SocketIOFileUpload  from 'socketio-file-upload'\r\nimport SocketContext from './SocketContext'\r\n\r\n/**\r\n * @class App\r\n * @extends Component\r\n * @description Create the routes of the REZBUILD application\r\n */\r\nclass App extends Component {\r\n\r\n  constructor(props){\r\n    super(props);\r\n    let {host} = window.location\r\n    if(host.indexOf(':') !== -1){\r\n        host = host.replace('3000','3001')\r\n    } else {\r\n        host = host.replace('app','api')\r\n    }\r\n    var socket = io(host)\r\n    var uploader = new SocketIOFileUpload(socket);\r\n    this.state = {host, socket, uploader}\r\n  }\r\n\r\n  render() {\r\n    return (\r\n        <div>\r\n        <div style={\r\n         {position:'fixed',\r\n          top:0,\r\n          bottom:0,\r\n          zIndex:-1,\r\n          minHeight: '100%',\r\n          minWidth: '1024px',\r\n          width:'100%',\r\n          height:'auto',\r\n          background: \"url('/img/png/background.png') no-repeat center center fixed\",\r\n          opacity:0.2,\r\n          backgroundSize:\"cover\"}}>\r\n        </div>\r\n         <SocketContext.Provider value={this.state}>\r\n            <Router history={browserHistory}>\r\n                    <Route path ='/' component={RezbuildComponent} />\r\n                    <Route path='/signin' component={SigninForm} />\r\n                    <Route path='/signup' component={SignupForm} />\r\n                    <Route path='/technologies' component={TechnologyLibraryComponent} />\r\n                    <Route path='/:_id' component={ProjectComponent} />\r\n                    <Route path='/:_id/signin' component={SigninForm} />\r\n                    <Route path='/:_id/signup' component={SignupForm} />\r\n            </Router>\r\n         </SocketContext.Provider>\r\n       </div>\r\n    );\r\n  }\r\n}\r\nexport default App;","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './App';\r\n\r\nimport registerServiceWorker from './registerServiceWorker';\r\n\r\nReactDOM.render(<App />, document.getElementById('root'));\r\n\r\nregisterServiceWorker();\r\n","// In production, we register a service worker to serve assets from local cache.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on the \"N+1\" visit to a page, since previously\r\n// cached resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model, read https://goo.gl/KwvDNy.\r\n// This link also includes instructions on opting out of this behavior.\r\n\r\nexport default function register() {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n      navigator.serviceWorker\r\n        .register(swUrl)\r\n        .then(registration => {\r\n          registration.onupdatefound = () => {\r\n            const installingWorker = registration.installing;\r\n            installingWorker.onstatechange = () => {\r\n              if (installingWorker.state === 'installed') {\r\n                if (navigator.serviceWorker.controller) {\r\n                  // At this point, the old content will have been purged and\r\n                  // the fresh content will have been added to the cache.\r\n                  // It's the perfect time to display a \"New content is\r\n                  // available; please refresh.\" message in your web app.\r\n                  console.log('New content is available; please refresh.');\r\n                } else {\r\n                  // At this point, everything has been precached.\r\n                  // It's the perfect time to display a\r\n                  // \"Content is cached for offline use.\" message.\r\n                  console.log('Content is cached for offline use.');\r\n                }\r\n              }\r\n            };\r\n          };\r\n        })\r\n        .catch(error => {\r\n          console.error('Error during service worker registration:', error);\r\n        });\r\n    });\r\n  }\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready.then(registration => {\r\n      registration.unregister();\r\n    });\r\n  }\r\n}\r\n"],"sourceRoot":""}